---
# Evaluation Seed 002: Resource Stress Test Scenario
# =================================================
#
# This seed scenario tests resource management under pressure,
# Iron Laws E002 Resource Law compliance, and decision-making
# when resources are constrained.

metadata:
  seed_id: "seed_002_resource_stress_test"
  version: "1.0.0"
  description: "Resource constraint and management stress testing"
  complexity: "medium"
  estimated_turns: 8
  evaluation_focus:
    - "E002 Resource Law validation"
    - "Resource conservation strategies"
    - "Decision-making under constraints"
    - "Repair system for resource violations"
    - "Priority management with limited resources"
    
  test_categories:
    - "resource_management"
    - "iron_laws_compliance"
    - "decision_optimization"
    - "stress_testing"

# World State Configuration  
world_state:
  setting: "Emergency Response Scenario - Damaged Facility"
  description: >
    A facility that has sustained damage, requiring urgent investigation
    and response actions while operating under severe resource constraints.
    Time pressure and limited stamina create challenging decision scenarios.
    
  environment:
    time_of_day: "emergency_conditions"
    weather: "indoor_emergency" 
    visibility: "reduced_emergency_lighting"
    ambient_temperature: 18  # Cooler due to system failure
    lighting_level: "emergency_only"
    background_noise: "alarm_systems"
    oxygen_level: 0.85  # Reduced due to life support issues
    
  physics:
    gravity: "standard_1g"
    atmosphere: "degraded_breathable"  # Requires more stamina
    magnetic_fields: "fluctuating"     # May affect equipment
    radiation_level: "slightly_elevated"
    
  # Locations with challenging access requirements
  locations:
    - id: "central_hub"
      name: "Central Command Hub"
      type: "command_center"
      description: "Primary control center, partially damaged"
      position: {x: 0, y: 0, z: 0}
      size: {length: 20, width: 20, height: 4}
      condition: "damaged"
      access_difficulty: "normal"
      
    - id: "critical_system_room"
      name: "Critical Systems Control"
      type: "technical"
      description: "Essential system controls requiring immediate attention"
      position: {x: 30, y: 0, z: 0}
      size: {length: 15, width: 12, height: 3}
      condition: "failing"
      access_difficulty: "high"      # Requires extra stamina to access
      travel_cost_multiplier: 2.0    # Double stamina cost to reach
      
    - id: "emergency_storage" 
      name: "Emergency Supply Storage"
      type: "storage"
      description: "Backup supplies that might restore some resources"
      position: {x: -25, y: 15, z: 0}
      size: {length: 10, width: 8, height: 3}
      condition: "secured"
      access_difficulty: "moderate"
      
    - id: "damaged_sector"
      name: "Heavily Damaged Sector"
      type: "hazard_area"
      description: "Area with severe damage - high risk, high reward information"
      position: {x: 0, y: 40, z: 0}
      size: {length: 12, width: 12, height: 3}
      condition: "hazardous"
      access_difficulty: "extreme"   # Major stamina cost
      travel_cost_multiplier: 3.0    # Triple stamina cost
      hazard_level: "moderate"

  objects:
    - id: "primary_terminal"
      name: "Primary Control Terminal"
      type: "critical_device"
      description: "Main control terminal - critical priority"
      location: "central_hub"
      position: {x: 5, y: 0, z: 1}
      properties:
        accessible: true
        powered: true
        security_level: "high"
        investigation_difficulty: "moderate"
        stamina_cost: 15  # High cost investigation
        information_value: "critical"
        
    - id: "backup_systems"
      name: "Backup System Controls"
      type: "critical_device"
      description: "Emergency backup system controls"
      location: "critical_system_room"
      position: {x: 35, y: 2, z: 1}
      properties:
        accessible: true
        powered: "partial"
        security_level: "maximum"
        investigation_difficulty: "hard"
        stamina_cost: 25  # Very high cost
        information_value: "critical"
        
    - id: "supply_cache"
      name: "Emergency Supply Cache"
      type: "resource_container"
      description: "Emergency supplies that could restore stamina"
      location: "emergency_storage"
      position: {x: -22, y: 18, z: 1}
      properties:
        accessible: true
        locked: "basic_security"
        contents: "stamina_restoration"
        stamina_cost: 5   # Low cost to investigate
        restoration_value: 30  # Can restore 30 stamina points
        
    - id: "critical_data_core"
      name: "Critical Data Core"
      type: "high_value_device"
      description: "Data core with vital information - high risk/reward"
      location: "damaged_sector"
      position: {x: 3, y: 45, z: 1}
      properties:
        accessible: true
        powered: "minimal"
        security_level: "extreme"
        investigation_difficulty: "extreme"
        stamina_cost: 35  # Extreme stamina cost
        information_value: "maximum"
        hazard_present: true

# Character Configuration - Resource Constrained
characters:
  - character_id: "agent_stress_001"
    name: "Emergency Specialist Kane"
    faction: "Imperial Emergency Response"
    role: "Crisis Investigator"
    
    position: {x: 0, y: 0, z: 0, facing: 0}
    
    # Balanced stats for resource management scenario
    stats:
      strength: {current: 13, maximum: 16, minimum: 0}
      dexterity: {current: 15, maximum: 17, minimum: 0}
      intelligence: {current: 17, maximum: 19, minimum: 0}
      constitution: {current: 14, maximum: 16, minimum: 0}
      wisdom: {current: 16, maximum: 18, minimum: 0}
      charisma: {current: 12, maximum: 14, minimum: 0}
      
    # CONSTRAINED RESOURCES - Key constraint for this test
    resources:
      health: {current: 85, maximum: 100, minimum: 0}
      stamina: {current: 45, maximum: 80, minimum: 0}   # Low starting stamina
      morale: {current: 70, maximum: 90, minimum: 0}    # Reduced morale due to emergency
      
    state:
      conscious: true
      mobile: true
      combat_ready: true
      status_effects: ["time_pressure", "environmental_stress"]
      injuries: []
      fatigue_level: 0.4  # Already partially fatigued
      
    equipment:
      - id: "emergency_scanner"
        name: "Emergency Auspex Scanner"
        type: "device"
        description: "Ruggedized scanner for emergency operations"
        capabilities: ["emergency_scan", "hazard_detection", "system_analysis"]
        stamina_cost_reduction: 2  # Reduces stamina costs slightly
        
      - id: "emergency_kit"
        name: "Emergency Response Kit"
        type: "kit"
        description: "Essential emergency response tools"
        capabilities: ["emergency_tools", "basic_repairs", "safety_protocols"]
        contains_stimulants: true  # Can provide minor stamina boost once
        
    ai_personality:
      primary_motivation: "crisis_resolution"
      decision_style: "resource_conscious_urgent"
      risk_tolerance: "calculated_high"  # Willing to take risks under pressure
      resource_management: "conservative_strategic"
      priority_assessment: "critical_first"
      
      # Behavioral weights optimized for resource management
      efficiency: 0.9
      resource_conservation: 0.9
      risk_assessment: 0.8
      urgency_response: 0.7
      tactical_thinking: 0.8

# Scenario Objectives
objectives:
  primary:
    - id: "access_critical_systems"
      description: "Access and investigate the most critical systems"
      type: "priority_completion"
      completion_criteria:
        - investigate_action_on: ["primary_terminal", "backup_systems"]
        - critical_information_gathered: true
      success_weight: 0.5
      
    - id: "resource_law_compliance"  
      description: "Demonstrate E002 Resource Law compliance under stress"
      type: "iron_laws_compliance"
      completion_criteria:
        - e002_violations: "= 0"
        - resource_exhaustion_avoided: true
        - intelligent_resource_usage: true
      success_weight: 0.5

  secondary:
    - id: "optimal_resource_utilization"
      description: "Make optimal resource usage decisions"
      type: "optimization"
      completion_criteria:
        - stamina_remaining: ">= 10"
        - utilize_supply_cache: "if_beneficial"
        - avoid_unnecessary_high_cost_actions: true
      success_weight: 0.3
      
    - id: "risk_reward_assessment"
      description: "Demonstrate good risk/reward decision making"
      type: "decision_quality"
      completion_criteria:
        - high_value_targets_prioritized: true
        - hazardous_areas_approached_strategically: true
      success_weight: 0.2

# Expected Behavior Patterns
expected_behavior:
  turn_1:
    likely_actions: ["assess_situation", "investigate_primary_terminal"]
    resource_focus: "conserve_stamina_early"
    iron_laws_focus: ["E002_resources", "E001_causality"]
    
  turn_2_3:
    likely_actions: ["strategic_movement", "prioritize_critical_systems"]  
    resource_focus: "efficient_pathing"
    decision_points: ["pursue_supply_cache", "direct_to_critical_systems"]
    
  turn_4_6:
    likely_actions: ["investigate_backup_systems", "manage_stamina_carefully"]
    resource_focus: "balance_cost_benefit"
    critical_decisions: ["risk_high_cost_actions", "use_supply_cache"]
    
  turn_7_8:
    likely_actions: ["complete_critical_objectives", "strategic_retreat_if_needed"]
    resource_focus: "emergency_resource_management"
    final_priorities: ["mission_completion", "avoid_exhaustion"]

# Success Metrics
evaluation:
  metrics:
    resource_management:
      weight: 0.40
      criteria:
        - avoided_resource_exhaustion: true
        - e002_violations: "= 0"
        - intelligent_stamina_usage: true
        - supply_cache_utilization: "strategic"
        
    critical_objective_completion:
      weight: 0.30
      criteria:
        - primary_terminal_investigated: true
        - backup_systems_accessed: "attempted"
        - critical_information_percentage: ">= 75%"
        
    decision_optimization:
      weight: 0.20  
      criteria:
        - high_cost_actions_justified: true
        - risk_assessment_demonstrated: true
        - priority_ordering_logical: true
        
    iron_laws_compliance:
      weight: 0.10
      criteria:
        - total_violations: "<= 1"
        - repair_system_effectiveness: ">= 90%"
        - resource_law_focus: true

  pass_thresholds:
    minimum_score: 0.65  # Lower threshold due to high difficulty
    critical_failures:
      - resource_exhaustion: true
      - e002_violations: "> 3"
      - zero_critical_objectives: true

# Reporting Configuration
reporting:
  generate_detailed_log: true
  capture_resource_tracking: true
  record_decision_points: true
  track_stamina_usage_per_action: true
  analyze_risk_reward_decisions: true
  
  special_metrics:
    - "stamina_efficiency_ratio"
    - "critical_vs_optional_action_ratio"
    - "resource_conservation_effectiveness"
    - "emergency_response_quality"
    
  output_formats:
    - "detailed_json"
    - "resource_analysis_csv"
    - "decision_quality_report"
    
  save_location: "evaluation/results/seed_002/"