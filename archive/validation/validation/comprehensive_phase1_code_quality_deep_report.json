{
  "file_analysis": {
    "ai_enhancement_analysis.py": {
      "file_size": 13721,
      "line_count": 356,
      "blank_lines": 67,
      "comment_lines": 16,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 26,
          "cognitive_complexity": 8,
          "nesting_depth": 0,
          "max_nesting_depth": 6
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "analyze_real_ai_decisions",
              "line_number": 28,
              "length": 39,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "analyze_narrative_quality",
              "line_number": 87,
              "length": 47,
              "complexity": 8,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "compare_enhancement_levels",
              "line_number": 176,
              "length": 47,
              "complexity": 9,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "analyze_system_performance",
              "line_number": 243,
              "length": 26,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "generate_final_assessment",
              "line_number": 276,
              "length": 37,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 322,
              "length": 22,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "paragraph_count",
            "k",
            "term",
            "demo_narratives_dir",
            "character_decisions",
            "reasoning",
            "narrative_metrics",
            "f",
            "latest_file",
            "reasoning_pattern",
            "decisions",
            "narrative_content",
            "mentions",
            "ai_decisions",
            "lines",
            "char",
            "file",
            "improvement_score",
            "wh40k_terms",
            "character_mentions",
            "p",
            "category",
            "character",
            "reasoning_matches",
            "word_count",
            "category_name",
            "sentence_count",
            "j",
            "narrative_path",
            "terms",
            "decision",
            "count",
            "total_atmosphere",
            "narrative_files",
            "content",
            "line",
            "term_analysis",
            "i",
            "campaign_log_path"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [
            {
              "name": "analyze_real_ai_decisions",
              "line_number": 28,
              "length": 39,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            }
          ],
          "deep_nesting": [
            {
              "function": "analyze_real_ai_decisions",
              "class": null,
              "line": 58,
              "depth": 5
            },
            {
              "function": "analyze_real_ai_decisions",
              "class": null,
              "line": 61,
              "depth": 6
            }
          ],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "api_server.py": {
      "file_size": 92097,
      "line_count": 2359,
      "blank_lines": 377,
      "comment_lines": 155,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 116,
          "cognitive_complexity": 13,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "HealthResponse",
              "line_number": 164,
              "methods": 0,
              "attributes": 1,
              "length": 3,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "ErrorResponse",
              "line_number": 169,
              "methods": 0,
              "attributes": 2,
              "length": 4,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CharactersListResponse",
              "line_number": 175,
              "methods": 0,
              "attributes": 1,
              "length": 3,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CampaignsListResponse",
              "line_number": 180,
              "methods": 0,
              "attributes": 1,
              "length": 3,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CampaignCreationRequest",
              "line_number": 185,
              "methods": 1,
              "attributes": 2,
              "length": 10,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CampaignCreationResponse",
              "line_number": 211,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "FileCount",
              "line_number": 231,
              "methods": 0,
              "attributes": 2,
              "length": 4,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CharacterDetailResponse",
              "line_number": 237,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "SimulationRequest",
              "line_number": 245,
              "methods": 2,
              "attributes": 3,
              "length": 19,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "SimulationResponse",
              "line_number": 287,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CharacterCreationRequest",
              "line_number": 309,
              "methods": 2,
              "attributes": 2,
              "length": 16,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CharacterCreationResponse",
              "line_number": 346,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 1
            }
          ],
          "functions": [
            {
              "name": "_find_project_root",
              "line_number": 85,
              "length": 13,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_get_characters_directory_path",
              "line_number": 114,
              "length": 10,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "_get_campaigns_directory_path",
              "line_number": 138,
              "length": 10,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "validate_campaign_name",
              "line_number": 201,
              "length": 6,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "validate_character_names",
              "line_number": 266,
              "length": 8,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "validate_narrative_style",
              "line_number": 279,
              "length": 6,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "validate_name",
              "line_number": 326,
              "length": 6,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "validate_description",
              "line_number": 337,
              "length": 6,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_create_master_context_engineer_prompt",
              "line_number": 419,
              "length": 4,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_parse_generated_content",
              "line_number": 573,
              "length": 15,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_generate_campaign_brief",
              "line_number": 2009,
              "length": 13,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_save_campaign_brief",
              "line_number": 2071,
              "length": 11,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "run_server",
              "line_number": 2336,
              "length": 4,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "uvicorn",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Union",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "contextlib",
              "name": "asynccontextmanager",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi",
              "name": "FastAPI",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi",
              "name": "HTTPException",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi",
              "name": "File",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi",
              "name": "UploadFile",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi",
              "name": "Form",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi",
              "name": "Depends",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi.responses",
              "name": "JSONResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi.middleware.cors",
              "name": "CORSMiddleware",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi.middleware.gzip",
              "name": "GZipMiddleware",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pydantic",
              "name": "BaseModel",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pydantic",
              "name": "field_validator",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pydantic",
              "name": "Field",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": "TypingList",
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_config",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "character_factory",
              "name": "CharacterFactory",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "_validate_gemini_api_key",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "_make_gemini_api_request",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.constraints_loader",
              "name": "get_character_name_constraints",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.constraints_loader",
              "name": "get_character_description_constraints",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.constraints_loader",
              "name": "get_file_upload_constraints",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.constraints_loader",
              "name": "get_simulation_constraints",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.constraints_loader",
              "name": "validate_character_name",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.constraints_loader",
              "name": "validate_character_description",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.constraints_loader",
              "name": "validate_file_upload",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "name": "uuid",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "module": "src.shared_types",
              "name": "APIResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "SystemStatus",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterData",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "WorldState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ProposedAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ValidatedAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "TurnResult",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "SimulationState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ActionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "EntityType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "Position",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterStats",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "module": "scripts.build_kb",
              "name": "StartupGuard",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "name": "psutil",
              "alias": null,
              "type": "import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "module": "starlette.exceptions",
              "name": "HTTPException",
              "alias": "StarletteHTTPException",
              "type": "from_import"
            }
          ],
          "variables": [
            "simulation_id",
            "turn_result",
            "detail",
            "project_root",
            "f",
            "message",
            "item_path",
            "response",
            "description",
            "narrative_style",
            "persona_agent",
            "text_content",
            "file_patterns",
            "files",
            "item_name",
            "equipment_item",
            "director",
            "content",
            "character_name",
            "response_data",
            "style_mapping",
            "startup_status",
            "end_time",
            "filename",
            "characters",
            "chronicler_style",
            "campaigns",
            "yaml",
            "fallback_root",
            "turns",
            "turns_to_execute",
            "match",
            "basic_md_path",
            "brief_filename",
            "agent",
            "app",
            "item_data",
            "basic_md_content",
            "error_message",
            "story",
            "generated_content",
            "file_path",
            "campaign_directory_path",
            "policy_response",
            "file_count_data",
            "ENHANCED_VALIDATION_ENABLED",
            "enhanced_character",
            "allowed_styles",
            "character_factory",
            "prompt",
            "structured_data",
            "turn",
            "status_data",
            "error_duration",
            "SHARED_TYPES_AVAILABLE",
            "base_character_path",
            "files_processed",
            "status",
            "is_valid",
            "hybrid_context",
            "startup_guard",
            "markers",
            "legal_config",
            "validation_passed",
            "item",
            "security_config",
            "basic_stats_content",
            "equipment_data",
            "uptime_seconds",
            "participants",
            "campaign_name",
            "brief_response",
            "error",
            "md",
            "base_campaigns_path",
            "startup_guard_available",
            "config",
            "process",
            "file_header",
            "campaign_log_path",
            "health_status",
            "current_dir",
            "api_key",
            "character_agents",
            "system_config",
            "chronicler",
            "parsed_files",
            "name",
            "ai_scribe_enhanced",
            "marker",
            "character_names",
            "directory_path",
            "memory_info",
            "file",
            "file_count",
            "characters_path",
            "generated_brief",
            "all_text_content",
            "pattern",
            "character_data",
            "yaml_data",
            "campaigns_root_path",
            "duration_seconds",
            "success",
            "brief_filepath",
            "narrative_context",
            "start_time",
            "not_found_characters",
            "basic_stats_path",
            "brief_generated",
            "turns_executed",
            "current_path",
            "logger",
            "campaigns_path",
            "file_content",
            "character_dir_path"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "campaign_brief.py": {
      "file_size": 14627,
      "line_count": 346,
      "blank_lines": 59,
      "comment_lines": 17,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 24,
          "cognitive_complexity": 4,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "NarrativeEvent",
              "line_number": 37,
              "methods": 0,
              "attributes": 6,
              "length": 8,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "CampaignBrief",
              "line_number": 53,
              "methods": 0,
              "attributes": 11,
              "length": 13,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "CampaignBriefLoader",
              "line_number": 75,
              "methods": 8,
              "attributes": 0,
              "length": 89,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__init__",
              "line_number": 83,
              "length": 2,
              "complexity": 1,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "load_from_file",
              "line_number": 86,
              "length": 11,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_yaml_file",
              "line_number": 115,
              "length": 8,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_markdown_file",
              "line_number": 128,
              "length": 15,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_enhance_with_markdown_content",
              "line_number": 157,
              "length": 7,
              "complexity": 4,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_parse_structured_markdown",
              "line_number": 167,
              "length": 12,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_create_campaign_brief_from_dict",
              "line_number": 189,
              "length": 15,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "validate_campaign_brief",
              "line_number": 230,
              "length": 17,
              "complexity": 12,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "create_sample_campaign_brief",
              "line_number": 268,
              "length": 4,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "yaml",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Union",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "field",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "atmosphere",
            "title_match",
            "environmental_change",
            "sections",
            "required_fields",
            "events",
            "author",
            "probability",
            "key",
            "f",
            "frontmatter_pattern",
            "setting",
            "tags",
            "match",
            "pattern",
            "environmental_elements",
            "description",
            "turn_activation",
            "character_impact",
            "version",
            "event_data",
            "markdown_content",
            "data",
            "event",
            "trigger_condition",
            "title",
            "file_path",
            "campaign_brief",
            "content",
            "yaml_content",
            "logger",
            "field",
            "setting_match",
            "character_ecology",
            "i",
            "story_progression_markers",
            "key_events",
            "created_date"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [
            {
              "name": "validate_campaign_brief",
              "line_number": 230,
              "length": 17,
              "complexity": 12,
              "parameters": 2,
              "docstring": true
            }
          ],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "character_factory.py": {
      "file_size": 6771,
      "line_count": 164,
      "blank_lines": 34,
      "comment_lines": 9,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 11,
          "cognitive_complexity": 3,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "CharacterFactory",
              "line_number": 29,
              "methods": 4,
              "attributes": 0,
              "length": 50,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__init__",
              "line_number": 43,
              "length": 8,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_find_project_root",
              "line_number": 62,
              "length": 13,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "create_character",
              "line_number": 91,
              "length": 16,
              "complexity": 6,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "list_available_characters",
              "line_number": 144,
              "length": 11,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "marker",
            "persona_agent",
            "item",
            "item_path",
            "current_dir",
            "current_path",
            "logger",
            "characters",
            "character_directory",
            "project_root",
            "markers",
            "fallback_root"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "chronicler_agent.py": {
      "file_size": 58224,
      "line_count": 1369,
      "blank_lines": 269,
      "comment_lines": 91,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 96,
          "cognitive_complexity": 11,
          "nesting_depth": 0,
          "max_nesting_depth": 6
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "CampaignEvent",
              "line_number": 45,
              "methods": 0,
              "attributes": 8,
              "length": 10,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "NarrativeSegment",
              "line_number": 63,
              "methods": 0,
              "attributes": 7,
              "length": 9,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "ChroniclerAgent",
              "line_number": 79,
              "methods": 31,
              "attributes": 0,
              "length": 435,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__init__",
              "line_number": 102,
              "length": 45,
              "complexity": 11,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "_initialize_output_directory",
              "line_number": 191,
              "length": 20,
              "complexity": 6,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_initialize_narrative_templates",
              "line_number": 231,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "transcribe_log",
              "line_number": 324,
              "length": 39,
              "complexity": 7,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_campaign_log",
              "line_number": 414,
              "length": 22,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_event_section",
              "line_number": 462,
              "length": 31,
              "complexity": 10,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_classify_event_type",
              "line_number": 533,
              "length": 16,
              "complexity": 11,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_participant_info",
              "line_number": 560,
              "length": 24,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_action_details",
              "line_number": 611,
              "length": 14,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_narrative_segments",
              "line_number": 645,
              "length": 16,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_filter_significant_events",
              "line_number": 692,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_event_narrative",
              "line_number": 709,
              "length": 9,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_create_narrative_prompt",
              "line_number": 738,
              "length": 17,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_call_llm",
              "line_number": 784,
              "length": 15,
              "complexity": 9,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_registration_response",
              "line_number": 826,
              "length": 7,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_action_response",
              "line_number": 840,
              "length": 7,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_turn_begin_response",
              "line_number": 854,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_turn_end_response",
              "line_number": 863,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_general_response",
              "line_number": 872,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_post_process_narrative",
              "line_number": 881,
              "length": 15,
              "complexity": 8,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_generate_fallback_narrative",
              "line_number": 918,
              "length": 19,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_get_faction_description",
              "line_number": 966,
              "length": 9,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_combine_narrative_segments",
              "line_number": 987,
              "length": 22,
              "complexity": 6,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_get_event_order",
              "line_number": 1039,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_story_opening",
              "line_number": 1060,
              "length": 24,
              "complexity": 8,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_generate_story_closing",
              "line_number": 1111,
              "length": 4,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_generate_empty_narrative",
              "line_number": 1125,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_error_narrative",
              "line_number": 1145,
              "length": 3,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_save_narrative_to_file",
              "line_number": 1167,
              "length": 14,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "get_chronicler_status",
              "line_number": 1213,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "set_narrative_style",
              "line_number": 1250,
              "length": 9,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "create_chronicler_with_output",
              "line_number": 1273,
              "length": 14,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "batch_transcribe_logs",
              "line_number": 1302,
              "length": 13,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "example_usage",
              "line_number": 1332,
              "length": 16,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "name": "random",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Tuple",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "field",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_config",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "significant_types",
            "header",
            "current_time",
            "faction_info",
            "output_dir",
            "current_turn",
            "complete_story",
            "description",
            "narrative_style",
            "processing_duration",
            "description_lower",
            "format_vars",
            "turn_number",
            "narrative_text",
            "action_details",
            "faction_match",
            "name_patterns",
            "event",
            "event_type",
            "opening_template",
            "content",
            "character_name",
            "sorted_segments",
            "agent_id",
            "tone",
            "closing_template",
            "all_factions",
            "event_description",
            "end_time",
            "test_file",
            "char_name",
            "narrative_segments",
            "context_vars",
            "match",
            "faction_text",
            "faction_pattern",
            "timestamp",
            "all_characters",
            "narrative",
            "responses",
            "valid_participants",
            "output_directory",
            "llm_response",
            "output_path",
            "output_filename",
            "section",
            "prompt",
            "log_path",
            "faction_themes",
            "reasoning_pattern",
            "style_guidance",
            "lines",
            "char",
            "character_pattern",
            "status",
            "context",
            "template",
            "segment",
            "participants",
            "original_name",
            "event_sections",
            "valid_styles",
            "i",
            "config",
            "opening",
            "action",
            "events",
            "template_key",
            "narratives",
            "max_events_per_batch",
            "chronicler",
            "reasoning_match",
            "name",
            "order_map",
            "story_parts",
            "file",
            "character_list",
            "raw_text",
            "action_patterns",
            "pattern",
            "parsed_events",
            "character_focus",
            "faction",
            "success",
            "start_time",
            "style_key",
            "significant_events",
            "output_file",
            "matches",
            "logger",
            "faction_key",
            "line",
            "base_prompt"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [
            {
              "name": "__init__",
              "line_number": 102,
              "length": 45,
              "complexity": 11,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "_classify_event_type",
              "line_number": 533,
              "length": 16,
              "complexity": 11,
              "parameters": 2,
              "docstring": true
            }
          ],
          "deep_nesting": [
            {
              "function": "_classify_event_type",
              "class": "ChroniclerAgent",
              "line": 553,
              "depth": 5
            },
            {
              "function": "_classify_event_type",
              "class": "ChroniclerAgent",
              "line": 555,
              "depth": 6
            }
          ],
          "large_classes": [
            {
              "name": "ChroniclerAgent",
              "line_number": 79,
              "methods": 31,
              "attributes": 0,
              "length": 435,
              "docstring": true,
              "inheritance": 0
            }
          ]
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "config_loader.py": {
      "file_size": 29815,
      "line_count": 800,
      "blank_lines": 174,
      "comment_lines": 40,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 47,
          "cognitive_complexity": 1,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "SimulationConfig",
              "line_number": 43,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "PathsConfig",
              "line_number": 57,
              "methods": 0,
              "attributes": 5,
              "length": 7,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "CharacterConfig",
              "line_number": 71,
              "methods": 0,
              "attributes": 2,
              "length": 4,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "DirectorConfig",
              "line_number": 82,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "ChroniclerConfig",
              "line_number": 95,
              "methods": 0,
              "attributes": 3,
              "length": 5,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "LLMConfig",
              "line_number": 107,
              "methods": 0,
              "attributes": 5,
              "length": 7,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestingConfig",
              "line_number": 122,
              "methods": 0,
              "attributes": 3,
              "length": 5,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "PerformanceConfig",
              "line_number": 134,
              "methods": 0,
              "attributes": 3,
              "length": 5,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "FeaturesConfig",
              "line_number": 146,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "ValidationConfig",
              "line_number": 159,
              "methods": 0,
              "attributes": 3,
              "length": 5,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "AppConfig",
              "line_number": 171,
              "methods": 0,
              "attributes": 10,
              "length": 12,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "ConfigurationError",
              "line_number": 190,
              "methods": 0,
              "attributes": 0,
              "length": 3,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "ConfigLoader",
              "line_number": 199,
              "methods": 25,
              "attributes": 4,
              "length": 228,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__new__",
              "line_number": 226,
              "length": 8,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 240,
              "length": 8,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_instance",
              "line_number": 254,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "load_config",
              "line_number": 263,
              "length": 38,
              "complexity": 10,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_get_file_mtime",
              "line_number": 344,
              "length": 5,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_load_yaml_file",
              "line_number": 359,
              "length": 19,
              "complexity": 7,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_create_config_from_data",
              "line_number": 399,
              "length": 34,
              "complexity": 11,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_create_default_config",
              "line_number": 509,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_apply_env_overrides",
              "line_number": 519,
              "length": 15,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_validate_config",
              "line_number": 558,
              "length": 28,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "get_simulation_turns",
              "line_number": 615,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_character_sheets_path",
              "line_number": 620,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_log_file_path",
              "line_number": 625,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_output_directory",
              "line_number": 630,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_default_character_sheets",
              "line_number": 635,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_campaign_log_filename",
              "line_number": 640,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_max_agents",
              "line_number": 645,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_api_timeout",
              "line_number": 650,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_logging_level",
              "line_number": 655,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_narrative_style",
              "line_number": 660,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_max_events_per_batch",
              "line_number": 665,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "is_test_mode",
              "line_number": 670,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_config",
              "line_number": 675,
              "length": 5,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "reload_config",
              "line_number": 686,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "set_config_path",
              "line_number": 695,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "get_config",
              "line_number": 708,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "get_simulation_turns",
              "line_number": 718,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "get_character_sheets_path",
              "line_number": 723,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "get_log_file_path",
              "line_number": 728,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "get_output_directory",
              "line_number": 733,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "get_default_character_sheets",
              "line_number": 738,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "get_campaign_log_filename",
              "line_number": 743,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "example_usage",
              "line_number": 750,
              "length": 27,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "threading",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Union",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "field",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "yaml",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "realtime_updates",
            "max_memory_mb",
            "global_log_path",
            "api_timeout",
            "_last_modified",
            "char_sheets",
            "campaign_log_filename",
            "advanced_world_state",
            "test_narratives_directory",
            "output_dir",
            "character_sheets_path",
            "char_data",
            "narrative_style",
            "config_data",
            "full_config",
            "sim_data",
            "director",
            "llm_data",
            "check_file_permissions",
            "features_data",
            "validation",
            "content",
            "chronicler_data",
            "testing",
            "env_var",
            "global_turns",
            "logging_level",
            "test_timeout",
            "_instance",
            "perf_data",
            "characters",
            "director_data",
            "yaml",
            "turns",
            "enable_caching",
            "features",
            "env_mappings",
            "applied_overrides",
            "env_value",
            "default_sheets",
            "temperature",
            "output_directory",
            "api_endpoint",
            "model",
            "testing_data",
            "performance",
            "log_path",
            "error_threshold",
            "simulation_logs_directory",
            "require_character_sheets",
            "config_loader",
            "setter",
            "_config_cache",
            "current_mtime",
            "validate_campaign_log",
            "max_agents",
            "test_mode",
            "enable_monitoring",
            "test_output_directory",
            "valid_styles",
            "config",
            "needs_reload",
            "default_config",
            "api_key",
            "log_file_path",
            "paths_data",
            "max_events_per_batch",
            "chronicler",
            "validation_data",
            "multiplayer_support",
            "file",
            "ai_enhanced_narratives",
            "_lock",
            "max_actions_per_turn",
            "simulation",
            "max_tokens",
            "paths",
            "max_turn_history",
            "logger",
            "llm",
            "YAML_AVAILABLE",
            "world_state_file"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [
            {
              "name": "_create_config_from_data",
              "line_number": 399,
              "length": 34,
              "complexity": 11,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_validate_config",
              "line_number": 558,
              "length": 28,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            }
          ],
          "deep_nesting": [],
          "large_classes": [
            {
              "name": "ConfigLoader",
              "line_number": 199,
              "methods": 25,
              "attributes": 4,
              "length": 228,
              "docstring": true,
              "inheritance": 0
            }
          ]
        },
        "design_patterns": {
          "singleton_pattern": true,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "demonstration_summary.py": {
      "file_size": 7872,
      "line_count": 191,
      "blank_lines": 24,
      "comment_lines": 13,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 6,
          "cognitive_complexity": 2,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "display_demonstration_summary",
              "line_number": 26,
              "length": 98,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "check_generated_files",
              "line_number": 144,
              "length": 26,
              "complexity": 6,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "demo_script",
            "narratives_dir",
            "narrative_files",
            "mod_time",
            "file",
            "component",
            "size",
            "components"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "display_demonstration_summary",
              "line_number": 26,
              "length": 98,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            }
          ],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "demo_ai_enhanced_chronicler.py": {
      "file_size": 17313,
      "line_count": 401,
      "blank_lines": 75,
      "comment_lines": 26,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 15,
          "cognitive_complexity": 1,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "analyze_campaign_log_quality",
              "line_number": 43,
              "length": 44,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "demonstrate_ai_enhanced_transcription",
              "line_number": 139,
              "length": 122,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "show_ai_enhancement_comparison",
              "line_number": 336,
              "length": 32,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "reason",
            "term",
            "end_time",
            "faction_registrations",
            "unique_factions",
            "llm_guided_decisions",
            "processing_time",
            "chronicler",
            "narrative_sentences",
            "faction_matches",
            "quality_score",
            "reasoning_statements",
            "reasoning_pattern",
            "f",
            "indicator",
            "latest_file",
            "status_icon",
            "char",
            "file",
            "wh40k_terms",
            "narrative_words",
            "character_pattern",
            "status",
            "match",
            "reasoning_matches",
            "faction_pattern",
            "avg_reasoning_length",
            "faction",
            "term_count",
            "character_actions",
            "characters_in_narrative",
            "log_analysis",
            "start_time",
            "complete_narrative",
            "narrative",
            "narrative_files",
            "content",
            "analysis",
            "unique_characters",
            "output_directory",
            "avg_sentence_length",
            "character_matches",
            "total_lines",
            "campaign_log_path"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "demonstrate_ai_enhanced_transcription",
              "line_number": 139,
              "length": 122,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            }
          ],
          "complex_functions": [
            {
              "name": "demonstrate_ai_enhanced_transcription",
              "line_number": 139,
              "length": 122,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            }
          ],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "demo_chronicler_integration.py": {
      "file_size": 8864,
      "line_count": 249,
      "blank_lines": 48,
      "comment_lines": 23,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 20,
          "cognitive_complexity": 2,
          "nesting_depth": 0,
          "max_nesting_depth": 4
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "demonstrate_basic_transcription",
              "line_number": 24,
              "length": 29,
              "complexity": 4,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demonstrate_narrative_styles",
              "line_number": 69,
              "length": 23,
              "complexity": 6,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demonstrate_file_output",
              "line_number": 104,
              "length": 29,
              "complexity": 5,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demonstrate_integration_workflow",
              "line_number": 150,
              "length": 36,
              "complexity": 5,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 205,
              "length": 27,
              "complexity": 4,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "total",
            "chronicler",
            "demo_func",
            "log_path",
            "f",
            "latest_file",
            "output_dir",
            "status",
            "styles",
            "style",
            "file_size",
            "passed",
            "success",
            "sample",
            "director",
            "narrative",
            "file_path",
            "narrative_files",
            "logger",
            "demo_name",
            "demos"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "demo_chronicler_transcription.py": {
      "file_size": 13081,
      "line_count": 347,
      "blank_lines": 71,
      "comment_lines": 21,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 19,
          "cognitive_complexity": 5,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "demonstrate_chronicler_transcription",
              "line_number": 44,
              "length": 117,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "display_narrative_preview",
              "line_number": 223,
              "length": 12,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "validate_warhammer_atmosphere",
              "line_number": 247,
              "length": 25,
              "complexity": 10,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 311,
              "length": 24,
              "complexity": 5,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "create_chronicler_with_output",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "term",
            "faction_terms",
            "preview_lines",
            "validation_results",
            "chronicler",
            "characters",
            "narrative_lower",
            "capability",
            "status_icon",
            "lines",
            "wh40k_terms",
            "grimdark_terms",
            "total_score",
            "has_opening",
            "has_proper_structure",
            "status",
            "character",
            "overall_success",
            "processing_duration",
            "transcription_time",
            "success",
            "start_time",
            "complete_narrative",
            "narrative",
            "enabled",
            "has_griznork",
            "log_size",
            "logger",
            "line",
            "output_directory",
            "wh40k_score",
            "i",
            "has_trooper_86",
            "campaign_log_path"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "demonstrate_chronicler_transcription",
              "line_number": 44,
              "length": 117,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            }
          ],
          "complex_functions": [
            {
              "name": "demonstrate_chronicler_transcription",
              "line_number": 44,
              "length": 117,
              "complexity": 12,
              "parameters": 0,
              "docstring": true
            }
          ],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "demo_config_usage.py": {
      "file_size": 6358,
      "line_count": 163,
      "blank_lines": 33,
      "comment_lines": 8,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 3,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "demo_basic_config",
              "line_number": 13,
              "length": 13,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demo_convenience_functions",
              "line_number": 30,
              "length": 11,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demo_environment_overrides",
              "line_number": 47,
              "length": 19,
              "complexity": 3,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demo_config_sections",
              "line_number": 80,
              "length": 27,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demo_usage_in_components",
              "line_number": 115,
              "length": 16,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 137,
              "length": 22,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "module": "config_loader",
              "name": "get_config",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "ConfigLoader",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "config_loader",
              "name": "get_simulation_turns",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_character_sheets_path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_log_file_path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_output_directory",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_default_character_sheets",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_campaign_log_filename",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "loader",
            "override_config",
            "chronicler",
            "config",
            "director"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "demo_llm_integration.py": {
      "file_size": 8721,
      "line_count": 234,
      "blank_lines": 41,
      "comment_lines": 12,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 8,
          "cognitive_complexity": 3,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "demo_llm_enhanced_decision_making",
              "line_number": 27,
              "length": 28,
              "complexity": 5,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "demo_llm_fallback_mechanism",
              "line_number": 116,
              "length": 22,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "failing_llm_call",
              "line_number": 129,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "demo_character_specific_prompts",
              "line_number": 163,
              "length": 28,
              "complexity": 3,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "character_factory",
              "name": "CharacterFactory",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "situation_assessment",
            "factory",
            "world_state",
            "agent",
            "available_actions",
            "prompt",
            "logger",
            "line",
            "prompt_lines",
            "i",
            "action",
            "scenario",
            "original_call_llm",
            "scenarios",
            "event"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "director_agent.py": {
      "file_size": 163001,
      "line_count": 3549,
      "blank_lines": 669,
      "comment_lines": 300,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 284,
          "cognitive_complexity": 40,
          "nesting_depth": 0,
          "max_nesting_depth": 7
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "DirectorAgent",
              "line_number": 50,
              "methods": 78,
              "attributes": 0,
              "length": 1275,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__init__",
              "line_number": 76,
              "length": 58,
              "complexity": 10,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_initialize_campaign_log",
              "line_number": 202,
              "length": 7,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_create_new_campaign_log",
              "line_number": 221,
              "length": 10,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_backup_existing_log",
              "line_number": 256,
              "length": 8,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_load_world_state",
              "line_number": 266,
              "length": 21,
              "complexity": 5,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_initialize_default_world_state",
              "line_number": 307,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_load_campaign_brief",
              "line_number": 334,
              "length": 27,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_trigger_initial_narrative_events",
              "line_number": 388,
              "length": 10,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_validate_world_state_data",
              "line_number": 413,
              "length": 17,
              "complexity": 8,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "register_agent",
              "line_number": 445,
              "length": 38,
              "complexity": 10,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "log_event",
              "line_number": 531,
              "length": 20,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "run_turn",
              "line_number": 578,
              "length": 62,
              "complexity": 7,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_prepare_world_state_for_agent",
              "line_number": 769,
              "length": 17,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_world_state_feedback",
              "line_number": 853,
              "length": 24,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_get_agent_discoveries_feedback",
              "line_number": 901,
              "length": 12,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_get_environmental_changes_feedback",
              "line_number": 933,
              "length": 11,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_get_other_agents_activities_feedback",
              "line_number": 962,
              "length": 20,
              "complexity": 10,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_get_world_state_summary",
              "line_number": 997,
              "length": 6,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "generate_narrative_context",
              "line_number": 1016,
              "length": 27,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_character_specific_context",
              "line_number": 1082,
              "length": 19,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_check_narrative_event_triggers",
              "line_number": 1117,
              "length": 24,
              "complexity": 10,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_identify_available_narrative_actions",
              "line_number": 1177,
              "length": 14,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_store_turn_in_history",
              "line_number": 1209,
              "length": 12,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "get_simulation_status",
              "line_number": 1240,
              "length": 10,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_agent_list",
              "line_number": 1287,
              "length": 8,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "remove_agent",
              "line_number": 1308,
              "length": 15,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "save_world_state",
              "line_number": 1343,
              "length": 13,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "close_campaign_log",
              "line_number": 1376,
              "length": 15,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_process_narrative_action",
              "line_number": 1425,
              "length": 23,
              "complexity": 8,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_update_story_state",
              "line_number": 1487,
              "length": 25,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_process_action_world_impact",
              "line_number": 1535,
              "length": 15,
              "complexity": 4,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_process_investigation_impact",
              "line_number": 1569,
              "length": 19,
              "complexity": 6,
              "parameters": 6,
              "docstring": true
            },
            {
              "name": "_generate_clue_content",
              "line_number": 1624,
              "length": 12,
              "complexity": 3,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_record_action_to_history",
              "line_number": 1673,
              "length": 5,
              "complexity": 3,
              "parameters": 6,
              "docstring": true
            },
            {
              "name": "_build_turn_brief",
              "line_number": 1705,
              "length": 27,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_apply_fog_of_war_filtering",
              "line_number": 1783,
              "length": 22,
              "complexity": 5,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_build_contextual_prompt_with_rag",
              "line_number": 1859,
              "length": 12,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_retrieve_relevant_knowledge_rag",
              "line_number": 1913,
              "length": 24,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_create_default_knowledge_fragments",
              "line_number": 1978,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_character_data_from_agent",
              "line_number": 2008,
              "length": 6,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_create_fog_of_war_filter",
              "line_number": 2029,
              "length": 6,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_world_entities_from_state",
              "line_number": 2060,
              "length": 9,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_calculate_entity_visibility",
              "line_number": 2088,
              "length": 12,
              "complexity": 5,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_apply_information_degradation",
              "line_number": 2117,
              "length": 10,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_gather_information_fragments",
              "line_number": 2145,
              "length": 10,
              "complexity": 3,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_determine_available_actions",
              "line_number": 2181,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_tactical_situation_summary",
              "line_number": 2209,
              "length": 13,
              "complexity": 4,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_extract_character_objectives",
              "line_number": 2233,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_determine_action_constraints",
              "line_number": 2245,
              "length": 9,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_calculate_token_budget",
              "line_number": 2266,
              "length": 5,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_base_character_prompt",
              "line_number": 2280,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_build_character_context_summary",
              "line_number": 2286,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_build_world_state_context",
              "line_number": 2292,
              "length": 10,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_information_constraint_mask",
              "line_number": 2305,
              "length": 8,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_rag_context_keywords",
              "line_number": 2316,
              "length": 11,
              "complexity": 5,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_search_tactical_knowledge",
              "line_number": 2334,
              "length": 8,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_search_character_lore",
              "line_number": 2354,
              "length": 8,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_search_situational_guidance",
              "line_number": 2372,
              "length": 9,
              "complexity": 3,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_search_rules_knowledge",
              "line_number": 2393,
              "length": 8,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_rank_knowledge_fragments",
              "line_number": 2411,
              "length": 6,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_estimate_prompt_token_count",
              "line_number": 2422,
              "length": 7,
              "complexity": 2,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "_adjudicate_action",
              "line_number": 2437,
              "length": 50,
              "complexity": 7,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_validate_causality_law",
              "line_number": 2571,
              "length": 13,
              "complexity": 10,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_validate_resource_law",
              "line_number": 2619,
              "length": 25,
              "complexity": 9,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_validate_physics_law",
              "line_number": 2695,
              "length": 22,
              "complexity": 15,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_validate_narrative_law",
              "line_number": 2763,
              "length": 20,
              "complexity": 14,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_validate_social_law",
              "line_number": 2827,
              "length": 20,
              "complexity": 12,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_attempt_action_repairs",
              "line_number": 2895,
              "length": 35,
              "complexity": 11,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_repair_causality_violations",
              "line_number": 2977,
              "length": 18,
              "complexity": 10,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_repair_resource_violations",
              "line_number": 3006,
              "length": 26,
              "complexity": 10,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_repair_physics_violations",
              "line_number": 3046,
              "length": 23,
              "complexity": 12,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_repair_narrative_violations",
              "line_number": 3083,
              "length": 19,
              "complexity": 7,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_repair_social_violations",
              "line_number": 3111,
              "length": 25,
              "complexity": 11,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_convert_proposed_to_validated",
              "line_number": 3147,
              "length": 23,
              "complexity": 7,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_group_violations_by_law",
              "line_number": 3222,
              "length": 10,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_get_current_world_context",
              "line_number": 3242,
              "length": 10,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_determine_overall_validation_result",
              "line_number": 3324,
              "length": 22,
              "complexity": 10,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_calculate_action_stamina_cost",
              "line_number": 3374,
              "length": 23,
              "complexity": 10,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "create_director_with_agents",
              "line_number": 3447,
              "length": 13,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "run_simulation_batch",
              "line_number": 3475,
              "length": 13,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "example_usage",
              "line_number": 3508,
              "length": 14,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Tuple",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "shared_types",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_config",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_campaign_log_filename",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "campaign_brief",
              "name": "CampaignBrief",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "campaign_brief",
              "name": "CampaignBriefLoader",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "campaign_brief",
              "name": "NarrativeEvent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeActionResolver",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeOutcome",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "name": "random",
              "alias": null,
              "type": "import"
            },
            {
              "module": "src.shared_types",
              "name": "TurnBrief",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FilteredWorldView",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ContextualPrompt",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FogOfWarFilter",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "InformationFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "InformationSource",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FogOfWarChannel",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterData",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "WorldState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ActionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FilteredWorldView",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FogOfWarFilter",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "WorldEntity",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "InformationFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "InformationSource",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FogOfWarChannel",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "EntityType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ContextualPrompt",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterData",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterStats",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterResources",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "Position",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ResourceValue",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FogOfWarFilter",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FogOfWarChannel",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "WorldEntity",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "EntityType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "Position",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "WorldEntity",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "InformationFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "InformationSource",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "FogOfWarChannel",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ActionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "KnowledgeFragment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsReport",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsViolation",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ValidatedAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ValidationResult",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsViolation",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsViolation",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsViolation",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsViolation",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsViolation",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ValidatedAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ValidationStatus",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "turn_end_event",
            "agent_start_time",
            "narrative_actions",
            "current_time",
            "environmental_change",
            "k",
            "degraded_properties",
            "medium_violations",
            "turn_result",
            "required_stats",
            "turn_end_time",
            "other_agent_name",
            "character_source",
            "triggered",
            "injected_knowledge",
            "world_state_file_path",
            "wait_description",
            "entity",
            "existing_agent",
            "repair_log",
            "validation_result",
            "required_count",
            "final_cost",
            "recent_clues",
            "registration_event",
            "current_turn",
            "contextual_prompt",
            "character",
            "lore_path",
            "decision_weights",
            "e002_violations",
            "clue_entry",
            "base_cost",
            "available_actions",
            "removed_agent",
            "ranked_fragments",
            "keyword_matches",
            "entities",
            "missing_equipment",
            "feedback_messages",
            "outcome",
            "history_entry",
            "fog_filter",
            "situation",
            "other_agents",
            "alternative_action",
            "personality_traits",
            "closing_summary",
            "director",
            "entity_id",
            "log_entry",
            "uncertainty_markers",
            "guidance_path",
            "event",
            "base_budget",
            "mock_validated",
            "checks_performed",
            "character_name",
            "prompt_tokens",
            "agent_id",
            "save_path",
            "is_visible",
            "params",
            "v",
            "current_distance",
            "total_investigations",
            "search_clues",
            "mask",
            "keyword",
            "narrative_outcome",
            "other_agent_activities",
            "kb_path",
            "final_fragments",
            "event_description",
            "end_time",
            "duration",
            "mechanicus_context",
            "turn_duration",
            "error_report",
            "filtered_world_view",
            "turn_num",
            "discoveries",
            "e003_violations",
            "character_context",
            "rules_path",
            "turn_start_time",
            "validated_action",
            "standard_actions",
            "character_stat",
            "other_agent",
            "token_budget",
            "total_clues",
            "keywords",
            "brief_loader",
            "target",
            "timestamp",
            "repair_violations",
            "max_history_length",
            "knowledge_fragments",
            "agent",
            "situation_fragments",
            "tactical_path",
            "current_stamina",
            "world_state_summary",
            "turn_results",
            "agent_action",
            "error_message",
            "agent_stats",
            "total_dialogues",
            "context_keywords",
            "should_trigger",
            "required_item",
            "clues",
            "simulation_duration",
            "recent_changes",
            "restriction",
            "target_faction",
            "all_violations",
            "backup_path",
            "lore_fragments",
            "character_traits",
            "fragments",
            "active_events",
            "social_repairs",
            "removal_event",
            "available_equipment",
            "objectives",
            "total_chars",
            "stamina_cost",
            "empty_turn_event",
            "agent_list",
            "sheet_path",
            "error_event",
            "repair_attempts",
            "law_code",
            "turn_discoveries",
            "causality_repairs",
            "required_stamina",
            "analysis_clues",
            "default_objectives",
            "violations",
            "action_costs",
            "initial_content",
            "stamina_ratio",
            "clue",
            "registration_results",
            "status",
            "context",
            "intensity_value",
            "selected_elements",
            "stat",
            "report",
            "uncertainty_level",
            "fog_of_war_mask",
            "agent_rank",
            "personal_discoveries",
            "agent_clues",
            "distance",
            "location",
            "visible_entities",
            "item",
            "selected_clue",
            "turn_start_event",
            "agent_index",
            "environmental_restrictions",
            "discovery",
            "world_entities",
            "clue_templates",
            "total_locations_investigated",
            "combat_actions",
            "modified_action",
            "grouped_violations",
            "repair_order",
            "environmental_changes",
            "world_state_feedback",
            "low_violations",
            "other_agent_id",
            "fragment",
            "filtered_entity",
            "overall_result",
            "prereq",
            "clue_content",
            "required_equipment",
            "turn_brief",
            "narrative_repairs",
            "max_distance",
            "i",
            "config",
            "field",
            "base_context",
            "campaign_log_path",
            "narrative_action_types",
            "required_turn",
            "violations_by_law",
            "required_fields",
            "fallback_log",
            "law_violations",
            "uncertainty",
            "ork_context",
            "scale_factor",
            "world_context",
            "change",
            "max_move_distance",
            "potential_threats",
            "marker",
            "e001_violations",
            "turn_summary",
            "resource_repairs",
            "intensity_multiplier",
            "violation",
            "action_type",
            "special_actions",
            "tactical_fragments",
            "file",
            "physics_repairs",
            "action_description",
            "high_violations",
            "target_rank",
            "existing_ids",
            "changes_list",
            "faction",
            "violation_count",
            "character_data",
            "complexity_modifier",
            "world_state",
            "agent_faction",
            "campaign_brief_path",
            "success",
            "constraints",
            "e004_violations",
            "repairs_made",
            "narrative_context",
            "has_feedback",
            "tactical_situation",
            "feedback",
            "visibility_info",
            "start_time",
            "min_value",
            "information_fragments",
            "critical_violations",
            "imperial_context",
            "e005_violations",
            "logger",
            "final_action",
            "target_agent",
            "rules_fragments",
            "active_event",
            "advancement",
            "stat_name",
            "current_story_phase",
            "world_state_update",
            "already_triggered",
            "base_prompt"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "__init__",
              "line_number": 76,
              "length": 58,
              "complexity": 10,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "run_turn",
              "line_number": 578,
              "length": 62,
              "complexity": 7,
              "parameters": 1,
              "docstring": true
            }
          ],
          "complex_functions": [
            {
              "name": "_update_story_state",
              "line_number": 1487,
              "length": 25,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_validate_physics_law",
              "line_number": 2695,
              "length": 22,
              "complexity": 15,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_validate_narrative_law",
              "line_number": 2763,
              "length": 20,
              "complexity": 14,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_validate_social_law",
              "line_number": 2827,
              "length": 20,
              "complexity": 12,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_attempt_action_repairs",
              "line_number": 2895,
              "length": 35,
              "complexity": 11,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_repair_physics_violations",
              "line_number": 3046,
              "length": 23,
              "complexity": 12,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_repair_social_violations",
              "line_number": 3111,
              "length": 25,
              "complexity": 11,
              "parameters": 3,
              "docstring": true
            }
          ],
          "deep_nesting": [
            {
              "function": "_validate_world_state_data",
              "class": "DirectorAgent",
              "line": 433,
              "depth": 5
            },
            {
              "function": "_get_other_agents_activities_feedback",
              "class": "DirectorAgent",
              "line": 985,
              "depth": 6
            },
            {
              "function": "_get_other_agents_activities_feedback",
              "class": "DirectorAgent",
              "line": 990,
              "depth": 6
            },
            {
              "function": "_get_other_agents_activities_feedback",
              "class": "DirectorAgent",
              "line": 992,
              "depth": 7
            },
            {
              "function": "_attempt_action_repairs",
              "class": "DirectorAgent",
              "line": 2937,
              "depth": 5
            },
            {
              "function": "_attempt_action_repairs",
              "class": "DirectorAgent",
              "line": 2943,
              "depth": 6
            },
            {
              "function": "_attempt_action_repairs",
              "class": "DirectorAgent",
              "line": 2949,
              "depth": 7
            },
            {
              "function": "_repair_causality_violations",
              "class": "DirectorAgent",
              "line": 2999,
              "depth": 5
            },
            {
              "function": "_repair_physics_violations",
              "class": "DirectorAgent",
              "line": 3076,
              "depth": 5
            },
            {
              "function": "_repair_social_violations",
              "class": "DirectorAgent",
              "line": 3133,
              "depth": 5
            },
            {
              "function": "_repair_social_violations",
              "class": "DirectorAgent",
              "line": 3137,
              "depth": 5
            },
            {
              "function": "_repair_social_violations",
              "class": "DirectorAgent",
              "line": 3140,
              "depth": 6
            }
          ],
          "large_classes": [
            {
              "name": "DirectorAgent",
              "line_number": 50,
              "methods": 78,
              "attributes": 0,
              "length": 1275,
              "docstring": true,
              "inheritance": 0
            }
          ]
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "evaluate_baseline.py": {
      "file_size": 35270,
      "line_count": 881,
      "blank_lines": 165,
      "comment_lines": 63,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 48,
          "cognitive_complexity": 10,
          "nesting_depth": 0,
          "max_nesting_depth": 4
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "EvaluationMetrics",
              "line_number": 63,
              "methods": 0,
              "attributes": 23,
              "length": 25,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "SeedConfiguration",
              "line_number": 103,
              "methods": 0,
              "attributes": 12,
              "length": 14,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "SeedLoader",
              "line_number": 122,
              "methods": 2,
              "attributes": 0,
              "length": 39,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "NovelEngineRunner",
              "line_number": 218,
              "methods": 9,
              "attributes": 0,
              "length": 136,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "EvaluationReporter",
              "line_number": 539,
              "methods": 3,
              "attributes": 0,
              "length": 37,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "BaselineEvaluator",
              "line_number": 695,
              "methods": 4,
              "attributes": 0,
              "length": 49,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "load_seed",
              "line_number": 126,
              "length": 23,
              "complexity": 6,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "validate_seed",
              "line_number": 186,
              "length": 14,
              "complexity": 8,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 221,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "setup_simulation",
              "line_number": 234,
              "length": 24,
              "complexity": 6,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_create_agent_from_config",
              "line_number": 280,
              "length": 12,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_build_character_data",
              "line_number": 309,
              "length": 13,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_write_character_sheet",
              "line_number": 355,
              "length": 7,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_apply_world_state_config",
              "line_number": 364,
              "length": 5,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "run_evaluation",
              "line_number": 373,
              "length": 28,
              "complexity": 7,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_should_terminate_early",
              "line_number": 441,
              "length": 5,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_calculate_metrics",
              "line_number": 450,
              "length": 33,
              "complexity": 5,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 542,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "generate_individual_report",
              "line_number": 552,
              "length": 10,
              "complexity": 1,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "generate_summary_report",
              "line_number": 620,
              "length": 21,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 698,
              "length": 7,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "evaluate_single_seed",
              "line_number": 713,
              "length": 11,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "evaluate_seed_directory",
              "line_number": 741,
              "length": 16,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "batch_evaluation",
              "line_number": 772,
              "length": 13,
              "complexity": 4,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 800,
              "length": 54,
              "complexity": 9,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "argparse",
              "alias": null,
              "type": "import"
            },
            {
              "name": "asyncio",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "yaml",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Union",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Tuple",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "timedelta",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "field",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "statistics",
              "name": "mean",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "statistics",
              "name": "median",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "statistics",
              "name": "stdev",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterData",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterStats",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "CharacterResources",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ResourceValue",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "Position",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ActionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ProposedAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ActionParameters",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ActionIntensity",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ActionTarget",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "EntityType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "ValidationStatus",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.shared_types",
              "name": "IronLawsReport",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "overall_scores",
            "turn_result",
            "resource_efficiency_score",
            "total_turns",
            "estimated_turns",
            "f",
            "metadata",
            "primary_objectives_completed",
            "evaluation_focus",
            "description",
            "pass_rate",
            "social_appropriateness_score",
            "narrative_coherence_score",
            "pos_config",
            "valid_complexities",
            "execution_time",
            "char_config",
            "repair",
            "seed_files",
            "seed_id",
            "avg_score",
            "logical_consistency_score",
            "seed_file",
            "secondary_objectives_completed",
            "pass_threshold",
            "summary_data",
            "evaluator",
            "evaluation",
            "characters",
            "turn_duration",
            "completion_rate",
            "report_filename",
            "turn_times",
            "turn_num",
            "total_actions",
            "secondary_total",
            "runner",
            "result",
            "parser",
            "passed_evaluations",
            "timestamp",
            "report_data",
            "primary_total",
            "agent",
            "version",
            "overall_score",
            "violation_rate",
            "report_path",
            "scores",
            "all_violations",
            "repairs",
            "total_evaluations",
            "NOVEL_ENGINE_AVAILABLE",
            "evaluation_passed",
            "batch_metrics",
            "m",
            "objectives",
            "summary_path",
            "memory_usage_mb",
            "stats_config",
            "repair_attempts",
            "law_code",
            "total_violations",
            "law",
            "violations",
            "metrics",
            "char",
            "report",
            "repair_success_rate",
            "group",
            "pass_thresholds",
            "resources_config",
            "count",
            "iron_laws_reports",
            "complexity",
            "repair_successes",
            "secondary_completed",
            "errors_encountered",
            "execution_times",
            "i",
            "config",
            "temp_sheet_path",
            "field",
            "pass_count",
            "required_fields",
            "evaluation_criteria",
            "violation",
            "world_config",
            "args",
            "secondary_objectives_total",
            "primary_objectives_total",
            "reporting_config",
            "character_data",
            "world_state",
            "total_time",
            "success",
            "turn_start",
            "start_time",
            "average_turn_time",
            "all_metrics",
            "iron_laws_violations",
            "logger",
            "primary_completed",
            "seed_data",
            "temp_log_path"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "main",
              "line_number": 800,
              "length": 54,
              "complexity": 9,
              "parameters": 0,
              "docstring": true
            }
          ],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "example_usage.py": {
      "file_size": 14027,
      "line_count": 343,
      "blank_lines": 53,
      "comment_lines": 26,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 15,
          "cognitive_complexity": 1,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [],
          "functions": [],
          "imports": [
            {
              "name": "asyncio",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.system_orchestrator",
              "name": "SystemOrchestrator",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.system_orchestrator",
              "name": "OrchestratorConfig",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.system_orchestrator",
              "name": "OrchestratorMode",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "DynamicContext",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "CharacterState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "EmotionalState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "MemoryItem",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "MemoryType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "EquipmentItem",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.interactions.interaction_engine",
              "name": "InteractionType",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "collaboration_result",
            "dialogue_result",
            "relationship_result",
            "characters",
            "shutdown_result",
            "metrics",
            "char_state",
            "char",
            "result",
            "sacred_cogitator",
            "dynamic_context",
            "orchestrator",
            "rel_data",
            "metrics_result",
            "memory_items",
            "startup_result",
            "logger",
            "context_result",
            "config"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "final_validation.py": {
      "file_size": 9953,
      "line_count": 237,
      "blank_lines": 48,
      "comment_lines": 18,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 11,
          "cognitive_complexity": 4,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "main",
              "line_number": 16,
              "length": 116,
              "complexity": 10,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.memory.layered_memory",
              "name": "LayeredMemorySystem",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.memory.memory_query_engine",
              "name": "MemoryQueryEngine",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.templates.dynamic_template_engine",
              "name": "DynamicTemplateEngine",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.templates.character_template_manager",
              "name": "CharacterTemplateManager",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.interactions.interaction_engine",
              "name": "InteractionEngine",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.interactions.dynamic_equipment_system",
              "name": "DynamicEquipmentSystem",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.interactions.character_interaction_processor",
              "name": "CharacterInteractionProcessor",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.system_orchestrator",
              "name": "SystemOrchestrator",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.database.context_db",
              "name": "ContextDatabase",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.character_api",
              "name": "CharacterAPI",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.character_api",
              "name": "CharacterCreationRequest",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.interaction_api",
              "name": "InteractionAPI",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.interaction_api",
              "name": "InteractionRequest",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.story_generation_api",
              "name": "StoryGenerationAPI",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.story_generation_api",
              "name": "StoryGenerationRequest",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.main_api_server",
              "name": "create_app",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "CharacterState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "MemoryItem",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "StandardResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "DynamicContext",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "InteractionResult",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "ErrorInfo",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "MemoryType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "EmotionalState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "RelationshipStatus",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.templates.character_template_manager",
              "name": "CharacterArchetype",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.interactions.interaction_engine",
              "name": "InteractionType",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "passed_tests",
            "story_id",
            "chinese_req",
            "failed_tests",
            "implementation",
            "chinese_requirements",
            "total_tests",
            "success",
            "app",
            "stories",
            "details",
            "feature",
            "validation_results",
            "description",
            "name",
            "_",
            "technical_features",
            "english_desc"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "main",
              "line_number": 16,
              "length": 116,
              "complexity": 10,
              "parameters": 0,
              "docstring": true
            }
          ],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "fix_test_file.py": {
      "file_size": 2059,
      "line_count": 54,
      "blank_lines": 11,
      "comment_lines": 9,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 6,
          "cognitive_complexity": 2,
          "nesting_depth": 0,
          "max_nesting_depth": 5
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "fix_test_file",
              "line_number": 6,
              "length": 28,
              "complexity": 12,
              "parameters": 0,
              "docstring": false
            }
          ],
          "imports": [
            {
              "name": "re",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "lines",
            "content",
            "line",
            "i",
            "fixed_lines",
            "f"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [
            {
              "name": "fix_test_file",
              "line_number": 6,
              "length": 28,
              "complexity": 12,
              "parameters": 0,
              "docstring": false
            }
          ],
          "deep_nesting": [
            {
              "function": "fix_test_file",
              "class": null,
              "line": 29,
              "depth": 5
            }
          ],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "fix_test_file_comprehensive.py": {
      "file_size": 14181,
      "line_count": 386,
      "blank_lines": 84,
      "comment_lines": 43,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 1,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "fix_test_file_comprehensive",
              "line_number": 8,
              "length": 7,
              "complexity": 1,
              "parameters": 0,
              "docstring": false
            }
          ],
          "imports": [
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "content",
            "fixed_content",
            "f"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "narrative_actions.py": {
      "file_size": 17673,
      "line_count": 390,
      "blank_lines": 67,
      "comment_lines": 23,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 17,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "NarrativeActionType",
              "line_number": 35,
              "methods": 0,
              "attributes": 8,
              "length": 10,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "NarrativeOutcome",
              "line_number": 48,
              "methods": 0,
              "attributes": 8,
              "length": 10,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "NarrativeActionResolver",
              "line_number": 65,
              "methods": 11,
              "attributes": 0,
              "length": 110,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__init__",
              "line_number": 73,
              "length": 6,
              "complexity": 1,
              "parameters": 2,
              "docstring": false
            },
            {
              "name": "resolve_investigate_action",
              "line_number": 80,
              "length": 13,
              "complexity": 3,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "resolve_dialogue_action",
              "line_number": 135,
              "length": 13,
              "complexity": 3,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "resolve_diplomacy_action",
              "line_number": 196,
              "length": 11,
              "complexity": 3,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "resolve_betrayal_action",
              "line_number": 246,
              "length": 7,
              "complexity": 2,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_calculate_investigation_success",
              "line_number": 286,
              "length": 11,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_calculate_dialogue_success",
              "line_number": 307,
              "length": 10,
              "complexity": 4,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_calculate_diplomacy_success",
              "line_number": 325,
              "length": 11,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_investigation_discovery",
              "line_number": 343,
              "length": 9,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_generate_dialogue_information",
              "line_number": 361,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_check_story_advancement",
              "line_number": 372,
              "length": 13,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "random",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Tuple",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "enum",
              "name": "Enum",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "shared_types",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "shared_types",
              "name": "ActionPriority",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "environmental_change",
            "COMMUNICATE_FACTION",
            "INVESTIGATE",
            "discoveries",
            "success_chance",
            "character_faction",
            "faction_loyalty",
            "personal_relationships",
            "ANALYZE_DATA",
            "narrative_consequences",
            "decision_weights",
            "description",
            "DIPLOMACY",
            "target",
            "character_impact",
            "base_chance",
            "BETRAYAL",
            "DIALOGUE",
            "discovered_information",
            "information",
            "discovered_info",
            "outcome",
            "success",
            "story_advancement",
            "personality_traits",
            "OBSERVE_ENVIRONMENT",
            "SEARCH_AREA",
            "relationship_changes",
            "logger",
            "character_name",
            "advancement",
            "dialogue_entry"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "persona_agent.py": {
      "file_size": 138541,
      "line_count": 3001,
      "blank_lines": 571,
      "comment_lines": 302,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 281,
          "cognitive_complexity": 30,
          "nesting_depth": 0,
          "max_nesting_depth": 6
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "ThreatLevel",
              "line_number": 50,
              "methods": 0,
              "attributes": 5,
              "length": 7,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "WorldEvent",
              "line_number": 61,
              "methods": 0,
              "attributes": 8,
              "length": 10,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "SubjectiveInterpretation",
              "line_number": 79,
              "methods": 0,
              "attributes": 7,
              "length": 9,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "PersonaAgent",
              "line_number": 394,
              "methods": 69,
              "attributes": 0,
              "length": 1003,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "_validate_gemini_api_key",
              "line_number": 96,
              "length": 13,
              "complexity": 4,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "_get_http_session",
              "line_number": 123,
              "length": 10,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "_cached_gemini_request",
              "line_number": 154,
              "length": 3,
              "complexity": 1,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "_make_gemini_api_request",
              "line_number": 173,
              "length": 6,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_make_gemini_api_request_direct",
              "line_number": 201,
              "length": 36,
              "complexity": 9,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_generate_fallback_response",
              "line_number": 287,
              "length": 36,
              "complexity": 9,
              "parameters": 6,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 416,
              "length": 18,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_derive_agent_id_from_path",
              "line_number": 475,
              "length": 5,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_read_cached_file",
              "line_number": 491,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_cached_yaml",
              "line_number": 509,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "load_character_context",
              "line_number": 526,
              "length": 56,
              "complexity": 18,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_parse_character_sheet_content",
              "line_number": 631,
              "length": 28,
              "complexity": 10,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_section",
              "line_number": 689,
              "length": 5,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_parse_identity_section",
              "line_number": 704,
              "length": 9,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_psychological_section",
              "line_number": 723,
              "length": 12,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_behavioral_section",
              "line_number": 741,
              "length": 12,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_bullet_points",
              "line_number": 759,
              "length": 12,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_weighted_items",
              "line_number": 772,
              "length": 14,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_knowledge_section",
              "line_number": 789,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_social_section",
              "line_number": 794,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_capabilities_section",
              "line_number": 799,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_simple_field_format",
              "line_number": 804,
              "length": 22,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_core_identity",
              "line_number": 854,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_extract_personality_traits",
              "line_number": 862,
              "length": 7,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_estimate_trait_strength",
              "line_number": 874,
              "length": 18,
              "complexity": 7,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_decision_weights",
              "line_number": 939,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_apply_faction_specific_weights",
              "line_number": 952,
              "length": 13,
              "complexity": 10,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_extract_relationships",
              "line_number": 1006,
              "length": 7,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_evaluate_relationship_strength",
              "line_number": 1016,
              "length": 12,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_extract_knowledge_domains",
              "line_number": 1039,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_initialize_subjective_worldview",
              "line_number": 1046,
              "length": 9,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "decision_loop",
              "line_number": 1078,
              "length": 30,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_process_world_state_update",
              "line_number": 1161,
              "length": 15,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_assess_current_situation",
              "line_number": 1193,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_identify_available_actions",
              "line_number": 1211,
              "length": 18,
              "complexity": 7,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_evaluate_action_option",
              "line_number": 1272,
              "length": 30,
              "complexity": 9,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_select_best_action",
              "line_number": 1335,
              "length": 13,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_action_reasoning",
              "line_number": 1376,
              "length": 12,
              "complexity": 4,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_determine_action_priority",
              "line_number": 1407,
              "length": 10,
              "complexity": 6,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "update_internal_memory",
              "line_number": 1421,
              "length": 26,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "update_memory",
              "line_number": 1504,
              "length": 10,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_generate_personal_interpretation",
              "line_number": 1535,
              "length": 17,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_should_store_in_long_term_memory",
              "line_number": 1568,
              "length": 15,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_update_relationships_from_experience",
              "line_number": 1601,
              "length": 28,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_update_worldview_from_experience",
              "line_number": 1640,
              "length": 21,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_update_personality_from_experience",
              "line_number": 1669,
              "length": 25,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_update_location_knowledge",
              "line_number": 1710,
              "length": 7,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_update_entity_knowledge",
              "line_number": 1720,
              "length": 7,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_update_faction_knowledge",
              "line_number": 1730,
              "length": 11,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_would_character_know_about_event",
              "line_number": 1746,
              "length": 13,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_process_subjective_event",
              "line_number": 1768,
              "length": 6,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_interpret_event_description",
              "line_number": 1789,
              "length": 13,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_determine_emotional_response",
              "line_number": 1810,
              "length": 22,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_assess_event_threat_level",
              "line_number": 1841,
              "length": 13,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_assess_overall_threat_level",
              "line_number": 1860,
              "length": 14,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_get_current_goals",
              "line_number": 1885,
              "length": 11,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_assess_available_resources",
              "line_number": 1914,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_assess_social_obligations",
              "line_number": 1924,
              "length": 11,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_assess_mission_status",
              "line_number": 1949,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_assess_environmental_factors",
              "line_number": 1959,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_character_has_combat_capability",
              "line_number": 1971,
              "length": 11,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_apply_personality_modifiers",
              "line_number": 1990,
              "length": 12,
              "complexity": 9,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_apply_situational_modifiers",
              "line_number": 2012,
              "length": 19,
              "complexity": 10,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_assess_threat_from_description",
              "line_number": 2041,
              "length": 13,
              "complexity": 4,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_llm_enhanced_decision_making",
              "line_number": 2060,
              "length": 14,
              "complexity": 3,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_construct_character_prompt",
              "line_number": 2104,
              "length": 75,
              "complexity": 21,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_call_llm",
              "line_number": 2268,
              "length": 20,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_is_valid_llm_response_format",
              "line_number": 2330,
              "length": 13,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_parse_llm_response",
              "line_number": 2357,
              "length": 49,
              "complexity": 15,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_determine_llm_action_priority",
              "line_number": 2463,
              "length": 15,
              "complexity": 7,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "get_character_state",
              "line_number": 2502,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "get_known_information",
              "line_number": 2522,
              "length": 14,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "process_communication",
              "line_number": 2589,
              "length": 11,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "_determine_communication_tone",
              "line_number": 2632,
              "length": 11,
              "complexity": 5,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_generate_communication_response",
              "line_number": 2645,
              "length": 14,
              "complexity": 6,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "create_character_from_template",
              "line_number": 2671,
              "length": 8,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "analyze_agent_compatibility",
              "line_number": 2700,
              "length": 100,
              "complexity": 32,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_process_narrative_situation_update",
              "line_number": 2763,
              "length": 23,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_identify_narrative_actions",
              "line_number": 2813,
              "length": 16,
              "complexity": 8,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_evaluate_narrative_action",
              "line_number": 2889,
              "length": 35,
              "complexity": 16,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "example_usage",
              "line_number": 2958,
              "length": 7,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "name": "random",
              "alias": null,
              "type": "import"
            },
            {
              "name": "requests",
              "alias": null,
              "type": "import"
            },
            {
              "name": "yaml",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Tuple",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "field",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "enum",
              "name": "Enum",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "functools",
              "name": "lru_cache",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "urllib3.util.retry",
              "name": "Retry",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "requests.adapters",
              "name": "HTTPAdapter",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "shared_types",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "shared_types",
              "name": "ActionPriority",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeActionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeActionResolver",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "hashlib",
              "alias": null,
              "type": "import"
            },
            {
              "name": "random",
              "alias": null,
              "type": "import"
            },
            {
              "name": "random",
              "alias": null,
              "type": "import"
            },
            {
              "name": "datetime",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "narrative_actions",
            "action_value",
            "decision_weights_section",
            "current_time",
            "location_knowledge",
            "character_background",
            "k",
            "emotional_impact",
            "location_info",
            "participant",
            "faction_id",
            "combat_skills",
            "faction_info",
            "NEGLIGIBLE",
            "topic_lower",
            "traits_list",
            "aggressive_trait",
            "faction2",
            "key",
            "action_threshold",
            "relationships",
            "base_reasoning",
            "psych_profile",
            "best_action",
            "response_json",
            "patterns_content",
            "entity",
            "trait_key",
            "parsed_action",
            "response",
            "reasoning_templates",
            "character_faction",
            "personal_relationships",
            "trait_name",
            "factions_text",
            "interpretation",
            "current_turn",
            "psychological",
            "score",
            "affected_entities",
            "description",
            "trait",
            "decision_weights",
            "entity_info",
            "memory_file",
            "skill_description",
            "available_actions",
            "factions",
            "description_lower",
            "location_id",
            "outcome",
            "world_state_section",
            "story_progression",
            "threat_assessment",
            "knowledge",
            "narrative_score",
            "involves_enemies",
            "personality_traits",
            "full_path",
            "entity_id",
            "log_entry",
            "mental_content",
            "action_history_section",
            "character_faction_loyalty",
            "behavioral",
            "event_type",
            "cautious_trait",
            "known_entities_count",
            "event",
            "modified_score",
            "behavioral_config",
            "response_text",
            "content",
            "relationship_changes",
            "capabilities",
            "character_name",
            "MODERATE",
            "agent_id",
            "action_index",
            "md_files",
            "available_story_actions",
            "moderate_threats",
            "current_atmosphere",
            "response_seed",
            "recent_threat_levels",
            "v",
            "response_content",
            "keyword",
            "strong_positive_keywords",
            "assessment",
            "narrative_section",
            "original_event_id",
            "evaluation",
            "actions_section",
            "filename",
            "event_location",
            "reasoning",
            "involves_allies",
            "trait_value",
            "current_view",
            "_http_session",
            "relationship_type",
            "character_context",
            "behavior_section",
            "filename_key",
            "selected_action",
            "action_desc",
            "current_threats",
            "knowledge_entries",
            "psych_section",
            "agent2_to_agent1",
            "story_markers",
            "value",
            "api_key_hash",
            "match",
            "social_network",
            "entity_knowledge",
            "current_relationship",
            "agent2_cautious",
            "social_connectivity",
            "target",
            "available_action_types",
            "traits_text",
            "timestamp",
            "recent_events",
            "negative_keywords",
            "faction_relationship",
            "agent",
            "name_match",
            "entity_name",
            "high_keywords",
            "target_match",
            "agent1_aggressive",
            "file_lower",
            "new_view",
            "trait_description",
            "prompt_hash",
            "capabilities_section",
            "positive_keywords",
            "relationship_strength",
            "memory_entry",
            "relevant_memories",
            "message_type",
            "file_path",
            "responses",
            "location_updates",
            "factions_match",
            "yaml_content",
            "high_threats",
            "important_relationships",
            "faction1",
            "warhammer_trait_scores",
            "llm_response",
            "yaml_file",
            "api_response",
            "variation",
            "memory_priority",
            "new_relationship",
            "moderate_keywords",
            "prompt",
            "memory_log_path",
            "current_prompt",
            "critical_keywords",
            "target_value",
            "available_type",
            "active_threats",
            "session",
            "weight",
            "mission_status",
            "retry_strategy",
            "identity_section",
            "relationships_section",
            "current_timestamp",
            "relationship",
            "agent1_to_agent2",
            "request_body",
            "traits_content",
            "trait_adjustments",
            "p",
            "CRITICAL",
            "has_reasoning",
            "response_tone",
            "entity_count",
            "hybrid_context",
            "event_id",
            "location",
            "personality_section",
            "LOW",
            "weights_content",
            "event_scope",
            "primary_faction",
            "patterns_match",
            "loyalty_similarity",
            "best_score",
            "info",
            "participants",
            "simple_format_data",
            "strength",
            "agent1_loyalty",
            "traits",
            "api_url",
            "adapter",
            "headers",
            "new_value",
            "combat_keywords",
            "current_narrative_prompt",
            "comm_log",
            "narrative_type",
            "i",
            "story_setting",
            "HIGH",
            "weights_match",
            "llm_action",
            "resources",
            "action",
            "atmosphere",
            "adjustment",
            "has_target",
            "api_key",
            "events",
            "source",
            "significance",
            "personality_compatibility",
            "threat",
            "has_action",
            "faction_name",
            "recent_events_count",
            "change",
            "mental_match",
            "action_match",
            "reasoning_match",
            "combat_factions",
            "reasoning_lower",
            "key_match",
            "action_type",
            "high_priority_keywords",
            "agent2_loyalty",
            "belief_impact",
            "threat_level",
            "setting",
            "file",
            "trait_variations",
            "faction_loyalty",
            "skill_name",
            "memory",
            "action_evaluations",
            "pattern",
            "character_impact",
            "patterns",
            "current_value",
            "compatibility",
            "faction",
            "character_data",
            "campaign_title",
            "goal",
            "emotional_response",
            "knowledge_section",
            "current_location_info",
            "traits_dict",
            "obligations",
            "total_files",
            "narrative_context",
            "markdown_parts",
            "character_understanding",
            "selected_response",
            "current_goals",
            "data",
            "situation_section",
            "items",
            "situation_assessment",
            "dirname",
            "scope",
            "relationship_description",
            "priority",
            "logger",
            "faction_key",
            "line",
            "simulation_time",
            "social_section",
            "faction_prompt",
            "fallback_response",
            "traits_match",
            "file_content",
            "word",
            "t",
            "yaml_files",
            "character_action",
            "identity"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "load_character_context",
              "line_number": 526,
              "length": 56,
              "complexity": 18,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_construct_character_prompt",
              "line_number": 2104,
              "length": 75,
              "complexity": 21,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "analyze_agent_compatibility",
              "line_number": 2700,
              "length": 100,
              "complexity": 32,
              "parameters": 2,
              "docstring": true
            }
          ],
          "complex_functions": [
            {
              "name": "load_character_context",
              "line_number": 526,
              "length": 56,
              "complexity": 18,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "_update_relationships_from_experience",
              "line_number": 1601,
              "length": 28,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_determine_emotional_response",
              "line_number": 1810,
              "length": 22,
              "complexity": 13,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_construct_character_prompt",
              "line_number": 2104,
              "length": 75,
              "complexity": 21,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "_parse_llm_response",
              "line_number": 2357,
              "length": 49,
              "complexity": 15,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "analyze_agent_compatibility",
              "line_number": 2700,
              "length": 100,
              "complexity": 32,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_evaluate_narrative_action",
              "line_number": 2889,
              "length": 35,
              "complexity": 16,
              "parameters": 3,
              "docstring": true
            }
          ],
          "deep_nesting": [
            {
              "function": "_apply_faction_specific_weights",
              "class": "PersonaAgent",
              "line": 997,
              "depth": 5
            },
            {
              "function": "_evaluate_action_option",
              "class": "PersonaAgent",
              "line": 1317,
              "depth": 5
            },
            {
              "function": "_evaluate_action_option",
              "class": "PersonaAgent",
              "line": 1323,
              "depth": 6
            },
            {
              "function": "_update_relationships_from_experience",
              "class": "PersonaAgent",
              "line": 1621,
              "depth": 5
            },
            {
              "function": "_update_relationships_from_experience",
              "class": "PersonaAgent",
              "line": 1627,
              "depth": 5
            },
            {
              "function": "_parse_llm_response",
              "class": "PersonaAgent",
              "line": 2409,
              "depth": 5
            },
            {
              "function": "_evaluate_narrative_action",
              "class": null,
              "line": 2935,
              "depth": 5
            },
            {
              "function": "_evaluate_narrative_action",
              "class": null,
              "line": 2937,
              "depth": 5
            }
          ],
          "large_classes": [
            {
              "name": "PersonaAgent",
              "line_number": 394,
              "methods": 69,
              "attributes": 0,
              "length": 1003,
              "docstring": true,
              "inheritance": 0
            }
          ]
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "run_complete_demo.py": {
      "file_size": 31991,
      "line_count": 733,
      "blank_lines": 121,
      "comment_lines": 31,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 25,
          "cognitive_complexity": 7,
          "nesting_depth": 0,
          "max_nesting_depth": 4
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "CompleteDemoRunner",
              "line_number": 48,
              "methods": 1,
              "attributes": 0,
              "length": 291,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__init__",
              "line_number": 56,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "asyncio",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "src.core.system_orchestrator",
              "name": "SystemOrchestrator",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.system_orchestrator",
              "name": "OrchestratorConfig",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.system_orchestrator",
              "name": "OrchestratorMode",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "CharacterState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "EmotionalState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "MemoryItem",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "MemoryType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "DynamicContext",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.interactions.interaction_engine",
              "name": "InteractionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.templates.character_template_manager",
              "name": "CharacterArchetype",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "story_id",
            "emotional_state",
            "end_time",
            "relationship_result",
            "warning_msg",
            "scenario",
            "shutdown_result",
            "characters_data",
            "metrics",
            "memories",
            "error_msg",
            "interaction_scenarios",
            "memory",
            "story_info",
            "result",
            "char_a",
            "demo_runner",
            "memory_data",
            "char_data",
            "context",
            "demo_duration",
            "status",
            "description",
            "__all__",
            "story_configurations",
            "memory_scenarios",
            "char_b",
            "start_time",
            "rel_data",
            "metrics_result",
            "startup_result",
            "character_state",
            "relationship_pairs",
            "exit_code",
            "logger",
            "agent_id",
            "i",
            "config",
            "stories_status"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": [
            {
              "name": "CompleteDemoRunner",
              "line_number": 48,
              "methods": 1,
              "attributes": 0,
              "length": 291,
              "docstring": true,
              "inheritance": 0
            }
          ]
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "run_simulation.py": {
      "file_size": 13124,
      "line_count": 357,
      "blank_lines": 71,
      "comment_lines": 29,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 26,
          "cognitive_complexity": 6,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "verify_character_sheets",
              "line_number": 56,
              "length": 19,
              "complexity": 5,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "initialize_director_agent",
              "line_number": 88,
              "length": 10,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "create_persona_agents",
              "line_number": 109,
              "length": 20,
              "complexity": 4,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "register_agents_with_director",
              "line_number": 152,
              "length": 20,
              "complexity": 5,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "run_3_turn_simulation",
              "line_number": 193,
              "length": 44,
              "complexity": 5,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 268,
              "length": 63,
              "complexity": 11,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "character_factory",
              "name": "CharacterFactory",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_config",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_simulation_turns",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_default_character_sheets",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_log_file_path",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "factory",
            "turn_result",
            "duration",
            "log_file",
            "char_name",
            "errors_count",
            "total_duration",
            "total_actions",
            "character_sheets_path",
            "result",
            "registered_count",
            "faction",
            "total_errors",
            "agent",
            "required_files",
            "turn_number",
            "success",
            "turn_results",
            "character_display_name",
            "participants",
            "agents",
            "missing_files",
            "director",
            "num_turns",
            "actions_count",
            "character_dir",
            "file_path",
            "simulation_start",
            "simulation_end",
            "logger",
            "character_name",
            "agent_id",
            "file_name",
            "i",
            "config",
            "character_sheets"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "main",
              "line_number": 268,
              "length": 63,
              "complexity": 11,
              "parameters": 0,
              "docstring": true
            }
          ],
          "complex_functions": [
            {
              "name": "main",
              "line_number": 268,
              "length": 63,
              "complexity": 11,
              "parameters": 0,
              "docstring": true
            }
          ],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "shared_types.py": {
      "file_size": 1786,
      "line_count": 57,
      "blank_lines": 11,
      "comment_lines": 2,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 4,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "ActionPriority",
              "line_number": 23,
              "methods": 0,
              "attributes": 4,
              "length": 6,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "CharacterAction",
              "line_number": 32,
              "methods": 1,
              "attributes": 5,
              "length": 16,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__post_init__",
              "line_number": 46,
              "length": 9,
              "complexity": 5,
              "parameters": 1,
              "docstring": true
            }
          ],
          "imports": [
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "field",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "enum",
              "name": "Enum",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "action_type",
            "parameters",
            "LOW",
            "priority",
            "target",
            "reasoning",
            "CRITICAL",
            "HIGH",
            "NORMAL"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "simple_demo.py": {
      "file_size": 3101,
      "line_count": 87,
      "blank_lines": 18,
      "comment_lines": 3,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 1,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 0
        },
        "structure_metrics": {
          "classes": [],
          "functions": [],
          "imports": [
            {
              "name": "asyncio",
              "alias": null,
              "type": "import"
            },
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.character_api",
              "name": "CharacterAPI",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.interaction_api",
              "name": "InteractionAPI",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.story_generation_api",
              "name": "StoryGenerationAPI",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.api.main_api_server",
              "name": "create_app",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "CharacterState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.core.data_models",
              "name": "EmotionalState",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "src.templates.character_template_manager",
              "name": "CharacterArchetype",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "traceback",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": []
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_api_server.py": {
      "file_size": 140199,
      "line_count": 3330,
      "blank_lines": 643,
      "comment_lines": 384,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 49,
          "cognitive_complexity": 13,
          "nesting_depth": 0,
          "max_nesting_depth": 5
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "TestRootEndpoint",
              "line_number": 68,
              "methods": 4,
              "attributes": 0,
              "length": 31,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestHealthEndpoint",
              "line_number": 148,
              "methods": 3,
              "attributes": 0,
              "length": 32,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestErrorHandling",
              "line_number": 222,
              "methods": 3,
              "attributes": 0,
              "length": 24,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCORSMiddleware",
              "line_number": 277,
              "methods": 2,
              "attributes": 0,
              "length": 12,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestAPIDocumentation",
              "line_number": 312,
              "methods": 3,
              "attributes": 0,
              "length": 21,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestServerConfiguration",
              "line_number": 357,
              "methods": 3,
              "attributes": 0,
              "length": 24,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestResponseModels",
              "line_number": 416,
              "methods": 2,
              "attributes": 0,
              "length": 17,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCharactersEndpoint",
              "line_number": 455,
              "methods": 8,
              "attributes": 0,
              "length": 83,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestIntegrationScenarios",
              "line_number": 656,
              "methods": 3,
              "attributes": 0,
              "length": 40,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCharacterDetailEndpoint",
              "line_number": 742,
              "methods": 7,
              "attributes": 0,
              "length": 93,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCharacterDetailEndpointImplementationExpectations",
              "line_number": 1052,
              "methods": 3,
              "attributes": 0,
              "length": 41,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestSimulationsEndpoint",
              "line_number": 1163,
              "methods": 8,
              "attributes": 0,
              "length": 158,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestSimulationEndpointExpectedBehavior",
              "line_number": 1545,
              "methods": 9,
              "attributes": 0,
              "length": 141,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCharacterCreationEndpoint",
              "line_number": 1905,
              "methods": 16,
              "attributes": 0,
              "length": 344,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCampaignsListEndpoint",
              "line_number": 2839,
              "methods": 4,
              "attributes": 0,
              "length": 36,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCampaignCreationEndpoint",
              "line_number": 2937,
              "methods": 7,
              "attributes": 0,
              "length": 69,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCampaignBriefGeneration",
              "line_number": 3131,
              "methods": 5,
              "attributes": 0,
              "length": 52,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "client",
              "line_number": 43,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "mock_config",
              "line_number": 54,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_root_endpoint_success",
              "line_number": 71,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_root_endpoint_response_model",
              "line_number": 95,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_root_endpoint_logging",
              "line_number": 114,
              "length": 6,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_root_endpoint_with_config_error",
              "line_number": 130,
              "length": 7,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_health_endpoint_success",
              "line_number": 152,
              "length": 15,
              "complexity": 1,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "test_health_endpoint_config_error",
              "line_number": 183,
              "length": 9,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_health_endpoint_logging",
              "line_number": 206,
              "length": 6,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_404_not_found",
              "line_number": 225,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_health_endpoint_exception_handling",
              "line_number": 244,
              "length": 8,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_error_logging",
              "line_number": 263,
              "length": 5,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_cors_headers_present",
              "line_number": 280,
              "length": 6,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_preflight_request",
              "line_number": 300,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_openapi_docs_accessible",
              "line_number": 315,
              "length": 5,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_redoc_docs_accessible",
              "line_number": 327,
              "length": 5,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_openapi_json_accessible",
              "line_number": 339,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_api_metadata",
              "line_number": 360,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_lifespan_success",
              "line_number": 379,
              "length": 6,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_lifespan_config_error",
              "line_number": 397,
              "length": 7,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_health_response_model_validation",
              "line_number": 419,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_error_response_model_validation",
              "line_number": 436,
              "length": 8,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_characters_response_model_validation",
              "line_number": 458,
              "length": 10,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_characters_endpoint_success",
              "line_number": 481,
              "length": 12,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_characters_endpoint_logging",
              "line_number": 513,
              "length": 9,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_characters_endpoint_api_documentation",
              "line_number": 536,
              "length": 17,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_characters_endpoint_response_headers",
              "line_number": 569,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_characters_endpoint_success_scenario_mock",
              "line_number": 586,
              "length": 13,
              "complexity": 1,
              "parameters": 6,
              "docstring": true
            },
            {
              "name": "mock_isdir_func",
              "line_number": 601,
              "length": 2,
              "complexity": 1,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_characters_endpoint_directory_not_found_scenario_mock",
              "line_number": 615,
              "length": 9,
              "complexity": 1,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "test_characters_endpoint_cors_support",
              "line_number": 636,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_full_health_check_workflow",
              "line_number": 660,
              "length": 12,
              "complexity": 1,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "test_api_documentation_workflow",
              "line_number": 684,
              "length": 11,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_characters_endpoint_integration_workflow",
              "line_number": 708,
              "length": 15,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_detail_response_model_validation",
              "line_number": 745,
              "length": 19,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_character_detail_endpoint_not_implemented",
              "line_number": 784,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_detail_endpoint_various_characters",
              "line_number": 804,
              "length": 15,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_detail_endpoint_invalid_character_names",
              "line_number": 839,
              "length": 10,
              "complexity": 6,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_detail_endpoint_api_documentation",
              "line_number": 871,
              "length": 27,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_detail_endpoint_response_headers",
              "line_number": 919,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_detail_endpoint_logging",
              "line_number": 933,
              "length": 9,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "mock_character_files",
              "line_number": 959,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "mock_character_directory_scenarios",
              "line_number": 1016,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_expected_success_case_with_real_character",
              "line_number": 1060,
              "length": 21,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_expected_404_for_nonexistent_character",
              "line_number": 1109,
              "length": 8,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_expected_behavior_with_test_character",
              "line_number": 1132,
              "length": 10,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_simulation_request_model_validation",
              "line_number": 1166,
              "length": 27,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_simulation_request_model_validation_errors",
              "line_number": 1220,
              "length": 20,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_simulation_response_model_validation",
              "line_number": 1265,
              "length": 20,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_simulation_endpoint_implemented_behavior",
              "line_number": 1333,
              "length": 25,
              "complexity": 1,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "test_simulation_endpoint_request_validation_errors",
              "line_number": 1387,
              "length": 20,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_simulation_endpoint_malformed_json",
              "line_number": 1428,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_simulation_endpoint_api_documentation",
              "line_number": 1446,
              "length": 22,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_simulation_endpoint_cors_support",
              "line_number": 1492,
              "length": 18,
              "complexity": 1,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "setup_simulation_mocks",
              "line_number": 1553,
              "length": 16,
              "complexity": 1,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "character_creation_side_effect",
              "line_number": 1560,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_expected_successful_simulation_with_valid_characters",
              "line_number": 1579,
              "length": 19,
              "complexity": 1,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "test_expected_404_for_nonexistent_characters",
              "line_number": 1631,
              "length": 19,
              "complexity": 3,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "character_creation_side_effect",
              "line_number": 1645,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_expected_default_configuration_handling",
              "line_number": 1672,
              "length": 11,
              "complexity": 2,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "test_expected_edge_case_minimum_characters",
              "line_number": 1707,
              "length": 11,
              "complexity": 2,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "test_expected_edge_case_maximum_characters",
              "line_number": 1739,
              "length": 20,
              "complexity": 2,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "test_expected_narrative_style_handling",
              "line_number": 1786,
              "length": 13,
              "complexity": 2,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "test_expected_mixed_existing_and_nonexistent_characters",
              "line_number": 1823,
              "length": 18,
              "complexity": 3,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "mixed_character_creation_side_effect",
              "line_number": 1838,
              "length": 4,
              "complexity": 2,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_expected_simulation_performance_metadata",
              "line_number": 1865,
              "length": 12,
              "complexity": 2,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "mock_gemini_v2_response",
              "line_number": 1920,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "mock_gemini_minimal_response",
              "line_number": 2048,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "sample_upload_files",
              "line_number": 2073,
              "length": 10,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_creation_multipart_form_validation",
              "line_number": 2089,
              "length": 8,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_character_creation_with_ai_scribe_success",
              "line_number": 2113,
              "length": 29,
              "complexity": 2,
              "parameters": 7,
              "docstring": true
            },
            {
              "name": "test_character_creation_file_structure_validation",
              "line_number": 2183,
              "length": 27,
              "complexity": 7,
              "parameters": 9,
              "docstring": true
            },
            {
              "name": "mock_exists_func",
              "line_number": 2200,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_character_creation_content_parsing_validation",
              "line_number": 2247,
              "length": 35,
              "complexity": 3,
              "parameters": 6,
              "docstring": true
            },
            {
              "name": "mock_exists_func",
              "line_number": 2264,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_character_creation_ai_scribe_fallback_scenario",
              "line_number": 2318,
              "length": 29,
              "complexity": 3,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "mock_exists_func",
              "line_number": 2335,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_character_creation_validation_errors_multipart",
              "line_number": 2379,
              "length": 16,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_creation_duplicate_name_conflict",
              "line_number": 2438,
              "length": 8,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_creation_file_upload_processing",
              "line_number": 2465,
              "length": 32,
              "complexity": 3,
              "parameters": 6,
              "docstring": true
            },
            {
              "name": "mock_exists_func",
              "line_number": 2499,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_character_creation_gemini_api_error_handling",
              "line_number": 2539,
              "length": 21,
              "complexity": 3,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "mock_exists_func",
              "line_number": 2556,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_character_creation_malformed_ai_response_handling",
              "line_number": 2590,
              "length": 25,
              "complexity": 4,
              "parameters": 5,
              "docstring": true
            },
            {
              "name": "mock_exists_func",
              "line_number": 2612,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_character_creation_api_documentation_multipart",
              "line_number": 2650,
              "length": 30,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_creation_cors_support",
              "line_number": 2703,
              "length": 6,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_character_creation_complete_integration_workflow",
              "line_number": 2729,
              "length": 60,
              "complexity": 8,
              "parameters": 6,
              "docstring": true
            },
            {
              "name": "mock_exists_func",
              "line_number": 2768,
              "length": 6,
              "complexity": 3,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_campaigns_response_model_validation",
              "line_number": 2847,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_get_campaigns_endpoint_success",
              "line_number": 2867,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_get_campaigns_directory_not_found",
              "line_number": 2891,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_get_campaigns_permission_error",
              "line_number": 2914,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_creation_request_model_validation",
              "line_number": 2945,
              "length": 10,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_campaign_creation_response_model_validation",
              "line_number": 2971,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_post_campaigns_endpoint_success",
              "line_number": 2991,
              "length": 17,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_post_campaigns_duplicate_name_conflict",
              "line_number": 3028,
              "length": 10,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_post_campaigns_invalid_name_format",
              "line_number": 3056,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_post_campaigns_directory_creation_failure",
              "line_number": 3080,
              "length": 10,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_post_campaigns_missing_required_field",
              "line_number": 3108,
              "length": 6,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_creation_with_brief_generation_success",
              "line_number": 3139,
              "length": 15,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_creation_brief_generation_failure",
              "line_number": 3202,
              "length": 11,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_creation_without_description",
              "line_number": 3237,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_creation_empty_description",
              "line_number": 3266,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_creation_description_too_long",
              "line_number": 3292,
              "length": 8,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "uuid",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "Mock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "MagicMock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi.testclient",
              "name": "TestClient",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi",
              "name": "status",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "app",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "HealthResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "ErrorResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "CharactersListResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "CharacterDetailResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "FileCount",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "SimulationRequest",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "SimulationResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "CampaignsListResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "CampaignCreationRequest",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "api_server",
              "name": "CampaignCreationResponse",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "re",
              "alias": null,
              "type": "import"
            },
            {
              "name": "uuid",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "stats_content",
            "detail",
            "filepath",
            "nonexistent_characters",
            "defaults_request",
            "core_content",
            "profile_file",
            "logging_calls",
            "f",
            "parameters",
            "response_model",
            "profile_content",
            "history_content",
            "response",
            "openapi_data",
            "combat_file",
            "success_response",
            "prompt_used",
            "mock_director_instance",
            "base_request",
            "actual_characters",
            "background_file",
            "unique_id",
            "files",
            "mock_chronicler_instance",
            "min_request",
            "json_content",
            "missing_field",
            "lore_file",
            "expected_statuses",
            "too_many_chars",
            "error_response",
            "content",
            "character_name",
            "response_data",
            "call_args",
            "example",
            "history_file",
            "expected_file",
            "invalid_request",
            "filename",
            "min_chars_data",
            "duration",
            "valid_data",
            "mock_factory_instance",
            "scenario",
            "turns_request",
            "mock_brief_response",
            "campaigns",
            "invalid_name",
            "turns",
            "characters_response",
            "styles",
            "detail_message",
            "docs_data",
            "mock_formatter",
            "empty_chars",
            "mock_agent2",
            "health_response",
            "char_dir",
            "test_client",
            "mock_agent",
            "basic_stats_file",
            "md_file",
            "invalid_turns",
            "minimal_request",
            "character_response",
            "health_data",
            "style_request",
            "invalid_style",
            "mock_exists",
            "mock_gemini",
            "baseline_characters",
            "responses",
            "file_path",
            "openapi_response",
            "min_response",
            "core_file",
            "warning_calls",
            "file_count_data",
            "request",
            "mixed_request",
            "max_chars_data",
            "post_method",
            "v2_file",
            "defaults_data",
            "malformed_response",
            "invalid_scenarios",
            "test_char_dir",
            "mock_path",
            "char",
            "style_data",
            "request_body",
            "call",
            "get_method",
            "root_response",
            "backstory_file",
            "warning_message",
            "root_data",
            "simulations_path",
            "long_description",
            "expected_name",
            "turns_data",
            "info",
            "mock_agents",
            "empty_data",
            "invalid_data",
            "files_to_upload",
            "valid_response",
            "docs_response",
            "_",
            "form_data",
            "test_files_dir",
            "md_content",
            "min_data",
            "expected_files",
            "insufficient_chars",
            "basic_md_file",
            "mock_listdir",
            "test_cases",
            "campaign_data",
            "text_file",
            "existing_characters",
            "traits_file",
            "valid_error_data",
            "file_count",
            "character_detail_path",
            "characters_path",
            "performance_request",
            "mock_agent1",
            "max_request",
            "empty_response",
            "lore_content",
            "param",
            "mock_makedirs",
            "v2_files",
            "redoc_response",
            "response_with_origin",
            "maximum_request",
            "valid_request",
            "style"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "test_character_creation_complete_integration_workflow",
              "line_number": 2729,
              "length": 60,
              "complexity": 8,
              "parameters": 6,
              "docstring": true
            }
          ],
          "complex_functions": [],
          "deep_nesting": [
            {
              "function": null,
              "class": "TestCharacterCreationEndpoint",
              "line": 2817,
              "depth": 5
            }
          ],
          "large_classes": [
            {
              "name": "TestCharacterCreationEndpoint",
              "line_number": 1905,
              "methods": 16,
              "attributes": 0,
              "length": 344,
              "docstring": true,
              "inheritance": 0
            }
          ]
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_api_startup.py": {
      "file_size": 3796,
      "line_count": 97,
      "blank_lines": 14,
      "comment_lines": 8,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 9,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [],
          "functions": [],
          "imports": [
            {
              "name": "asyncio",
              "alias": null,
              "type": "import"
            },
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "src.api.main_api_server",
              "name": "create_app",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "fastapi.testclient",
              "name": "TestClient",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "traceback",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "response",
            "app",
            "success",
            "client",
            "endpoints",
            "schema"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_chronicler_agent.py": {
      "file_size": 43658,
      "line_count": 1215,
      "blank_lines": 282,
      "comment_lines": 118,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 8,
          "cognitive_complexity": 6,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "TestChroniclerAgent",
              "line_number": 39,
              "methods": 26,
              "attributes": 0,
              "length": 302,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCampaignEventDataClass",
              "line_number": 913,
              "methods": 2,
              "attributes": 0,
              "length": 20,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestNarrativeSegmentDataClass",
              "line_number": 959,
              "methods": 2,
              "attributes": 0,
              "length": 19,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestChroniclerIntegration",
              "line_number": 1003,
              "methods": 3,
              "attributes": 0,
              "length": 35,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "temp_dir",
              "line_number": 48,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "mock_campaign_log",
              "line_number": 63,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "empty_campaign_log",
              "line_number": 210,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "malformed_campaign_log",
              "line_number": 243,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "large_campaign_log",
              "line_number": 269,
              "length": 24,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_chronicler_initialization_basic",
              "line_number": 328,
              "length": 20,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_chronicler_initialization_with_output_directory",
              "line_number": 362,
              "length": 11,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_chronicler_initialization_invalid_output_directory",
              "line_number": 386,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_transcribe_log_basic_functionality",
              "line_number": 404,
              "length": 16,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_transcribe_log_with_output_file",
              "line_number": 439,
              "length": 17,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_transcribe_log_file_not_found",
              "line_number": 476,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_transcribe_log_invalid_file_path",
              "line_number": 492,
              "length": 5,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_transcribe_log_empty_file",
              "line_number": 504,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_transcribe_log_malformed_file",
              "line_number": 527,
              "length": 6,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_narrative_style_management",
              "line_number": 548,
              "length": 11,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_chronicler_status_reporting",
              "line_number": 571,
              "length": 17,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_event_parsing",
              "line_number": 605,
              "length": 19,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_narrative_segment_generation",
              "line_number": 644,
              "length": 13,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_llm_integration_mocking",
              "line_number": 673,
              "length": 9,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_llm_failure_fallback",
              "line_number": 699,
              "length": 8,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_performance_large_log",
              "line_number": 723,
              "length": 11,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_multiple_log_processing",
              "line_number": 751,
              "length": 11,
              "complexity": 1,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "test_faction_descriptions_utilization",
              "line_number": 781,
              "length": 8,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_error_recovery_and_logging",
              "line_number": 805,
              "length": 14,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_narrative_combination_flow",
              "line_number": 842,
              "length": 12,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_utility_functions",
              "line_number": 872,
              "length": 17,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_event_creation",
              "line_number": 921,
              "length": 11,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_campaign_event_defaults",
              "line_number": 943,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_segment_creation",
              "line_number": 967,
              "length": 10,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_segment_defaults",
              "line_number": 987,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "temp_dir",
              "line_number": 1012,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_end_to_end_workflow",
              "line_number": 1026,
              "length": 21,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "_create_realistic_campaign_log",
              "line_number": 1070,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Tuple",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "Mock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "MagicMock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "CampaignEvent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "NarrativeSegment",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "create_chronicler_with_output",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "batch_transcribe_logs",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "empty_content",
            "test_log",
            "term",
            "tmp_file_path",
            "tmp_file",
            "events",
            "end_time",
            "faction_terms",
            "turn",
            "test_file",
            "narratives",
            "processing_time",
            "chronicler",
            "segments",
            "stats_after_second",
            "actions",
            "log_path",
            "expected_characters",
            "malformed_content",
            "name",
            "narrative_lower",
            "character_names",
            "log2_path",
            "f",
            "e",
            "stats_after_first",
            "test_content",
            "indicator",
            "initial_status",
            "temp_dir",
            "mock_config",
            "output_dir",
            "char",
            "status",
            "complete_story",
            "story_lower",
            "narrative_file",
            "registration_events",
            "segment",
            "agent",
            "campaign_log",
            "empty_indicators",
            "narrative2",
            "participants",
            "narrative1",
            "agents",
            "initial_error_count",
            "event_count",
            "start_time",
            "opening_indicators",
            "log1_path",
            "narrative",
            "warhammer_terms",
            "event",
            "all_participants",
            "narrative_files",
            "updated_status",
            "log_content",
            "event_types",
            "realistic_content",
            "i",
            "narrative_file_path",
            "file_content",
            "closing_indicators"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": [
            {
              "name": "TestChroniclerAgent",
              "line_number": 39,
              "methods": 26,
              "attributes": 0,
              "length": 302,
              "docstring": true,
              "inheritance": 0
            }
          ]
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_config_integration.py": {
      "file_size": 5882,
      "line_count": 153,
      "blank_lines": 36,
      "comment_lines": 15,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 3,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "test_config_loading",
              "line_number": 16,
              "length": 18,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_director_agent_config",
              "line_number": 43,
              "length": 14,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_chronicler_agent_config",
              "line_number": 66,
              "length": 12,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_config_fallbacks",
              "line_number": 85,
              "length": 10,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_environment_overrides",
              "line_number": 101,
              "length": 15,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 128,
              "length": 17,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "module": "config_loader",
              "name": "ConfigLoader",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_config",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_simulation_turns",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "config_loader",
              "name": "get_default_character_sheets",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "expected_sheets",
            "test_log_path",
            "loader",
            "loader1",
            "temp_dir",
            "success",
            "chronicler",
            "config",
            "director",
            "loader2",
            "character_sheets",
            "turns"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_director_agent.py": {
      "file_size": 36908,
      "line_count": 914,
      "blank_lines": 197,
      "comment_lines": 120,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 17,
          "cognitive_complexity": 8,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "MockPersonaAgent",
              "line_number": 49,
              "methods": 6,
              "attributes": 0,
              "length": 50,
              "docstring": true,
              "inheritance": 1
            },
            {
              "name": "TestDirectorAgentInitialization",
              "line_number": 254,
              "methods": 5,
              "attributes": 0,
              "length": 32,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestAgentRegistration",
              "line_number": 296,
              "methods": 5,
              "attributes": 0,
              "length": 47,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "InvalidAgent",
              "line_number": 335,
              "methods": 1,
              "attributes": 0,
              "length": 4,
              "docstring": false,
              "inheritance": 0
            },
            {
              "name": "InvalidAgent",
              "line_number": 347,
              "methods": 2,
              "attributes": 0,
              "length": 5,
              "docstring": false,
              "inheritance": 0
            },
            {
              "name": "TestCampaignLogging",
              "line_number": 361,
              "methods": 5,
              "attributes": 0,
              "length": 54,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCoreRunTurn",
              "line_number": 453,
              "methods": 5,
              "attributes": 0,
              "length": 83,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestAdvancedScenarios",
              "line_number": 587,
              "methods": 4,
              "attributes": 0,
              "length": 63,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "PartialAgent",
              "line_number": 624,
              "methods": 1,
              "attributes": 0,
              "length": 3,
              "docstring": false,
              "inheritance": 0
            },
            {
              "name": "PartialAgent2",
              "line_number": 634,
              "methods": 1,
              "attributes": 0,
              "length": 4,
              "docstring": false,
              "inheritance": 0
            },
            {
              "name": "TestIntegrationWithPersonaAgent",
              "line_number": 691,
              "methods": 3,
              "attributes": 0,
              "length": 73,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestTestUtilities",
              "line_number": 870,
              "methods": 2,
              "attributes": 0,
              "length": 26,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "mock_gemini_api_global",
              "line_number": 40,
              "length": 6,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 57,
              "length": 22,
              "complexity": 1,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "decision_loop",
              "line_number": 131,
              "length": 12,
              "complexity": 5,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "update_memory",
              "line_number": 165,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "get_character_state",
              "line_number": 169,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "configure_return_value",
              "line_number": 180,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "configure_exception",
              "line_number": 184,
              "length": 5,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "temp_dir",
              "line_number": 196,
              "length": 5,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "mock_agent",
              "line_number": 204,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "multiple_mock_agents",
              "line_number": 210,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "director_agent",
              "line_number": 220,
              "length": 3,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "director_with_worldstate",
              "line_number": 226,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_initialization_without_world_state",
              "line_number": 257,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_initialization_with_world_state_file",
              "line_number": 268,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_initialization_with_nonexistent_world_state",
              "line_number": 277,
              "length": 7,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_agents_list_empty_on_initialization",
              "line_number": 286,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_campaign_log_file_path_set_correctly",
              "line_number": 291,
              "length": 3,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_register_single_agent",
              "line_number": 299,
              "length": 6,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_register_multiple_agents",
              "line_number": 307,
              "length": 10,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_register_duplicate_agent_id",
              "line_number": 319,
              "length": 8,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_register_invalid_agent_object",
              "line_number": 332,
              "length": 10,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 336,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_register_agent_without_agent_id",
              "line_number": 345,
              "length": 11,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 348,
              "length": 2,
              "complexity": 1,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "decision_loop",
              "line_number": 352,
              "length": 2,
              "complexity": 1,
              "parameters": 2,
              "docstring": false
            },
            {
              "name": "test_log_event_creates_campaign_log_file",
              "line_number": 364,
              "length": 15,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_log_event_appends_to_existing_file",
              "line_number": 388,
              "length": 10,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_log_event_with_timestamps",
              "line_number": 406,
              "length": 9,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_multiple_event_logging",
              "line_number": 419,
              "length": 11,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_log_event_file_error_handling",
              "line_number": 438,
              "length": 7,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_run_turn_with_two_agents",
              "line_number": 456,
              "length": 20,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_run_turn_agents_decision_loop_called",
              "line_number": 488,
              "length": 13,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_run_turn_log_format_and_content",
              "line_number": 511,
              "length": 15,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_run_turn_with_no_registered_agents",
              "line_number": 535,
              "length": 12,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_run_turn_with_agent_exception",
              "line_number": 554,
              "length": 21,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_multiple_turns_and_log_accumulation",
              "line_number": 590,
              "length": 15,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_agent_registration_validation_edge_cases",
              "line_number": 612,
              "length": 20,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "__init__",
              "line_number": 625,
              "length": 2,
              "complexity": 1,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "__init__",
              "line_number": 635,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": false
            },
            {
              "name": "test_campaign_log_permissions_error_handling",
              "line_number": 643,
              "length": 7,
              "complexity": 3,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_run_turn_with_mixed_agent_behaviors",
              "line_number": 660,
              "length": 19,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_integration_with_real_persona_agent",
              "line_number": 694,
              "length": 25,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_communication_between_components",
              "line_number": 788,
              "length": 13,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_complete_simulation_cycle",
              "line_number": 812,
              "length": 33,
              "complexity": 5,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_mock_persona_agent_configuration",
              "line_number": 873,
              "length": 13,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_mock_persona_agent_decision_loop_tracking",
              "line_number": 892,
              "length": 11,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "Mock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "MagicMock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "ActionPriority",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "ThreatLevel",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "test_world_state",
            "original_cwd",
            "results",
            "world_update2",
            "events",
            "memory_log_path",
            "empty_obj",
            "partial_obj",
            "attacker",
            "character_dir_path",
            "turn",
            "world_update",
            "world_update1",
            "f",
            "mock_api",
            "bad_agent",
            "nonexistent_file",
            "temp_dir",
            "result",
            "invalid_agent",
            "waiter",
            "description",
            "agent2",
            "agent",
            "mock_persona_like",
            "result2",
            "success",
            "stats_yaml_path",
            "turn_results",
            "character_sheet_path",
            "squad",
            "director",
            "mock",
            "result1",
            "agent1",
            "event_type",
            "good_agent",
            "partial_obj2",
            "content",
            "real_agent",
            "log_content",
            "character_sheet_content",
            "i",
            "agent_ids",
            "call_args",
            "character_file_path",
            "observer",
            "duplicate_agent",
            "campaign_log_path",
            "world_state_file"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_fix_p02.py": {
      "file_size": 4284,
      "line_count": 121,
      "blank_lines": 25,
      "comment_lines": 12,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 5,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "test_character_name_integration",
              "line_number": 15,
              "length": 50,
              "complexity": 6,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "chronicler_no_names",
            "unknown_count_no_names",
            "test_log_content",
            "success",
            "narrative",
            "character_mentions",
            "narrative_no_names",
            "chronicler",
            "name",
            "unknown_count",
            "character_names",
            "f",
            "temp_log_path"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_integration.py": {
      "file_size": 22928,
      "line_count": 569,
      "blank_lines": 121,
      "comment_lines": 73,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 10,
          "cognitive_complexity": 2,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "TestPersonaDirectorIntegration",
              "line_number": 50,
              "methods": 11,
              "attributes": 0,
              "length": 186,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestIntegrationRunner",
              "line_number": 508,
              "methods": 3,
              "attributes": 0,
              "length": 25,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "mock_gemini_api",
              "line_number": 59,
              "length": 6,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "temp_dir",
              "line_number": 67,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "clean_director",
              "line_number": 74,
              "length": 9,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "two_persona_agents",
              "line_number": 98,
              "length": 14,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_complete_integration_workflow",
              "line_number": 123,
              "length": 35,
              "complexity": 2,
              "parameters": 4,
              "docstring": true
            },
            {
              "name": "test_agent_registration_validation",
              "line_number": 200,
              "length": 18,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_turn_execution_with_different_agent_behaviors",
              "line_number": 236,
              "length": 25,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_error_handling_during_integration",
              "line_number": 283,
              "length": 14,
              "complexity": 2,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_campaign_log_structure_and_format",
              "line_number": 317,
              "length": 21,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_multiple_turns_integration",
              "line_number": 359,
              "length": 25,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_world_state_propagation",
              "line_number": 410,
              "length": 12,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "validate_character_sheet_exists",
              "line_number": 442,
              "length": 5,
              "complexity": 3,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "create_minimal_test_character_sheet",
              "line_number": 455,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "mock_gemini_api",
              "line_number": 512,
              "length": 6,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_prerequisite_validation",
              "line_number": 519,
              "length": 7,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_integration_system_ready",
              "line_number": 538,
              "length": 10,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "character_factory",
              "name": "CharacterFactory",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "original_cwd",
            "krieg_path",
            "factory",
            "turn_result",
            "agent2_entries",
            "temp_directory",
            "agent1_entries",
            "test_sheet_path",
            "project_root",
            "turn_num",
            "active_agent",
            "mock_api",
            "turn_completion_count",
            "file",
            "registered_ids",
            "result",
            "characters_path",
            "agent2",
            "agent",
            "registration2",
            "turn_results",
            "passive_agent",
            "agent1_duplicate",
            "director",
            "agent1_count",
            "agent1",
            "registration1",
            "invalid_path",
            "agent2_count",
            "log_content",
            "character_sheet_content",
            "ork_path",
            "campaign_log_path"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_llm_specific_functionality.py": {
      "file_size": 13225,
      "line_count": 292,
      "blank_lines": 71,
      "comment_lines": 33,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 3,
          "cognitive_complexity": 0,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "TestLLMIntegrationFunctionality",
              "line_number": 17,
              "methods": 12,
              "attributes": 0,
              "length": 123,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "character_factory",
              "line_number": 21,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_mocking",
              "line_number": 26,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_llm_enhanced_decision_making_success",
              "line_number": 39,
              "length": 11,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_prompt_construction_contains_character_data",
              "line_number": 72,
              "length": 16,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_llm_response_parsing_valid_format",
              "line_number": 98,
              "length": 12,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_llm_response_parsing_direct_action_type",
              "line_number": 125,
              "length": 11,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_llm_response_parsing_wait_action",
              "line_number": 149,
              "length": 8,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_llm_response_parsing_malformed_input",
              "line_number": 168,
              "length": 8,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_llm_action_priority_determination",
              "line_number": 186,
              "length": 10,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_fallback_mechanism_on_llm_failure",
              "line_number": 208,
              "length": 11,
              "complexity": 3,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_deterministic_llm_responses_for_testing",
              "line_number": 236,
              "length": 13,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "test_character_traits_influence_llm_responses",
              "line_number": 263,
              "length": 11,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "logging",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "MagicMock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "mock_open",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "ActionPriority",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "character_factory",
              "name": "CharacterFactory",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "mock_api",
            "situation_assessment",
            "world_state",
            "agent",
            "prompt",
            "response",
            "test_prompt",
            "threat_prompt",
            "malformed_response",
            "test_response",
            "llm_response",
            "response1",
            "response2",
            "action",
            "available_actions"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_memory_functionality.py": {
      "file_size": 2491,
      "line_count": 74,
      "blank_lines": 17,
      "comment_lines": 6,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 5,
          "cognitive_complexity": 1,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "test_memory_logging",
              "line_number": 10,
              "length": 37,
              "complexity": 5,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "character_factory",
              "name": "CharacterFactory",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "ork_agent",
            "factory",
            "ork_content",
            "krieg_agent",
            "content",
            "memory_log_path",
            "ork_memory_path",
            "test_events",
            "event",
            "f"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_narrative_engine.py": {
      "file_size": 23742,
      "line_count": 611,
      "blank_lines": 117,
      "comment_lines": 50,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 17,
          "cognitive_complexity": 6,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "TestCampaignBriefInfrastructure",
              "line_number": 37,
              "methods": 3,
              "attributes": 0,
              "length": 30,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestDirectorAgentNarrativeEnhancement",
              "line_number": 110,
              "methods": 5,
              "attributes": 0,
              "length": 37,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestPersonaAgentStoryIntelligence",
              "line_number": 192,
              "methods": 5,
              "attributes": 0,
              "length": 43,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestNarrativeActionFramework",
              "line_number": 296,
              "methods": 5,
              "attributes": 0,
              "length": 54,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestShadowsSerenityStationScenario",
              "line_number": 410,
              "methods": 4,
              "attributes": 0,
              "length": 40,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestNarrativeQualityAssurance",
              "line_number": 518,
              "methods": 3,
              "attributes": 0,
              "length": 26,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "test_campaign_brief_loader_yaml",
              "line_number": 40,
              "length": 13,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_campaign_brief_validation",
              "line_number": 59,
              "length": 8,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_event_structure",
              "line_number": 91,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_method",
              "line_number": 113,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "teardown_method",
              "line_number": 147,
              "length": 4,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_director_campaign_brief_loading",
              "line_number": 152,
              "length": 6,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_context_generation",
              "line_number": 160,
              "length": 8,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_story_state_tracking",
              "line_number": 175,
              "length": 10,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_method",
              "line_number": 195,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "teardown_method",
              "line_number": 220,
              "length": 4,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_situation_processing",
              "line_number": 225,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_action_identification",
              "line_number": 248,
              "length": 11,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_action_evaluation",
              "line_number": 271,
              "length": 10,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_method",
              "line_number": 299,
              "length": 3,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_investigate_action_resolution",
              "line_number": 303,
              "length": 12,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_dialogue_action_resolution",
              "line_number": 327,
              "length": 13,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_diplomacy_action_resolution",
              "line_number": 353,
              "length": 12,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_betrayal_action_resolution",
              "line_number": 383,
              "length": 12,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_method",
              "line_number": 413,
              "length": 12,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "teardown_method",
              "line_number": 463,
              "length": 4,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_complete_narrative_scenario",
              "line_number": 470,
              "length": 13,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_character_agency_in_story_decisions",
              "line_number": 493,
              "length": 9,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_story_progression_coherence",
              "line_number": 521,
              "length": 11,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_narrative_action_diversity",
              "line_number": 541,
              "length": 7,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_character_consistency",
              "line_number": 559,
              "length": 6,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "run_narrative_engine_tests",
              "line_number": 578,
              "length": 12,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "Mock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "MagicMock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "ActionPriority",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "campaign_brief",
              "name": "CampaignBrief",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "campaign_brief",
              "name": "CampaignBriefLoader",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "campaign_brief",
              "name": "NarrativeEvent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeActionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeActionResolver",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeOutcome",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeActionType",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "narrative_actions",
              "name": "NarrativeActionType",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "character_content",
            "action_types",
            "narrative_action",
            "f",
            "action_type",
            "invalid_brief",
            "guard_content",
            "campaign_content",
            "value",
            "trait",
            "cautious_traits",
            "character_data",
            "world_state",
            "loader",
            "outcome",
            "narrative_context",
            "director",
            "brief",
            "traits",
            "marine_character_traits",
            "resolver",
            "available_types",
            "event",
            "expected_types",
            "expected_type",
            "pytest_args",
            "exit_code",
            "valid_brief",
            "character_traits",
            "marine_content",
            "t",
            "campaign_file",
            "advancement",
            "action",
            "guard_character_traits"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_p03_comprehensive.py": {
      "file_size": 7677,
      "line_count": 204,
      "blank_lines": 44,
      "comment_lines": 21,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 16,
          "cognitive_complexity": 8,
          "nesting_depth": 0,
          "max_nesting_depth": 2
        },
        "structure_metrics": {
          "classes": [],
          "functions": [
            {
              "name": "test_complete_character_integration",
              "line_number": 26,
              "length": 107,
              "complexity": 16,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "module": "character_factory",
              "name": "CharacterFactory",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "chronicler_agent",
              "name": "ChroniclerAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "name": "traceback",
              "alias": null,
              "type": "import"
            }
          ],
          "variables": [
            "file_mentions",
            "all_passed",
            "character_factory",
            "character_agents",
            "temp_campaign_log",
            "turn",
            "file_names",
            "chronicler",
            "requested_names",
            "name",
            "f",
            "requested_mentions",
            "criterion",
            "status",
            "success_criteria",
            "unknown_count",
            "passed",
            "total_requested",
            "agent",
            "success",
            "file_character_name",
            "director",
            "count",
            "narrative",
            "log_content",
            "total_file"
          ]
        },
        "quality_indicators": {
          "long_functions": [
            {
              "name": "test_complete_character_integration",
              "line_number": 26,
              "length": 107,
              "complexity": 16,
              "parameters": 0,
              "docstring": true
            }
          ],
          "complex_functions": [
            {
              "name": "test_complete_character_integration",
              "line_number": 26,
              "length": 107,
              "complexity": 16,
              "parameters": 0,
              "docstring": true
            }
          ],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_persona_agent.py": {
      "file_size": 22274,
      "line_count": 590,
      "blank_lines": 121,
      "comment_lines": 62,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 6,
          "cognitive_complexity": 2,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "TestPersonaAgentImport",
              "line_number": 142,
              "methods": 3,
              "attributes": 0,
              "length": 23,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestPersonaAgentInitialization",
              "line_number": 174,
              "methods": 4,
              "attributes": 0,
              "length": 53,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestCharacterSheetLoading",
              "line_number": 249,
              "methods": 8,
              "attributes": 0,
              "length": 100,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestMemoryLogging",
              "line_number": 421,
              "methods": 3,
              "attributes": 0,
              "length": 55,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestMethodFunctionality",
              "line_number": 540,
              "methods": 1,
              "attributes": 0,
              "length": 11,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestWithFixtures",
              "line_number": 567,
              "methods": 2,
              "attributes": 0,
              "length": 11,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "create_test_character_directory",
              "line_number": 41,
              "length": 19,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_persona_agent_import",
              "line_number": 145,
              "length": 4,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_enum_imports",
              "line_number": 151,
              "length": 12,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_dataclass_imports",
              "line_number": 167,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_initialization_with_test_character",
              "line_number": 177,
              "length": 14,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_agent_id_derivation",
              "line_number": 197,
              "length": 8,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_initialization_with_custom_agent_id",
              "line_number": 210,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_initialization_properties",
              "line_number": 223,
              "length": 20,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_load_character_context_basic",
              "line_number": 252,
              "length": 15,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_character_name_loading",
              "line_number": 277,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_faction_loading",
              "line_number": 294,
              "length": 8,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_personality_traits_loading",
              "line_number": 308,
              "length": 12,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_load_character_context_explicit_call",
              "line_number": 334,
              "length": 10,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_directory_not_found_error",
              "line_number": 353,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_yaml_data_parsing",
              "line_number": 360,
              "length": 19,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_hybrid_context_structure",
              "line_number": 390,
              "length": 20,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_update_memory_basic",
              "line_number": 424,
              "length": 21,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_update_memory_multiple_entries",
              "line_number": 459,
              "length": 20,
              "complexity": 3,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_update_memory_error_handling",
              "line_number": 494,
              "length": 12,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "mock_gemini_api",
              "line_number": 518,
              "length": 6,
              "complexity": 1,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "basic_agent",
              "line_number": 527,
              "length": 8,
              "complexity": 2,
              "parameters": 0,
              "docstring": true
            },
            {
              "name": "test_decision_loop_basic",
              "line_number": 543,
              "length": 9,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_agent_fixture",
              "line_number": 570,
              "length": 4,
              "complexity": 1,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "test_decision_with_fixture",
              "line_number": 576,
              "length": 5,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "MagicMock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "ThreatLevel",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "ActionPriority",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "WorldEvent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "SubjectiveInterpretation",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "create_character_from_template",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "analyze_agent_compatibility",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "events",
            "memory_log_path",
            "last_line",
            "expected_id",
            "test_event",
            "name",
            "stats_data",
            "event_lines",
            "f",
            "custom_id",
            "mock_api",
            "test_character_dir",
            "initial_content",
            "temp_dir",
            "non_existent_path",
            "character_file",
            "lines",
            "file_count",
            "stats_file",
            "hybrid_context",
            "memory_file",
            "factions",
            "yaml_data",
            "agent",
            "equipment_file",
            "equipment_data",
            "traits",
            "markdown_content",
            "event",
            "lore_file",
            "content",
            "line",
            "updated_content",
            "action",
            "world_state_update"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "test_world_heart_system.py": {
      "file_size": 23872,
      "line_count": 568,
      "blank_lines": 125,
      "comment_lines": 65,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 10,
          "cognitive_complexity": 3,
          "nesting_depth": 0,
          "max_nesting_depth": 1
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "TestWorldStateTracker",
              "line_number": 35,
              "methods": 2,
              "attributes": 0,
              "length": 26,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestActionImpactProcessing",
              "line_number": 93,
              "methods": 5,
              "attributes": 0,
              "length": 55,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestWorldStateFeedback",
              "line_number": 202,
              "methods": 5,
              "attributes": 0,
              "length": 41,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestSacredValidationInvestigationLoop",
              "line_number": 285,
              "methods": 5,
              "attributes": 0,
              "length": 81,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "TestWorldHeartIntegration",
              "line_number": 452,
              "methods": 2,
              "attributes": 0,
              "length": 40,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "test_world_state_tracker_initialization",
              "line_number": 38,
              "length": 15,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_world_state_persistence_across_turns",
              "line_number": 69,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_method",
              "line_number": 96,
              "length": 6,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_investigate_action_processing",
              "line_number": 108,
              "length": 21,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_search_action_processing",
              "line_number": 144,
              "length": 9,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_analyze_action_processing",
              "line_number": 164,
              "length": 8,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_non_investigation_action_ignored",
              "line_number": 182,
              "length": 9,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_method",
              "line_number": 205,
              "length": 10,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_agent_discoveries_feedback_generation",
              "line_number": 236,
              "length": 5,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_world_state_feedback_integration",
              "line_number": 243,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_environmental_changes_feedback",
              "line_number": 256,
              "length": 6,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_world_state_summary_generation",
              "line_number": 271,
              "length": 9,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "setup_method",
              "line_number": 288,
              "length": 7,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "teardown_method",
              "line_number": 311,
              "length": 4,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_sacred_validation_complete_feedback_loop",
              "line_number": 316,
              "length": 26,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_multi_agent_investigation_coordination",
              "line_number": 376,
              "length": 21,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_persistent_world_state_across_multiple_turns",
              "line_number": 416,
              "length": 21,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_world_heart_system_integration_with_existing_narrative",
              "line_number": 455,
              "length": 19,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "test_world_heart_performance_with_extended_simulation",
              "line_number": 493,
              "length": 19,
              "complexity": 2,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "run_world_heart_tests",
              "line_number": 529,
              "length": 16,
              "complexity": 3,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "pytest",
              "alias": null,
              "type": "import"
            },
            {
              "name": "os",
              "alias": null,
              "type": "import"
            },
            {
              "name": "tempfile",
              "alias": null,
              "type": "import"
            },
            {
              "name": "shutil",
              "alias": null,
              "type": "import"
            },
            {
              "module": "pathlib",
              "name": "Path",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "Mock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "patch",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "unittest.mock",
              "name": "MagicMock",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "director_agent",
              "name": "DirectorAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "persona_agent",
              "name": "PersonaAgent",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "shared_types",
              "name": "CharacterAction",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "shared_types",
              "name": "ActionPriority",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "character_content",
            "discovery_message",
            "turn",
            "combat_action",
            "discovered_clue_content",
            "action",
            "key",
            "discoveries",
            "test_clue",
            "f",
            "history",
            "clue",
            "search_action",
            "analyze_action",
            "other_activities",
            "total_clues",
            "action2",
            "env_changes",
            "agent2",
            "location",
            "world_state",
            "mock_agent",
            "investigate_action",
            "feedback",
            "director",
            "agent1",
            "clues",
            "msg",
            "total_history",
            "pytest_args",
            "exit_code",
            "clue_content",
            "locations",
            "summary",
            "campaign_file",
            "required_keys",
            "action1",
            "world_state_update"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": false,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    },
    "uat_test_script.py": {
      "file_size": 14749,
      "line_count": 406,
      "blank_lines": 60,
      "comment_lines": 25,
      "ast_metrics": {
        "complexity_metrics": {
          "cyclomatic_complexity": 14,
          "cognitive_complexity": 2,
          "nesting_depth": 0,
          "max_nesting_depth": 3
        },
        "structure_metrics": {
          "classes": [
            {
              "name": "UATestResult",
              "line_number": 24,
              "methods": 0,
              "attributes": 11,
              "length": 13,
              "docstring": true,
              "inheritance": 0
            },
            {
              "name": "StoryForgeUATester",
              "line_number": 39,
              "methods": 10,
              "attributes": 0,
              "length": 107,
              "docstring": true,
              "inheritance": 0
            }
          ],
          "functions": [
            {
              "name": "__init__",
              "line_number": 42,
              "length": 5,
              "complexity": 1,
              "parameters": 3,
              "docstring": false
            },
            {
              "name": "log",
              "line_number": 48,
              "length": 4,
              "complexity": 2,
              "parameters": 2,
              "docstring": true
            },
            {
              "name": "make_request",
              "line_number": 53,
              "length": 5,
              "complexity": 1,
              "parameters": 3,
              "docstring": true
            },
            {
              "name": "run_test",
              "line_number": 59,
              "length": 20,
              "complexity": 4,
              "parameters": 8,
              "docstring": true
            },
            {
              "name": "run_happy_path_tests",
              "line_number": 117,
              "length": 8,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "run_sad_path_tests",
              "line_number": 162,
              "length": 10,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "run_edge_case_tests",
              "line_number": 241,
              "length": 8,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "generate_report",
              "line_number": 294,
              "length": 15,
              "complexity": 4,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "print_summary",
              "line_number": 327,
              "length": 19,
              "complexity": 5,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "run_all_tests",
              "line_number": 350,
              "length": 11,
              "complexity": 1,
              "parameters": 1,
              "docstring": true
            },
            {
              "name": "main",
              "line_number": 367,
              "length": 21,
              "complexity": 4,
              "parameters": 0,
              "docstring": true
            }
          ],
          "imports": [
            {
              "name": "requests",
              "alias": null,
              "type": "import"
            },
            {
              "name": "json",
              "alias": null,
              "type": "import"
            },
            {
              "name": "time",
              "alias": null,
              "type": "import"
            },
            {
              "name": "sys",
              "alias": null,
              "type": "import"
            },
            {
              "name": "argparse",
              "alias": null,
              "type": "import"
            },
            {
              "module": "typing",
              "name": "Dict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "List",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Any",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "typing",
              "name": "Optional",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "dataclass",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "dataclasses",
              "name": "asdict",
              "alias": null,
              "type": "from_import"
            },
            {
              "module": "datetime",
              "name": "datetime",
              "alias": null,
              "type": "from_import"
            }
          ],
          "variables": [
            "failed_tests",
            "r",
            "url",
            "execution_time_ms",
            "f",
            "test_name",
            "avg_execution_time",
            "failed_or_error",
            "args",
            "total_tests",
            "response",
            "result",
            "parser",
            "category",
            "status",
            "description",
            "report",
            "test_id",
            "timestamp",
            "passed_tests",
            "total_time",
            "tester",
            "execution_time",
            "error_message",
            "error_tests",
            "start_time",
            "actual_status_code",
            "by_category",
            "response_data",
            "summary",
            "expected_status_code"
          ]
        },
        "quality_indicators": {
          "long_functions": [],
          "complex_functions": [],
          "deep_nesting": [],
          "large_classes": []
        },
        "design_patterns": {
          "singleton_pattern": false,
          "factory_pattern": true,
          "observer_pattern": false,
          "strategy_pattern": false
        }
      }
    }
  },
  "aggregate_metrics": {
    "total_files": 38,
    "total_lines": 26198,
    "total_functions": 628,
    "total_classes": 104,
    "total_complexity": 1956,
    "average_complexity_per_function": 3.1146496815286624,
    "documentation_coverage": {
      "functions_with_docs": 607,
      "classes_with_docs": 100,
      "total_functions": 628,
      "total_classes": 104,
      "function_doc_percentage": 96.656050955414,
      "class_doc_percentage": 96.15384615384616
    },
    "quality_distribution": {
      "simple_functions": 529,
      "moderate_functions": 74,
      "complex_functions": 23,
      "very_complex_functions": 2
    },
    "design_patterns_usage": {
      "singleton": 1,
      "factory": 14,
      "observer": 0,
      "strategy": 0
    }
  },
  "quality_assessment": {
    "complexity_score": 100,
    "documentation_score": 96.40494855463008,
    "structure_score": 95.15923566878982,
    "maintainability_score": 90,
    "overall_score": 95.89104605585497,
    "grade": "A",
    "quality_level": "Excellent"
  },
  "recommendations": [
    {
      "category": "Code Structure",
      "priority": "MEDIUM",
      "issue": "ai_enhancement_analysis.py has functions with deep nesting (>4 levels)",
      "recommendation": "Reduce nesting depth using early returns and guard clauses",
      "impact": "Improves code readability and reduces complexity"
    },
    {
      "category": "Class Design",
      "priority": "MEDIUM",
      "issue": "chronicler_agent.py has 1 large classes",
      "recommendation": "Consider splitting large classes using Single Responsibility Principle",
      "impact": "Improves class cohesion and reduces coupling"
    },
    {
      "category": "Code Structure",
      "priority": "MEDIUM",
      "issue": "chronicler_agent.py has functions with deep nesting (>4 levels)",
      "recommendation": "Reduce nesting depth using early returns and guard clauses",
      "impact": "Improves code readability and reduces complexity"
    },
    {
      "category": "Class Design",
      "priority": "MEDIUM",
      "issue": "config_loader.py has 1 large classes",
      "recommendation": "Consider splitting large classes using Single Responsibility Principle",
      "impact": "Improves class cohesion and reduces coupling"
    },
    {
      "category": "Class Design",
      "priority": "MEDIUM",
      "issue": "director_agent.py has 1 large classes",
      "recommendation": "Consider splitting large classes using Single Responsibility Principle",
      "impact": "Improves class cohesion and reduces coupling"
    },
    {
      "category": "Code Structure",
      "priority": "MEDIUM",
      "issue": "director_agent.py has functions with deep nesting (>4 levels)",
      "recommendation": "Reduce nesting depth using early returns and guard clauses",
      "impact": "Improves code readability and reduces complexity"
    },
    {
      "category": "Code Structure",
      "priority": "MEDIUM",
      "issue": "fix_test_file.py has functions with deep nesting (>4 levels)",
      "recommendation": "Reduce nesting depth using early returns and guard clauses",
      "impact": "Improves code readability and reduces complexity"
    },
    {
      "category": "Class Design",
      "priority": "MEDIUM",
      "issue": "persona_agent.py has 1 large classes",
      "recommendation": "Consider splitting large classes using Single Responsibility Principle",
      "impact": "Improves class cohesion and reduces coupling"
    },
    {
      "category": "Code Structure",
      "priority": "MEDIUM",
      "issue": "persona_agent.py has functions with deep nesting (>4 levels)",
      "recommendation": "Reduce nesting depth using early returns and guard clauses",
      "impact": "Improves code readability and reduces complexity"
    },
    {
      "category": "Class Design",
      "priority": "MEDIUM",
      "issue": "run_complete_demo.py has 1 large classes",
      "recommendation": "Consider splitting large classes using Single Responsibility Principle",
      "impact": "Improves class cohesion and reduces coupling"
    },
    {
      "category": "Class Design",
      "priority": "MEDIUM",
      "issue": "test_api_server.py has 1 large classes",
      "recommendation": "Consider splitting large classes using Single Responsibility Principle",
      "impact": "Improves class cohesion and reduces coupling"
    },
    {
      "category": "Code Structure",
      "priority": "MEDIUM",
      "issue": "test_api_server.py has functions with deep nesting (>4 levels)",
      "recommendation": "Reduce nesting depth using early returns and guard clauses",
      "impact": "Improves code readability and reduces complexity"
    },
    {
      "category": "Class Design",
      "priority": "MEDIUM",
      "issue": "test_chronicler_agent.py has 1 large classes",
      "recommendation": "Consider splitting large classes using Single Responsibility Principle",
      "impact": "Improves class cohesion and reduces coupling"
    }
  ],
  "timestamp": "2025-08-13T23:59:36.425299"
}