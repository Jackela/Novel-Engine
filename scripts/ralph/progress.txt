# Ralph Progress Log
Started: Fri Feb 14 2026
---

## Codebase Patterns
- Use `sql<number>` template for aggregations
- Always use `IF NOT EXISTS` for migrations
- Export types from actions.ts for UI components
- The token_counter module has ModelFamily enum - use PromptModelFamily for prompt formatting to avoid conflicts
- Domain models directory may be in .gitignore - use `git add -f` if needed
- ChatInterface uses aria-label for accessibility, not data-testid
- Use `.ChatInterface` class name as stable selector for E2E tests
- Lucide icons: `svg[data-lucide="icon-name"]`
- Playwright route interception for network simulation
- Mock SSE with `text/event-stream` content type
- Fernet.generate_key() on restart makes stored keys unreadable - never use random keys
- test_brain_settings_security.py needs `@pytest.mark.asyncio` for async tests
- config/env/ in .gitignore - use `git add -f` for .env.example

---

## [2026-02-14 09:45] - RES-001
- Added ErrorDetail schema to src/api/schemas.py in Health/Meta Schemas section
- Schema includes: code (str), message (str), details (Optional[Dict[str, Any]])
- Added docstring with example usage
- Files changed: src/api/schemas.py, scripts/ralph/prd.json
- **Learnings for future iterations:**
  - Error schemas should go in Health/Meta Schemas section (after line 100)
  - Use Dict[str, Any] for flexible metadata fields
---

- Committed all 584 files from OPERATION SYNAPSE refactoring sprint
- Files included: formatting changes, line ending normalization, all OPT-001 through OPT-015 implementations
- Created new PRD: OPERATION RESILIENCE with 15 stories for test fixes, backend stubs, API contracts, infrastructure

**Learnings for future iterations:**
- CRLF warnings are normal on Windows/WSL - Git auto-converts on checkout
- Large commits (500+ files) are acceptable when consolidating a sprint's work
- .pyc files in __pycache__ should be removed before committing
- scripts/ralph/archive/ should be gitignored

---
