{
  "openapi": "3.1.0",
  "info": {
    "title": "Novel Engine API",
    "description": "Enhanced Dynamic Context Engineering Framework with comprehensive integration systems",
    "version": "1.1.0"
  },
  "paths": {
    "/api/versions": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "Get Api Versions",
        "description": "Get information about all API versions.",
        "operationId": "get_api_versions_api_versions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root Index",
        "description": "Root endpoint for basic availability with explicit security headers.\n\nAdding headers directly ensures compliance in test environments where\nmiddleware ordering or transport differences may bypass decoration.",
        "operationId": "root_index__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Root Index  Get"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check",
        "description": "Detailed health check endpoint.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters": {
      "get": {
        "summary": "Legacy Get Characters Api",
        "description": "Unversioned REST endpoint for legacy characters list.",
        "operationId": "legacy_get_characters_api_api_characters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Legacy Get Characters Api Api Characters Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "characters"
        ],
        "summary": "Create Workspace Character",
        "description": "Creates a new character in the current workspace.\n\nWhy: Workspace characters are user-defined and stored separately from public catalog.",
        "operationId": "create_workspace_character_api_characters_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceCharacterCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}": {
      "get": {
        "summary": "Legacy Get Character Detail Api",
        "description": "Unversioned REST endpoint for legacy character detail.",
        "operationId": "legacy_get_character_detail_api_api_characters__character_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Legacy Get Character Detail Api Api Characters  Character Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "characters"
        ],
        "summary": "Update Workspace Character",
        "description": "Updates a character in the workspace.\n\nWhy: Allows modification of user-defined character properties.",
        "operationId": "update_workspace_character_api_characters__character_id__put",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceCharacterUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "characters"
        ],
        "summary": "Delete Workspace Character",
        "description": "Deletes a character from the workspace.\n\nWhy: Removes user-defined characters; also unregisters from orchestrator if present.",
        "operationId": "delete_workspace_character_api_characters__character_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/interactions": {
      "get": {
        "summary": "List Interactions",
        "description": "List all active interactions.",
        "operationId": "list_interactions_api_interactions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response List Interactions Api Interactions Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create Interaction",
        "description": "Initiates a new character interaction.",
        "operationId": "create_interaction_api_interactions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InteractionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InteractionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/interactions/{interaction_id}": {
      "get": {
        "summary": "Get Interaction",
        "description": "Get detailed interaction information.",
        "operationId": "get_interaction_api_interactions__interaction_id__get",
        "parameters": [
          {
            "name": "interaction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Interaction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Interaction Api Interactions  Interaction Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/turns/{turn_id}/briefs/{agent_id}": {
      "get": {
        "summary": "Get Agent Turn Brief",
        "description": "Retrieve personalized turn brief for a specific agent",
        "operationId": "get_turn_brief_api_turns__turn_id__briefs__agent_id__get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "turn_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Turn identifier",
              "title": "Turn Id"
            },
            "description": "Turn identifier"
          },
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "title": "Agent Id"
            },
            "description": "Agent identifier"
          },
          {
            "name": "include_context",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Context"
            }
          },
          {
            "name": "confidence_threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "default": 0.3,
              "title": "Confidence Threshold"
            }
          },
          {
            "name": "time_window_hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 24,
              "minimum": 1,
              "default": 2,
              "title": "Time Window Hours"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_TurnBriefData_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/turns/{turn_id}/briefs": {
      "get": {
        "summary": "Get All Agent Turn Briefs",
        "description": "Retrieve turn briefs for all agents in a turn",
        "operationId": "get_all_turn_briefs_api_turns__turn_id__briefs_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "turn_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "description": "Turn identifier",
              "title": "Turn Id"
            },
            "description": "Turn identifier"
          },
          {
            "name": "include_context",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Context"
            }
          },
          {
            "name": "confidence_threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "maximum": 1.0,
              "minimum": 0.0,
              "default": 0.3,
              "title": "Confidence Threshold"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Agent Filter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_MultiBriefData_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/agents/{agent_id}/beliefs": {
      "get": {
        "summary": "Get Agent Belief Model",
        "description": "Access agent's subjective belief model",
        "operationId": "get_agent_beliefs_api_agents__agent_id__beliefs_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "agent_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Agent identifier",
              "title": "Agent Id"
            },
            "description": "Agent identifier"
          },
          {
            "name": "include_fragments",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Include Fragments"
            }
          },
          {
            "name": "reliability_threshold",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "default": 0.0,
              "title": "Reliability Threshold"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Category Filter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_BeliefModelData_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/narratives/emergent/generate": {
      "post": {
        "summary": "Generate Emergent Narrative",
        "description": "Generate emergent narrative based on agent interactions and causal graph",
        "operationId": "generate_emergent_narrative_api_narratives_emergent_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmergentNarrativeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_EmergentNarrativeData_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/narratives/build": {
      "post": {
        "summary": "Build Comprehensive Narrative",
        "description": "Build comprehensive narrative from existing story elements",
        "operationId": "build_narrative_api_narratives_build_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NarrativeBuildRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_EmergentNarrativeData_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/causality/graph": {
      "get": {
        "summary": "Get Causal Graph",
        "description": "Access causal relationship graph",
        "operationId": "get_causal_graph_api_causality_graph_get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "include_predictions",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Include Predictions"
            }
          },
          {
            "name": "min_confidence",
            "in": "query",
            "required": false,
            "schema": {
              "type": "number",
              "default": 0.3,
              "title": "Min Confidence"
            }
          },
          {
            "name": "max_depth",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 5,
              "title": "Max Depth"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Body_get_causal_graph_api_causality_graph_get"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_CausalGraphData_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/narratives/emergent/{narrative_id}": {
      "get": {
        "summary": "Get Generated Narrative",
        "description": "Retrieve previously generated emergent narrative",
        "operationId": "get_emergent_narrative_api_narratives_emergent__narrative_id__get",
        "security": [
          {
            "HTTPBearer": []
          },
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "narrative_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Narrative identifier",
              "title": "Narrative Id"
            },
            "description": "Narrative identifier"
          },
          {
            "name": "include_events",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include detailed event list",
              "default": true,
              "title": "Include Events"
            },
            "description": "Include detailed event list"
          },
          {
            "name": "include_causal_graph",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include causal relationship data",
              "default": false,
              "title": "Include Causal Graph"
            },
            "description": "Include causal relationship data"
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Response format (structured, text, timeline)",
              "default": "structured",
              "title": "Format"
            },
            "description": "Response format (structured, text, timeline)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_EmergentNarrativeData_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/context7/examples": {
      "post": {
        "summary": "Generate Code Examples",
        "description": "Generate Context7-powered code examples for API endpoints",
        "operationId": "generate_code_example_api_context7_examples_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CodeExampleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_CodeExampleResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/context7/validate": {
      "post": {
        "summary": "Validate API Patterns",
        "description": "Validate API code against Context7 framework patterns",
        "operationId": "validate_api_pattern_api_context7_validate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatternValidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_PatternValidationResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/context7/documentation": {
      "post": {
        "summary": "Generate Enhanced Documentation",
        "description": "Generate Context7-powered enhanced API documentation",
        "operationId": "generate_enhanced_documentation_api_context7_documentation_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_EnhancedDocumentationResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/context7/best-practices/{framework}": {
      "get": {
        "summary": "Get Framework Best Practices",
        "description": "Get Context7-powered framework best practices",
        "operationId": "get_best_practices_api_context7_best_practices__framework__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "framework",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/FrameworkType",
              "description": "Framework to get practices for"
            },
            "description": "Framework to get practices for"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Practice category",
              "default": "general",
              "title": "Category"
            },
            "description": "Practice category"
          },
          {
            "name": "include_examples",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include code examples",
              "default": true,
              "title": "Include Examples"
            },
            "description": "Include code examples"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_BestPracticesResponse_"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/context7/status": {
      "get": {
        "summary": "Get Context7 Status",
        "description": "Get Context7 MCP server status and capabilities",
        "operationId": "get_context7_status_api_context7_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StandardResponse_Dict_str__Any__"
                }
              }
            }
          }
        }
      }
    },
    "/api/postman/collection": {
      "get": {
        "summary": "Get Postman Collection",
        "description": "Get Postman collection for API testing.",
        "operationId": "get_postman_collection_api_postman_collection_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "operationId": "login_api_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh Token",
        "operationId": "refresh_token_api_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/csrf-token": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Csrf Token",
        "operationId": "get_csrf_token_api_auth_csrf_token_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CSRFTokenResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout",
        "operationId": "logout_api_auth_logout_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/LogoutRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Body"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/validate": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Validate Token",
        "operationId": "validate_token_api_auth_validate_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenValidationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/cache/metrics": {
      "get": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Metrics",
        "operationId": "cache_metrics_cache_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/cache/invalidate": {
      "post": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Invalidate",
        "operationId": "cache_invalidate_cache_invalidate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InvalidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/cache/chunk/{key}": {
      "post": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Chunk Append",
        "operationId": "cache_chunk_append_cache_chunk__key__post",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChunkInRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/cache/chunk/{key}/complete": {
      "post": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Chunk Complete",
        "operationId": "cache_chunk_complete_cache_chunk__key__complete_post",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/cache/stream/{key}": {
      "get": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Stream",
        "operationId": "cache_stream_cache_stream__key__get",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/campaigns": {
      "get": {
        "tags": [
          "Campaigns"
        ],
        "summary": "Get Campaigns",
        "description": "Retrieves a list of available campaigns.",
        "operationId": "get_campaigns_campaigns_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignsListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Campaigns"
        ],
        "summary": "Create Campaign",
        "description": "Creates a new campaign.",
        "operationId": "create_campaign_campaigns_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignCreationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignCreationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/campaigns/{campaign_id}": {
      "get": {
        "tags": [
          "Campaigns"
        ],
        "summary": "Get Campaign",
        "description": "Retrieves a campaign by id.\n\nSECURITY: This endpoint uses a whitelist approach to prevent path injection.\nThe campaign_id is looked up in a registry built from filesystem scans,\nnever used directly to construct file paths.",
        "operationId": "get_campaign_campaigns__campaign_id__get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Campaign Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters": {
      "get": {
        "summary": "Legacy Get Characters",
        "description": "Legacy endpoint - List all characters from file system.",
        "operationId": "legacy_get_characters_characters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Legacy Get Characters Characters Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "characters"
        ],
        "summary": "Create Workspace Character",
        "description": "Creates a new character in the current workspace.\n\nWhy: Workspace characters are user-defined and stored separately from public catalog.",
        "operationId": "create_workspace_character_characters_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceCharacterCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}": {
      "get": {
        "summary": "Legacy Get Character Detail",
        "description": "Legacy endpoint - Get character details from file system.",
        "operationId": "legacy_get_character_detail_characters__character_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Legacy Get Character Detail Characters  Character Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "characters"
        ],
        "summary": "Update Workspace Character",
        "description": "Updates a character in the workspace.\n\nWhy: Allows modification of user-defined character properties.",
        "operationId": "update_workspace_character_characters__character_id__put",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkspaceCharacterUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "characters"
        ],
        "summary": "Delete Workspace Character",
        "description": "Deletes a character from the workspace.\n\nWhy: Removes user-defined characters; also unregisters from orchestrator if present.",
        "operationId": "delete_workspace_character_characters__character_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/enhanced": {
      "get": {
        "tags": [
          "characters"
        ],
        "summary": "Get Character Enhanced Api",
        "description": "Retrieves enhanced character context.\n\nWhy: Provides enriched context for narrative generation.",
        "operationId": "get_character_enhanced_api_characters__character_id__enhanced_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Character Enhanced Api Characters  Character Id  Enhanced Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/events/stream": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Stream Events",
        "description": "Stream SSE events to client.",
        "operationId": "stream_events_events_stream_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Limit"
            }
          },
          {
            "name": "interval",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Interval"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/events/emit": {
      "post": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Emit Dashboard Event",
        "description": "Emit event to all connected clients.",
        "operationId": "emit_dashboard_event_events_emit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmitEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmitEventResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/events/stats": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Get Sse Stats",
        "description": "Get SSE connection statistics.",
        "operationId": "get_sse_stats_events_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SSEStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/analytics/metrics": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Get Analytics Metrics",
        "description": "Get analytics metrics for dashboard.",
        "operationId": "get_analytics_metrics_analytics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsMetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/generation/character": {
      "post": {
        "tags": [
          "generation"
        ],
        "summary": "Generate Character",
        "description": "Generate a character card using deterministic fallback logic.",
        "operationId": "generate_character_generation_character_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/generation/character-profile": {
      "post": {
        "tags": [
          "generation"
        ],
        "summary": "Generate Character Profile",
        "description": "Generate a detailed character profile using LLM or mock generator.\n\nUses the CharacterProfileGenerator which automatically selects between\nLLM (Gemini) and mock generator based on the MOCK_LLM environment variable.\n\nArgs:\n    request: Character profile generation parameters including name,\n             archetype, and optional context.\n\nReturns:\n    Generated character profile with aliases, traits, appearance,\n    backstory, motivations, and quirks.",
        "operationId": "generate_character_profile_generation_character_profile_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterProfileGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterProfileGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/guest/session": {
      "post": {
        "tags": [
          "Guest"
        ],
        "summary": "Create Or Resume Guest Session",
        "operationId": "create_or_resume_guest_session_guest_session_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuestSessionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/workspace/export": {
      "get": {
        "tags": [
          "Guest"
        ],
        "summary": "Export Workspace Zip",
        "operationId": "export_workspace_zip_workspace_export_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/workspace/import": {
      "post": {
        "tags": [
          "Guest"
        ],
        "summary": "Import Workspace Zip",
        "operationId": "import_workspace_zip_workspace_import_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_workspace_zip_workspace_import_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuestSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/narratives/stream": {
      "post": {
        "tags": [
          "Narratives"
        ],
        "summary": "Stream Narrative",
        "description": "Stream narrative generation via Server-Sent Events.\n\nThis endpoint accepts a prompt and world context, then streams\ngenerated narrative content in real-time. The response uses\nSSE format for browser-native streaming support.\n\nWhy streaming: Provides immediate feedback to users, reducing\nperceived latency. Users see content appearing as it's generated\nrather than waiting for the entire response.\n\nRequest body:\n    - prompt: The narrative direction/prompt\n    - world_context: Characters, locations, and entities for context\n    - chapter_title: Optional chapter title\n    - tone: Optional tone modifier (dark, hopeful, mysterious)\n    - max_tokens: Maximum tokens to generate (100-8000)\n\nResponse: SSE stream with events:\n    - type: \"chunk\" - Content chunk with sequence number\n    - type: \"done\" - Generation complete with metadata\n    - type: \"error\" - Error occurred during generation",
        "operationId": "stream_narrative_narratives_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NarrativeStreamRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/generation/scene": {
      "post": {
        "tags": [
          "generation"
        ],
        "summary": "Generate Scene",
        "description": "Generate a scene based on character context.\n\nArgs:\n    request: Scene generation parameters including character context,\n             scene type, and optional tone.\n\nReturns:\n    Generated scene with title, content, summary, and visual prompt.",
        "operationId": "generate_scene_generation_scene_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health/chromadb": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Chromadb Health Check",
        "description": "ChromaDB vector store health check endpoint.\n\nWarzone 4: AI Brain - BRAIN-001\nReturns the status of the ChromaDB vector database connection.",
        "operationId": "chromadb_health_check_health_chromadb_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Chromadb Health Check Health Chromadb Get"
                }
              }
            }
          }
        }
      }
    },
    "/meta/system-status": {
      "get": {
        "tags": [
          "Meta"
        ],
        "summary": "System Status",
        "description": "Get system status information.",
        "operationId": "system_status_meta_system_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/meta/policy": {
      "get": {
        "tags": [
          "Meta"
        ],
        "summary": "Policy Info",
        "description": "Get policy and compliance information.",
        "operationId": "policy_info_meta_policy_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/orchestration/status": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get Orchestration Status",
        "description": "Get current orchestration status.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "get_orchestration_status_api_orchestration_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/orchestration/start": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Start Orchestration",
        "description": "Start orchestration with optional parameters.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "start_orchestration_api_orchestration_start_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/OrchestrationStartRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Payload"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStartResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/orchestration/stop": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Stop Orchestration",
        "description": "Stop the current orchestration.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "stop_orchestration_api_orchestration_stop_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStopResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/orchestration/pause": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Pause Orchestration",
        "description": "Pause the current orchestration.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "pause_orchestration_api_orchestration_pause_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStopResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/orchestration/narrative": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get Narrative",
        "description": "Get current narrative content.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "get_narrative_api_orchestration_narrative_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NarrativeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/simulations": {
      "post": {
        "summary": "Legacy Run Simulation",
        "description": "Legacy endpoint - Run story simulation with character interactions.",
        "operationId": "legacy_run_simulation_simulations_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Request"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Legacy Run Simulation Simulations Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/world/generation": {
      "post": {
        "tags": [
          "world"
        ],
        "summary": "Generate World",
        "description": "Generate a complete world with factions, locations, and history events.",
        "operationId": "generate_world_world_generation_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorldGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Stories",
        "description": "List all stories.\n\nReturns:\n    List of all stories sorted by creation time.",
        "operationId": "list_stories_structure_stories_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Story",
        "description": "Create a new story.\n\nArgs:\n    request: Story creation data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The created story.\n\nRaises:\n    HTTPException: If story creation fails.",
        "operationId": "create_story_structure_stories_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoryCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Story",
        "description": "Get a story by ID.\n\nArgs:\n    story_id: UUID of the story.\n    repo: Narrative repository (injected).\n\nReturns:\n    The requested story.\n\nRaises:\n    HTTPException: If story not found.",
        "operationId": "get_story_structure_stories__story_id__get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Story",
        "description": "Update a story's properties.\n\nArgs:\n    story_id: UUID of the story.\n    request: Fields to update.\n    repo: Narrative repository (injected).\n\nReturns:\n    The updated story.\n\nRaises:\n    HTTPException: If story not found or update fails.",
        "operationId": "update_story_structure_stories__story_id__patch",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoryUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Story",
        "description": "Delete a story and all its contents.\n\nArgs:\n    story_id: UUID of the story.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If story not found.",
        "operationId": "delete_story_structure_stories__story_id__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Chapter",
        "description": "Create a new chapter in a story.\n\nArgs:\n    story_id: UUID of the parent story.\n    request: Chapter creation data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The created chapter.\n\nRaises:\n    HTTPException: If story not found or chapter creation fails.",
        "operationId": "create_chapter_structure_stories__story_id__chapters_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChapterCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Chapters",
        "description": "List all chapters in a story.\n\nArgs:\n    story_id: UUID of the story.\n    repo: Narrative repository (injected).\n\nReturns:\n    List of chapters sorted by order_index.\n\nRaises:\n    HTTPException: If story not found.",
        "operationId": "list_chapters_structure_stories__story_id__chapters_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Chapter",
        "description": "Get a chapter by ID.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    repo: Narrative repository (injected).\n\nReturns:\n    The requested chapter.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "get_chapter_structure_stories__story_id__chapters__chapter_id__get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Chapter",
        "description": "Update a chapter's properties.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    request: Fields to update.\n    repo: Narrative repository (injected).\n\nReturns:\n    The updated chapter.\n\nRaises:\n    HTTPException: If story/chapter not found or update fails.",
        "operationId": "update_chapter_structure_stories__story_id__chapters__chapter_id__patch",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChapterUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Chapter",
        "description": "Delete a chapter from a story.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "delete_chapter_structure_stories__story_id__chapters__chapter_id__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/move": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Move Chapter",
        "description": "Move a chapter to a new position within the story.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    request: New position data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The moved chapter with updated order_index.\n\nRaises:\n    HTTPException: If story/chapter not found or move fails.",
        "operationId": "move_chapter_structure_stories__story_id__chapters__chapter_id__move_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveChapterRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/scenes": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Scene",
        "description": "Create a new scene in a chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    request: Scene creation data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The created scene.\n\nRaises:\n    HTTPException: If story/chapter not found or scene creation fails.",
        "operationId": "create_scene_structure_stories__story_id__chapters__chapter_id__scenes_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Scenes",
        "description": "List all scenes in a chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    repo: Narrative repository (injected).\n\nReturns:\n    List of scenes sorted by order_index.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "list_scenes_structure_stories__story_id__chapters__chapter_id__scenes_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Scene",
        "description": "Get a scene by ID.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    repo: Narrative repository (injected).\n\nReturns:\n    The requested scene.\n\nRaises:\n    HTTPException: If story, chapter, or scene not found.",
        "operationId": "get_scene_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Scene",
        "description": "Update a scene's properties.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    request: Fields to update.\n    repo: Narrative repository (injected).\n\nReturns:\n    The updated scene.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_scene_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__patch",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Scene",
        "description": "Delete a scene from a chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_scene_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/smart-tags": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Scene Smart Tags",
        "description": "Get smart tags for a scene.\n\nReturns both auto-generated and manual smart tags.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    repo: Narrative repository (injected).\n\nReturns:\n    Smart tags response with auto, manual, and effective tags.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "get_scene_smart_tags_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__smart_tags_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/smart-tags/manual": {
      "put": {
        "tags": [
          "structure"
        ],
        "summary": "Update Scene Manual Smart Tags",
        "description": "Update manual smart tags for a scene.\n\nManual tags are never overridden by auto-tagging.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    request: Manual tags update request.\n    repo: Narrative repository (injected).\n\nReturns:\n    Updated smart tags response.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "update_scene_manual_smart_tags_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__smart_tags_manual_put",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualSmartTagsUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/smart-tags/manual/{category}": {
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Scene Manual Smart Tags",
        "description": "Delete manual smart tags for a specific category.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    category: The tag category to clear.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_scene_manual_smart_tags_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__smart_tags_manual__category__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "category",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Category"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/move": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Move Scene",
        "description": "Move a scene to a new position, optionally to a different chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the current chapter.\n    scene_id: UUID of the scene.\n    request: Move destination data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The moved scene with updated position.\n\nRaises:\n    HTTPException: If not found or move fails.",
        "operationId": "move_scene_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__move_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveSceneRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/beats": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Beat",
        "description": "Create a new beat in a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    request: Beat creation data.\n\nReturns:\n    The created beat.\n\nRaises:\n    HTTPException: If scene not found or beat creation fails.",
        "operationId": "create_beat_structure_scenes__scene_id__beats_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BeatCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Beats",
        "description": "List all beats in a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n\nReturns:\n    List of beats sorted by order_index.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "list_beats_structure_scenes__scene_id__beats_get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/beats/{beat_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Beat",
        "description": "Get a beat by ID.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    beat_id: UUID of the beat.\n\nReturns:\n    The requested beat.\n\nRaises:\n    HTTPException: If scene or beat not found.",
        "operationId": "get_beat_structure_scenes__scene_id__beats__beat_id__get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "beat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Beat Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Beat",
        "description": "Update a beat's properties.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    beat_id: UUID of the beat.\n    request: Fields to update.\n\nReturns:\n    The updated beat.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_beat_structure_scenes__scene_id__beats__beat_id__patch",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "beat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Beat Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BeatUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Beat",
        "description": "Delete a beat from a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    beat_id: UUID of the beat.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_beat_structure_scenes__scene_id__beats__beat_id__delete",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "beat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Beat Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/beats/reorder": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Reorder Beats",
        "description": "Reorder beats within a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: List of beat IDs in desired order.\n\nReturns:\n    Updated list of beats in new order.\n\nRaises:\n    HTTPException: If scene not found or beat IDs don't match.",
        "operationId": "reorder_beats_structure_scenes__scene_id__beats_reorder_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReorderBeatsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/suggest-beats": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Suggest Beats",
        "description": "Generate AI beat suggestions for a scene.\n\nUses the LLM to suggest 3 possible next beats that could\nlogically follow the current beat sequence, considering\nscene context and desired mood trajectory.\n\nArgs:\n    scene_id: UUID of the scene.\n    payload: Current beats, scene context, and optional mood target.\n\nReturns:\n    Three AI-generated beat suggestions with type, content,\n    mood shift, and rationale.",
        "operationId": "suggest_beats_structure_scenes__scene_id__suggest_beats_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BeatSuggestionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatSuggestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/critique": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Critique Scene",
        "description": "Analyze scene writing quality using AI.\n\nProvides AI-generated feedback on scene quality across multiple\ncraft dimensions: pacing, narrative voice, showing vs. telling,\nand dialogue naturalism. Returns specific, actionable suggestions\nfor improvement along with recognition of what works well.\n\nArgs:\n    scene_id: UUID of the scene (for logging, not used in lookup).\n    payload: Scene text and optional writer's goals.\n\nReturns:\n    CritiqueResult containing overall score (1-10), category-specific\n    evaluations (pacing, voice, showing, dialogue), highlights of what\n    works, summary assessment, and actionable suggestions.",
        "operationId": "critique_scene_structure_scenes__scene_id__critique_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CritiqueSceneRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CritiqueSceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/pacing": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Chapter Pacing",
        "description": "Get pacing analysis for a chapter.\n\nReturns tension/energy metrics for each scene in the chapter,\nalong with aggregate statistics and detected pacing issues.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter to analyze.\n    repo: Narrative repository (injected).\n\nReturns:\n    ChapterPacingResponse with scene-by-scene metrics and issues.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "get_chapter_pacing_structure_stories__story_id__chapters__chapter_id__pacing_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterPacingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/conflicts": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Conflict",
        "description": "Create a new conflict in a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    request: Conflict creation data.\n\nReturns:\n    The created conflict.\n\nRaises:\n    HTTPException: If scene not found or conflict creation fails.",
        "operationId": "create_conflict_structure_scenes__scene_id__conflicts_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConflictCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Conflicts",
        "description": "List all conflicts in a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n\nReturns:\n    List of conflicts for the scene.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "list_conflicts_structure_scenes__scene_id__conflicts_get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/conflicts/{conflict_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Conflict",
        "description": "Get a conflict by ID.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    conflict_id: UUID of the conflict.\n\nReturns:\n    The requested conflict.\n\nRaises:\n    HTTPException: If scene or conflict not found.",
        "operationId": "get_conflict_structure_scenes__scene_id__conflicts__conflict_id__get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "conflict_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conflict Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Conflict",
        "description": "Update a conflict's properties.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    conflict_id: UUID of the conflict.\n    request: Fields to update.\n\nReturns:\n    The updated conflict.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_conflict_structure_scenes__scene_id__conflicts__conflict_id__patch",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "conflict_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conflict Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConflictUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Conflict",
        "description": "Delete a conflict from a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    conflict_id: UUID of the conflict.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_conflict_structure_scenes__scene_id__conflicts__conflict_id__delete",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "conflict_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conflict Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/plotlines": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Plotlines",
        "description": "List all plotlines with scene counts.\n\nReturns:\n    List of all plotlines with the number of scenes linked to each.",
        "operationId": "list_plotlines_structure_plotlines_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Plotline",
        "description": "Create a new plotline.\n\nArgs:\n    request: Plotline creation data.\n\nReturns:\n    The created plotline.\n\nRaises:\n    HTTPException: If plotline creation fails.",
        "operationId": "create_plotline_structure_plotlines_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlotlineCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/plotlines/{plotline_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Plotline",
        "description": "Get a plotline by ID.\n\nArgs:\n    plotline_id: UUID of the plotline.\n\nReturns:\n    The requested plotline.\n\nRaises:\n    HTTPException: If plotline not found.",
        "operationId": "get_plotline_structure_plotlines__plotline_id__get",
        "parameters": [
          {
            "name": "plotline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plotline Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Plotline",
        "description": "Update a plotline's properties.\n\nArgs:\n    plotline_id: UUID of the plotline.\n    request: Fields to update.\n\nReturns:\n    The updated plotline.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_plotline_structure_plotlines__plotline_id__patch",
        "parameters": [
          {
            "name": "plotline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plotline Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlotlineUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Plotline",
        "description": "Delete a plotline.\n\nArgs:\n    plotline_id: UUID of the plotline.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_plotline_structure_plotlines__plotline_id__delete",
        "parameters": [
          {
            "name": "plotline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plotline Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/scenes/{scene_id}/plotlines": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Link Scene To Plotline",
        "description": "Link a scene to a plotline.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: Request containing plotline_id to link.\n\nReturns:\n    Updated list of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene or plotline not found.",
        "operationId": "link_scene_to_plotline_structure_scenes__scene_id__plotlines_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LinkSceneToPlotlineRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Unlink Scene From Plotline",
        "description": "Unlink a scene from a plotline.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: Request containing plotline_id to unlink.\n\nReturns:\n    Updated list of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "unlink_scene_from_plotline_structure_scenes__scene_id__plotlines_delete",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnlinkSceneFromPlotlineRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "structure"
        ],
        "summary": "Set Scene Plotlines",
        "description": "Set all plotlines for a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: Request containing list of plotline IDs.\n\nReturns:\n    Updated list of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene not found or plotline IDs invalid.",
        "operationId": "set_scene_plotlines_structure_scenes__scene_id__plotlines_put",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetScenePlotlinesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Scene Plotlines",
        "description": "Get all plotlines for a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n\nReturns:\n    List of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "get_scene_plotlines_structure_scenes__scene_id__plotlines_get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/foreshadowings": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Foreshadowings",
        "description": "List all foreshadowings.\n\nReturns:\n    List of all foreshadowings.",
        "operationId": "list_foreshadowings_structure_foreshadowings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Foreshadowing",
        "description": "Create a new foreshadowing.\n\nArgs:\n    request: Foreshadowing creation data.\n\nReturns:\n    The created foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing creation fails or setup scene not found.",
        "operationId": "create_foreshadowing_structure_foreshadowings_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForeshadowingCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/foreshadowings/{foreshadowing_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Foreshadowing",
        "description": "Get a foreshadowing by ID.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n\nReturns:\n    The foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found.",
        "operationId": "get_foreshadowing_structure_foreshadowings__foreshadowing_id__get",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "structure"
        ],
        "summary": "Update Foreshadowing",
        "description": "Update a foreshadowing.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n    request: Update data.\n\nReturns:\n    The updated foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found or update fails.",
        "operationId": "update_foreshadowing_structure_foreshadowings__foreshadowing_id__put",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForeshadowingUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Foreshadowing",
        "description": "Delete a foreshadowing.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found.",
        "operationId": "delete_foreshadowing_structure_foreshadowings__foreshadowing_id__delete",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/foreshadowings/{foreshadowing_id}/link-payoff": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Link Payoff To Foreshadowing",
        "description": "Link a payoff scene to a foreshadowing.\n\nThis validates that the payoff scene comes after the setup scene.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n    request: Request containing payoff_scene_id.\n\nReturns:\n    The updated foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found, payoff scene not found,\n        or validation fails.",
        "operationId": "link_payoff_to_foreshadowing_structure_foreshadowings__foreshadowing_id__link_payoff_post",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LinkPayoffRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/structure/stories/{story_id}/chapters/{chapter_id}/health": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Chapter Health",
        "description": "Get structural health analysis for a chapter.\n\nReturns comprehensive chapter-level analysis including phase distribution,\nword count estimates, tension arc shape, and detected structural issues.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter to analyze.\n    repo: Narrative repository (injected).\n\nReturns:\n    ChapterHealthReportResponse with complete analysis.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "get_chapter_health_structure_stories__story_id__chapters__chapter_id__health_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterHealthReportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/narrative/generate/stream": {
      "post": {
        "tags": [
          "narrative-generation"
        ],
        "summary": "Stream Narrative Generation",
        "description": "Stream narrative generation via Server-Sent Events.\n\nThis endpoint generates narrative content and streams it in real-time.\nWhen MOCK_LLM=true, it streams a hardcoded story line by line.\nOtherwise, it calls the actual LLM service (when implemented).\n\nWhy streaming:\n    Provides immediate feedback to users, reducing perceived latency.\n    Users see content appearing as it's generated rather than\n    waiting for the entire response.\n\nRequest body:\n    - scene_id: Optional UUID of the scene to generate for\n    - prompt: Optional custom generation prompt\n    - context: Optional context string\n    - max_tokens: Maximum tokens (50-4000, default 500)\n\nResponse: SSE stream with events:\n    - type: \"chunk\" - Content chunk with sequence number\n    - type: \"done\" - Generation complete with metadata\n    - type: \"error\" - Error occurred during generation\n\nEnvironment:\n    - MOCK_LLM=true: Use mock generation (for testing)\n    - MOCK_LLM=false or unset: Use real LLM (when implemented)\n\nExample with curl:\n    ```bash\n    curl -N -X POST http://localhost:8000/api/narrative/generate/stream \\\n        -H \"Content-Type: application/json\" \\\n        -d '{\"max_tokens\": 500}'\n    ```",
        "operationId": "stream_narrative_generation_narrative_generate_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateStreamRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/relationships": {
      "post": {
        "tags": [
          "relationships"
        ],
        "summary": "Create Relationship",
        "description": "Create a new relationship between entities.\n\nCreates a directed relationship from source to target. For bidirectional\nrelationships (like ALLY or ENEMY), consider creating both directions.\n\nArgs:\n    request: Relationship creation request.\n\nReturns:\n    The created relationship.\n\nRaises:\n    HTTPException: If validation fails or entities are invalid.",
        "operationId": "create_relationship_relationships_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "List Relationships",
        "description": "List all relationships with optional filtering.\n\nArgs:\n    relationship_type: Optional filter by relationship type.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of relationships.",
        "operationId": "list_relationships_relationships_get",
        "parameters": [
          {
            "name": "relationship_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by relationship type",
              "title": "Relationship Type"
            },
            "description": "Filter by relationship type"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/relationships/by-entity/{entity_id}": {
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "Get Relationships By Entity",
        "description": "Get all relationships for a specific entity.\n\nReturns relationships where the entity is either source or target.\nThis is the primary query for building relationship graphs in the UI.\n\nArgs:\n    entity_id: ID of the entity to query.\n    entity_type: Optional filter by entity type.\n    include_inactive: Whether to include historical relationships.\n\nReturns:\n    List of relationships involving the entity.",
        "operationId": "get_relationships_by_entity_relationships_by_entity__entity_id__get",
        "parameters": [
          {
            "name": "entity_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entity Id"
            }
          },
          {
            "name": "entity_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by entity type (CHARACTER, FACTION, etc.)",
              "title": "Entity Type"
            },
            "description": "Filter by entity type (CHARACTER, FACTION, etc.)"
          },
          {
            "name": "include_inactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include inactive relationships",
              "default": false,
              "title": "Include Inactive"
            },
            "description": "Include inactive relationships"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/relationships/{relationship_id}": {
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "Get Relationship",
        "description": "Get a specific relationship by ID.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n\nReturns:\n    The relationship details.\n\nRaises:\n    HTTPException: If relationship not found.",
        "operationId": "get_relationship_relationships__relationship_id__get",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "relationships"
        ],
        "summary": "Update Relationship",
        "description": "Update an existing relationship.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n    request: Fields to update.\n\nReturns:\n    The updated relationship.\n\nRaises:\n    HTTPException: If relationship not found or update fails.",
        "operationId": "update_relationship_relationships__relationship_id__put",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "relationships"
        ],
        "summary": "Delete Relationship",
        "description": "Delete a relationship.\n\nPermanently removes the relationship from the knowledge graph.\nConsider using deactivation (via PUT with is_active=false) to\npreserve historical data.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n\nRaises:\n    HTTPException: If relationship not found.",
        "operationId": "delete_relationship_relationships__relationship_id__delete",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/relationships/{relationship_id}/interactions": {
      "post": {
        "tags": [
          "relationships"
        ],
        "summary": "Log Interaction",
        "description": "Log an interaction that affects the relationship.\n\nRecords the interaction in the relationship's history and updates\ntrust/romance levels accordingly. Changes are clamped to 0-100 range.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n    request: Interaction details including summary and metric changes.\n\nReturns:\n    The updated relationship with new trust/romance levels.\n\nRaises:\n    HTTPException: If relationship not found or validation fails.",
        "operationId": "log_interaction_relationships__relationship_id__interactions_post",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LogInteractionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/relationships/between/{entity_a_id}/{entity_b_id}": {
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "Get Relationships Between",
        "description": "Get all relationships between two specific entities.\n\nChecks both directions (A->B and B->A).\n\nArgs:\n    entity_a_id: First entity ID.\n    entity_b_id: Second entity ID.\n\nReturns:\n    List of relationships connecting the two entities.",
        "operationId": "get_relationships_between_relationships_between__entity_a_id___entity_b_id__get",
        "parameters": [
          {
            "name": "entity_a_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entity A Id"
            }
          },
          {
            "name": "entity_b_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entity B Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/relationships/{relationship_id}/generate-history": {
      "post": {
        "tags": [
          "relationships"
        ],
        "summary": "Generate Relationship History",
        "description": "Generate a backstory for the relationship using AI.\n\nCreates a compelling narrative explaining how the two characters came\nto have their current trust and romance levels. The generated history\nincludes their first meeting, defining moments, and current status.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n\nReturns:\n    Generated backstory and structured history elements.\n\nRaises:\n    HTTPException: If relationship not found or generation fails.",
        "operationId": "generate_relationship_history_relationships__relationship_id__generate_history_post",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipHistoryGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/items": {
      "post": {
        "tags": [
          "items"
        ],
        "summary": "Create Item",
        "description": "Create a new item.\n\nArgs:\n    request: Item creation request.\n\nReturns:\n    The created item.\n\nRaises:\n    HTTPException: If validation fails.",
        "operationId": "create_item_items_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItemCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "items"
        ],
        "summary": "List Items",
        "description": "List all items with optional filtering.\n\nArgs:\n    item_type: Optional filter by item type.\n    rarity: Optional filter by rarity.\n    search: Optional search query for name.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of items.",
        "operationId": "list_items_items_get",
        "parameters": [
          {
            "name": "item_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by item type",
              "title": "Item Type"
            },
            "description": "Filter by item type"
          },
          {
            "name": "rarity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by rarity",
              "title": "Rarity"
            },
            "description": "Filter by rarity"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name",
              "title": "Search"
            },
            "description": "Search by name"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/items/{item_id}": {
      "get": {
        "tags": [
          "items"
        ],
        "summary": "Get Item",
        "description": "Get a specific item by ID.\n\nArgs:\n    item_id: Unique identifier for the item.\n\nReturns:\n    The item details.\n\nRaises:\n    HTTPException: If item not found.",
        "operationId": "get_item_items__item_id__get",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "items"
        ],
        "summary": "Update Item",
        "description": "Update an existing item.\n\nArgs:\n    item_id: Unique identifier for the item.\n    request: Fields to update.\n\nReturns:\n    The updated item.\n\nRaises:\n    HTTPException: If item not found or update fails.",
        "operationId": "update_item_items__item_id__put",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItemUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "items"
        ],
        "summary": "Delete Item",
        "description": "Delete an item.\n\nArgs:\n    item_id: Unique identifier for the item.\n\nRaises:\n    HTTPException: If item not found.",
        "operationId": "delete_item_items__item_id__delete",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/give-item": {
      "post": {
        "tags": [
          "characters",
          "items"
        ],
        "summary": "Give Item To Character",
        "description": "Give an item to a character.\n\nAdds the item to the character's inventory. The item must exist\nin the items repository.\n\nArgs:\n    character_id: ID of the character.\n    request: Contains the item_id to give.\n\nReturns:\n    Success status and message.\n\nRaises:\n    HTTPException: If item not found or already in inventory.",
        "operationId": "give_item_to_character_characters__character_id__give_item_post",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GiveItemRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/remove-item/{item_id}": {
      "delete": {
        "tags": [
          "characters",
          "items"
        ],
        "summary": "Remove Item From Character",
        "description": "Remove an item from a character's inventory.\n\nArgs:\n    character_id: ID of the character.\n    item_id: ID of the item to remove.\n\nReturns:\n    Success status and message.",
        "operationId": "remove_item_from_character_characters__character_id__remove_item__item_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/inventory": {
      "get": {
        "tags": [
          "characters",
          "items"
        ],
        "summary": "Get Character Inventory",
        "description": "Get all items in a character's inventory.\n\nArgs:\n    character_id: ID of the character.\n\nReturns:\n    List of items in the character's inventory.",
        "operationId": "get_character_inventory_characters__character_id__inventory_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/lore": {
      "post": {
        "tags": [
          "lore"
        ],
        "summary": "Create Lore Entry",
        "description": "Create a new lore entry.\n\nArgs:\n    request: Lore entry creation request.\n\nReturns:\n    The created lore entry.\n\nRaises:\n    HTTPException: If validation fails.",
        "operationId": "create_lore_entry_lore_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoreEntryCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "List Lore Entries",
        "description": "List all lore entries with optional filtering.\n\nArgs:\n    category: Optional filter by category.\n    tag: Optional filter by a single tag.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of lore entries.",
        "operationId": "list_lore_entries_lore_get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by single tag",
              "title": "Tag"
            },
            "description": "Filter by single tag"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/lore/search": {
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "Search Lore Entries",
        "description": "Search lore entries by title and optionally filter by tags/category.\n\nThis is the primary search endpoint combining text search with filtering.\n\nArgs:\n    q: Search query string (case-insensitive title match).\n    tags: Comma-separated list of tags to filter by (any match).\n    category: Optional category filter.\n    limit: Maximum number of results.\n\nReturns:\n    List of matching lore entries.",
        "operationId": "search_lore_entries_lore_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Search query (matches title)",
              "default": "",
              "title": "Q"
            },
            "description": "Search query (matches title)"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated tags to filter by",
              "title": "Tags"
            },
            "description": "Comma-separated tags to filter by"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/lore/{entry_id}": {
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "Get Lore Entry",
        "description": "Get a specific lore entry by ID.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n\nReturns:\n    The lore entry details.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "get_lore_entry_lore__entry_id__get",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "lore"
        ],
        "summary": "Update Lore Entry",
        "description": "Update an existing lore entry.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n    request: Fields to update.\n\nReturns:\n    The updated lore entry.\n\nRaises:\n    HTTPException: If entry not found or update fails.",
        "operationId": "update_lore_entry_lore__entry_id__put",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoreEntryUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "lore"
        ],
        "summary": "Delete Lore Entry",
        "description": "Delete a lore entry.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "delete_lore_entry_lore__entry_id__delete",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/lore/{entry_id}/smart-tags": {
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "Get Lore Smart Tags",
        "description": "Get smart tags for a lore entry.\n\nReturns both auto-generated and manual smart tags.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n\nReturns:\n    Smart tags response with auto, manual, and effective tags.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "get_lore_smart_tags_lore__entry_id__smart_tags_get",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/lore/{entry_id}/smart-tags/manual": {
      "put": {
        "tags": [
          "lore"
        ],
        "summary": "Update Lore Manual Smart Tags",
        "description": "Update manual smart tags for a lore entry.\n\nManual tags are never overridden by auto-tagging.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n    request: Manual tags update request.\n\nReturns:\n    Updated smart tags response.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "update_lore_manual_smart_tags_lore__entry_id__smart_tags_manual_put",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualSmartTagsUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/lore/{entry_id}/smart-tags/manual/{category}": {
      "delete": {
        "tags": [
          "lore"
        ],
        "summary": "Delete Lore Manual Smart Tags",
        "description": "Delete manual smart tags for a specific category.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n    category: The tag category to clear.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "delete_lore_manual_smart_tags_lore__entry_id__smart_tags_manual__category__delete",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          },
          {
            "name": "category",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Category"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/memories": {
      "get": {
        "tags": [
          "memories"
        ],
        "summary": "Get Character Memories",
        "description": "Get all memories for a character.\n\nOptionally filter by tag or minimum importance level.",
        "operationId": "get_character_memories_characters__character_id__memories_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tag"
            }
          },
          {
            "name": "min_importance",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Importance"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterMemoriesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "memories"
        ],
        "summary": "Create Character Memory",
        "description": "Add a new memory to a character.\n\nMemories are immutable once created - they represent historical events.",
        "operationId": "create_character_memory_characters__character_id__memories_post",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterMemoryCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterMemorySchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/memories/{memory_id}": {
      "get": {
        "tags": [
          "memories"
        ],
        "summary": "Get Character Memory",
        "description": "Get a specific memory by ID.",
        "operationId": "get_character_memory_characters__character_id__memories__memory_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "memory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Memory Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterMemorySchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "memories"
        ],
        "summary": "Delete Character Memory",
        "description": "Delete a memory.\n\nNote: In most cases, memories should not be deleted as they represent\nhistorical events. This endpoint exists for data correction purposes.",
        "operationId": "delete_character_memory_characters__character_id__memories__memory_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "memory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Memory Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/goals": {
      "get": {
        "tags": [
          "goals"
        ],
        "summary": "Get Character Goals",
        "description": "Get all goals for a character.\n\nOptionally filter by status (ACTIVE, COMPLETED, FAILED).",
        "operationId": "get_character_goals_characters__character_id__goals_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "goals"
        ],
        "summary": "Create Character Goal",
        "description": "Add a new goal to a character.",
        "operationId": "create_character_goal_characters__character_id__goals_post",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterGoalCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/characters/{character_id}/goals/{goal_id}": {
      "get": {
        "tags": [
          "goals"
        ],
        "summary": "Get Character Goal",
        "description": "Get a specific goal by ID.",
        "operationId": "get_character_goal_characters__character_id__goals__goal_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "goals"
        ],
        "summary": "Update Character Goal",
        "description": "Update a goal's status or urgency.\n\nUse this to mark goals as COMPLETED or FAILED, or to change urgency.",
        "operationId": "update_character_goal_characters__character_id__goals__goal_id__patch",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Goal Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterGoalUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "goals"
        ],
        "summary": "Delete Character Goal",
        "description": "Delete a goal.\n\nNote: In most cases, goals should be marked as COMPLETED or FAILED\nrather than deleted. This endpoint exists for data correction.",
        "operationId": "delete_character_goal_characters__character_id__goals__goal_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/world-rules": {
      "post": {
        "tags": [
          "world-rules"
        ],
        "summary": "Create World Rule",
        "description": "Create a new world rule.\n\nArgs:\n    request: World rule creation request.\n\nReturns:\n    The created world rule.\n\nRaises:\n    HTTPException: If validation fails.",
        "operationId": "create_world_rule_world_rules_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorldRuleCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "List World Rules",
        "description": "List all world rules with optional filtering.\n\nArgs:\n    category: Optional filter by category.\n    min_severity: Optional minimum severity filter.\n    max_severity: Optional maximum severity filter.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of world rules.",
        "operationId": "list_world_rules_world_rules_get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "min_severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 100,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum severity",
              "title": "Min Severity"
            },
            "description": "Minimum severity"
          },
          {
            "name": "max_severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 100,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum severity",
              "title": "Max Severity"
            },
            "description": "Maximum severity"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/world-rules/search": {
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "Search World Rules",
        "description": "Search world rules by name and optionally filter by category.\n\nThis is the primary search endpoint combining text search with filtering.\n\nArgs:\n    q: Search query string (case-insensitive name match).\n    category: Optional category filter.\n    limit: Maximum number of results.\n\nReturns:\n    List of matching world rules.",
        "operationId": "search_world_rules_world_rules_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Search query (matches name)",
              "default": "",
              "title": "Q"
            },
            "description": "Search query (matches name)"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/world-rules/absolute": {
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "List Absolute Rules",
        "description": "List all absolute rules (severity >= 90).\n\nThese are the unbreakable laws of the world.\n\nArgs:\n    limit: Maximum number of results.\n\nReturns:\n    List of absolute world rules.",
        "operationId": "list_absolute_rules_world_rules_absolute_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/world-rules/{rule_id}": {
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "Get World Rule",
        "description": "Get a specific world rule by ID.\n\nArgs:\n    rule_id: Unique identifier for the rule.\n\nReturns:\n    The world rule details.\n\nRaises:\n    HTTPException: If rule not found.",
        "operationId": "get_world_rule_world_rules__rule_id__get",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "world-rules"
        ],
        "summary": "Update World Rule",
        "description": "Update an existing world rule.\n\nArgs:\n    rule_id: Unique identifier for the rule.\n    request: Fields to update.\n\nReturns:\n    The updated world rule.\n\nRaises:\n    HTTPException: If rule not found or update fails.",
        "operationId": "update_world_rule_world_rules__rule_id__put",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorldRuleUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "world-rules"
        ],
        "summary": "Delete World Rule",
        "description": "Delete a world rule.\n\nArgs:\n    rule_id: Unique identifier for the rule.\n\nRaises:\n    HTTPException: If rule not found.",
        "operationId": "delete_world_rule_world_rules__rule_id__delete",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/dialogue/generate": {
      "post": {
        "tags": [
          "dialogue"
        ],
        "summary": "Generate Dialogue",
        "description": "Generate dialogue in character voice.\n\nUses the character's psychology (Big Five traits), character traits,\nand speaking style to produce authentic dialogue that sounds like\nthe character would naturally speak.\n\nThe context parameter describes the situation the character is responding\nto, such as \"A stranger asks for directions\" or \"Their rival insults them\".\nThe optional mood parameter can modify normal speech patterns.",
        "operationId": "generate_dialogue_dialogue_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DialogueGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DialogueGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/social/analysis": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Get Social Analysis",
        "description": "Get complete social network analysis.\n\nAnalyzes all character-to-character relationships to compute centrality\nmetrics, identify key characters (most connected, most hated, most loved),\nand measure network properties like density.\n\nReturns:\n    SocialAnalysisResponse with complete network metrics.\n\nExample response:\n    {\n        \"character_centralities\": {\n            \"char-001\": {\n                \"character_id\": \"char-001\",\n                \"relationship_count\": 5,\n                \"positive_count\": 3,\n                \"negative_count\": 1,\n                \"average_trust\": 65.0,\n                \"average_romance\": 20.0,\n                \"centrality_score\": 100.0\n            }\n        },\n        \"most_connected\": \"char-001\",\n        \"most_hated\": \"char-003\",\n        \"most_loved\": \"char-002\",\n        \"total_relationships\": 10,\n        \"total_characters\": 4,\n        \"network_density\": 0.83\n    }",
        "operationId": "get_social_analysis_social_analysis_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SocialAnalysisResponse"
                }
              }
            }
          }
        }
      }
    },
    "/social/analysis/{character_id}": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Get Character Centrality",
        "description": "Get centrality metrics for a specific character.\n\nComputes how central this character is in the social network based on\ntheir relationships with other characters.\n\nArgs:\n    character_id: ID of the character to analyze.\n\nReturns:\n    CharacterCentralitySchema with the character's metrics.\n\nRaises:\n    HTTPException 404: If character has no relationships.",
        "operationId": "get_character_centrality_social_analysis__character_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterCentralitySchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/factions/{faction_id}": {
      "get": {
        "tags": [
          "factions"
        ],
        "summary": "Get Faction Detail",
        "description": "Get faction details including member list.\n\nReturns faction metadata and all characters that belong to this faction.",
        "operationId": "get_faction_detail_factions__faction_id__get",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/factions/{faction_id}/join": {
      "post": {
        "tags": [
          "factions"
        ],
        "summary": "Join Faction",
        "description": "Add a character to a faction.\n\nA character can only be in one faction at a time. If already in a faction,\nuse the leave endpoint first, or the character will automatically leave\ntheir current faction when joining a new one.",
        "operationId": "join_faction_factions__faction_id__join_post",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactionJoinRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionJoinResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/factions/{faction_id}/leave": {
      "post": {
        "tags": [
          "factions"
        ],
        "summary": "Leave Faction",
        "description": "Remove a character from a faction.\n\nIf the character is the faction leader, they will be removed from\nleadership as well.",
        "operationId": "leave_faction_factions__faction_id__leave_post",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactionLeaveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionLeaveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/factions/{faction_id}/leader": {
      "post": {
        "tags": [
          "factions"
        ],
        "summary": "Set Faction Leader",
        "description": "Set a character as the faction leader.\n\nThe character must already be a member of the faction.\nSetting a new leader will replace any existing leader.",
        "operationId": "set_faction_leader_factions__faction_id__leader_post",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactionSetLeaderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionSetLeaderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompts",
        "description": "List all prompt templates with optional filtering.\n\nWhy: Provides discovery and browsing of available prompts.\n\nArgs:\n    request: FastAPI request\n    response: FastAPI response (for cache headers)\n    tags: Comma-separated filter by tags\n    model: Filter by model name\n    limit: Maximum number of results\n    offset: Number of results to skip\n    service: Prompt router service\n\nReturns:\n    List of prompt summaries",
        "operationId": "list_prompts_prompts_get",
        "parameters": [
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags"
            }
          },
          {
            "name": "model",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Model"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Create Prompt",
        "description": "Create a new prompt template.\n\nWhy: Allows users to define custom prompts.\n\nArgs:\n    payload: Prompt creation request\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Created prompt detail",
        "operationId": "create_prompt_prompts_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/search": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Search Prompts",
        "description": "Search prompt templates by name or description.\n\nWhy: Enables quick lookup of specific prompts.\n\nArgs:\n    query: Search query string\n    request: FastAPI request\n    limit: Maximum number of results\n    service: Prompt router service\n\nReturns:\n    List of matching prompt summaries",
        "operationId": "search_prompts_prompts_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/tags": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompt Tags",
        "description": "List all unique tags across all prompt templates.\n\nWhy: Provides tag values for filtering UI.\n\nArgs:\n    service: Prompt router service\n\nReturns:\n    Dictionary with tag categories and their values",
        "operationId": "list_prompt_tags_prompts_tags_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "type": "object",
                  "title": "Response List Prompt Tags Prompts Tags Get"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}/analytics": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Get Prompt Analytics",
        "description": "Get analytics for a prompt template.\n\nBRAIN-022B: Backend: Prompt Analytics - API\nProvides usage statistics and metrics over time with period aggregation.\n\nQuery Parameters:\n    period: Time period for aggregation (day, week, month, all)\n    start_date: Optional ISO 8601 start date for filtering\n    end_date: Optional ISO 8601 end date for filtering\n    workspace_id: Optional filter by workspace ID\n    limit: Maximum time series data points (default: 100)\n\nReturns:\n    Analytics data with time series, metrics, and rating distribution\n\nRaises:\n    404: If prompt not found\n    400: If date format is invalid or usage repository not configured\n    500: If analytics retrieval fails",
        "operationId": "get_prompt_analytics_prompts__prompt_id__analytics_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/PromptAnalyticsTimePeriod",
              "default": "all"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "workspace_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Workspace Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Prompt Analytics Prompts  Prompt Id  Analytics Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}/analytics/export": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Export Prompt Analytics",
        "description": "Export prompt analytics as CSV.\n\nBRAIN-022B: Backend: Prompt Analytics - API (CSV export)\n\nQuery Parameters:\n    start_date: Optional ISO 8601 start date for filtering\n    end_date: Optional ISO 8601 end date for filtering\n    workspace_id: Optional filter by workspace ID\n\nReturns:\n    CSV file with all usage data\n\nRaises:\n    404: If prompt not found\n    400: If date format is invalid or usage repository not configured\n    500: If export fails",
        "operationId": "export_prompt_analytics_prompts__prompt_id__analytics_export_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "workspace_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Workspace Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/health": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Prompts Health",
        "description": "Health check for the prompt management system.\n\nWhy: Verify repository is accessible and count templates.\n\nNOTE: This route must be defined BEFORE /prompts/{prompt_id}\n      to avoid 'health' being captured as a prompt_id.\n\nArgs:\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Health status information",
        "operationId": "prompts_health_prompts_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Prompts Health Prompts Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Get Prompt",
        "description": "Get a specific prompt template by ID.\n\nWhy: Retrieve full prompt details for editing or viewing.\n\nArgs:\n    prompt_id: Prompt template ID\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Prompt detail response",
        "operationId": "get_prompt_prompts__prompt_id__get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "prompts"
        ],
        "summary": "Update Prompt",
        "description": "Update a prompt template (creates a new version).\n\nWhy: Version tracking allows safe modifications and rollback.\n\nArgs:\n    prompt_id: ID of the prompt to update\n    payload: Update request fields\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    New version of the prompt",
        "operationId": "update_prompt_prompts__prompt_id__put",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "prompts"
        ],
        "summary": "Delete Prompt",
        "description": "Archive (soft delete) a prompt template.\n\nWhy: Soft delete preserves history and allows recovery.\n\nArgs:\n    prompt_id: ID of the prompt to delete\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    204 No Content on success",
        "operationId": "delete_prompt_prompts__prompt_id__delete",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}/render": {
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Render Prompt",
        "description": "Render a prompt template with variable values.\n\nWhy: Preview the rendered prompt before using it.\n\nArgs:\n    prompt_id: ID of the prompt to render\n    payload: Variable values for rendering\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Rendered prompt content with metadata",
        "operationId": "render_prompt_prompts__prompt_id__render_post",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptRenderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptRenderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}/generate": {
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Generate Prompt",
        "description": "Generate output using a prompt template and LLM.\n\nBRAIN-020B: Frontend: Prompt Playground - Integration\nBRAIN-022A: Backend: Prompt Analytics - Data Model (usage tracking)\nCombines rendering and LLM generation in a single request.\nTracks usage analytics for token consumption and latency.\n\nArgs:\n    prompt_id: ID of the prompt to use\n    payload: Variable values and optional model config overrides\n    request: FastAPI request\n    service: Prompt router service with usage tracking\n\nReturns:\n    Generated output with rendered prompt and metadata",
        "operationId": "generate_prompt_prompts__prompt_id__generate_post",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptGenerateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptGenerateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}/versions": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Get Prompt Versions",
        "description": "Get all versions of a prompt template.\n\nWhy: Version history enables audit trail and rollback.\n\nArgs:\n    prompt_id: ID of any version of the prompt\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    List of all versions of the prompt",
        "operationId": "get_prompt_versions_prompts__prompt_id__versions_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}/rollback/{version}": {
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Rollback Prompt",
        "description": "Rollback a prompt to a specific version.\n\nWhy: Restore previous versions by creating a new version with the target content.\n\nArgs:\n    prompt_id: ID of the current prompt version\n    version: Target version number to rollback to\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    New PromptTemplate created from the target version",
        "operationId": "rollback_prompt_prompts__prompt_id__rollback__version__post",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/prompts/{prompt_id}/compare": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Compare Prompt Versions",
        "description": "Compare two versions of a prompt template.\n\nWhy: View differences between versions for review and debugging.\n\nArgs:\n    prompt_id: ID of any version of the prompt\n    version_a: First version number to compare\n    version_b: Second version number to compare\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Comparison result with diffs",
        "operationId": "compare_prompt_versions_prompts__prompt_id__compare_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "version_a",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version A"
            }
          },
          {
            "name": "version_b",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version B"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Compare Prompt Versions Prompts  Prompt Id  Compare Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "List Experiments",
        "description": "List all experiments with optional filtering.\n\nWhy: Provides discovery and browsing of experiments.\n\nArgs:\n    request: FastAPI request\n    response: FastAPI response (for cache headers)\n    status: Optional filter by status\n    prompt_id: Optional filter by prompt ID\n    limit: Maximum number of results\n    offset: Number of results to skip\n    service: Experiment router service\n\nReturns:\n    List of experiment summaries",
        "operationId": "list_experiments_experiments_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "prompt_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Prompt Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Create Experiment",
        "description": "Create a new A/B testing experiment.\n\nWhy: Allows users to compare prompt variants.\n\nArgs:\n    payload: Experiment creation request\n    service: Experiment router service\n\nReturns:\n    Created experiment summary",
        "operationId": "create_experiment_experiments_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/health": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "Experiments Health",
        "description": "Health check for the experiment system.\n\nWhy: Verify repository is accessible and count experiments.\n\nNOTE: This route must be defined BEFORE /experiments/{experiment_id}\n      to avoid 'health' being captured as an experiment_id.\n\nArgs:\n    service: Experiment router service\n\nReturns:\n    Health status information",
        "operationId": "experiments_health_experiments_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Experiments Health Experiments Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/{experiment_id}": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "Get Experiment",
        "description": "Get a specific experiment by ID.\n\nWhy: Retrieve full experiment details for viewing.\n\nArgs:\n    experiment_id: Experiment ID\n    service: Experiment router service\n\nReturns:\n    Experiment summary response",
        "operationId": "get_experiment_experiments__experiment_id__get",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "experiments"
        ],
        "summary": "Delete Experiment",
        "description": "Delete an experiment.\n\nWhy: Remove experiments that are no longer needed.\n\nArgs:\n    experiment_id: ID of the experiment to delete\n    service: Experiment router service\n\nReturns:\n    204 No Content on success",
        "operationId": "delete_experiment_experiments__experiment_id__delete",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/{experiment_id}/results": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "Get Experiment Results",
        "description": "Get experiment results with statistical analysis.\n\nWhy: View detailed metrics and statistical significance.\n\nArgs:\n    experiment_id: Experiment ID\n    service: Experiment router service\n\nReturns:\n    Experiment results with metrics, comparison, and significance",
        "operationId": "get_experiment_results_experiments__experiment_id__results_get",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentResultsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/{experiment_id}/start": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Start Experiment",
        "description": "Start an experiment.\n\nWhy: Begin data collection for an A/B test.\n\nArgs:\n    experiment_id: ID of the experiment to start\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "start_experiment_experiments__experiment_id__start_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/{experiment_id}/pause": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Pause Experiment",
        "description": "Pause a running experiment.\n\nWhy: Temporarily stop data collection.\n\nArgs:\n    experiment_id: ID of the experiment to pause\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "pause_experiment_experiments__experiment_id__pause_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/{experiment_id}/resume": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Resume Experiment",
        "description": "Resume a paused experiment.\n\nWhy: Continue data collection.\n\nArgs:\n    experiment_id: ID of the experiment to resume\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "resume_experiment_experiments__experiment_id__resume_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/{experiment_id}/complete": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Complete Experiment",
        "description": "Complete an experiment and optionally declare a winner.\n\nWhy: Finish data collection and finalize results.\n\nArgs:\n    experiment_id: ID of the experiment to complete\n    payload: Optional winner specification\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "complete_experiment_experiments__experiment_id__complete_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentActionRequest",
                "default": {}
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/experiments/{experiment_id}/record": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Record Result",
        "description": "Record a generation result for an experiment.\n\nWhy: Track performance data for A/B testing.\n\nArgs:\n    experiment_id: ID of the experiment\n    payload: Result recording request\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "record_result_experiments__experiment_id__record_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentRecordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "operationId": "login_api_api_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh Token",
        "operationId": "refresh_token_api_api_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/auth/csrf-token": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Csrf Token",
        "operationId": "get_csrf_token_api_api_auth_csrf_token_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CSRFTokenResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout",
        "operationId": "logout_api_api_auth_logout_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/LogoutRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Body"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/auth/validate": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Validate Token",
        "operationId": "validate_token_api_api_auth_validate_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenValidationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/metrics": {
      "get": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Metrics",
        "operationId": "cache_metrics_api_cache_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/cache/invalidate": {
      "post": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Invalidate",
        "operationId": "cache_invalidate_api_cache_invalidate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InvalidationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/chunk/{key}": {
      "post": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Chunk Append",
        "operationId": "cache_chunk_append_api_cache_chunk__key__post",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChunkInRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/chunk/{key}/complete": {
      "post": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Chunk Complete",
        "operationId": "cache_chunk_complete_api_cache_chunk__key__complete_post",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/cache/stream/{key}": {
      "get": {
        "tags": [
          "Cache"
        ],
        "summary": "Cache Stream",
        "operationId": "cache_stream_api_cache_stream__key__get",
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/campaigns": {
      "get": {
        "tags": [
          "Campaigns"
        ],
        "summary": "Get Campaigns",
        "description": "Retrieves a list of available campaigns.",
        "operationId": "get_campaigns_api_campaigns_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignsListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Campaigns"
        ],
        "summary": "Create Campaign",
        "description": "Creates a new campaign.",
        "operationId": "create_campaign_api_campaigns_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CampaignCreationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignCreationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/campaigns/{campaign_id}": {
      "get": {
        "tags": [
          "Campaigns"
        ],
        "summary": "Get Campaign",
        "description": "Retrieves a campaign by id.\n\nSECURITY: This endpoint uses a whitelist approach to prevent path injection.\nThe campaign_id is looked up in a registry built from filesystem scans,\nnever used directly to construct file paths.",
        "operationId": "get_campaign_api_campaigns__campaign_id__get",
        "parameters": [
          {
            "name": "campaign_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Campaign Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CampaignDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/enhanced": {
      "get": {
        "tags": [
          "characters"
        ],
        "summary": "Get Character Enhanced Api",
        "description": "Retrieves enhanced character context.\n\nWhy: Provides enriched context for narrative generation.",
        "operationId": "get_character_enhanced_api_api_characters__character_id__enhanced_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Character Enhanced Api Api Characters  Character Id  Enhanced Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/events/stream": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Stream Events",
        "description": "Server-Sent Events (SSE) endpoint for real-time dashboard events.\n\nStreams continuous event updates with automatic reconnection support.\nEvents include: character actions, story progression, system alerts, interactions.\n\nArgs:\n    limit: Optional maximum number of events to return (useful for testing)\n\nReturns:\n    StreamingResponse: text/event-stream with continuous event updates\n\nExample:\n    ```javascript\n    const eventSource = new EventSource('/api/events/stream');\n    eventSource.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        console.log('Event:', data);\n    };\n    ```",
        "operationId": "stream_events_api_events_stream_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/events/emit": {
      "post": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Emit Dashboard Event",
        "description": "Emit event to all connected clients.",
        "operationId": "emit_dashboard_event_api_events_emit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmitEventRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmitEventResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/events/stats": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Get Sse Stats",
        "description": "Get SSE connection statistics.",
        "operationId": "get_sse_stats_api_events_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SSEStatsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/analytics/metrics": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Get Analytics Metrics",
        "description": "Get analytics metrics for dashboard.",
        "operationId": "get_analytics_metrics_api_analytics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsMetricsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/generation/character": {
      "post": {
        "tags": [
          "generation"
        ],
        "summary": "Generate Character",
        "description": "Generate a character card using deterministic fallback logic.",
        "operationId": "generate_character_api_generation_character_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/generation/character-profile": {
      "post": {
        "tags": [
          "generation"
        ],
        "summary": "Generate Character Profile",
        "description": "Generate a detailed character profile using LLM or mock generator.\n\nUses the CharacterProfileGenerator which automatically selects between\nLLM (Gemini) and mock generator based on the MOCK_LLM environment variable.\n\nArgs:\n    request: Character profile generation parameters including name,\n             archetype, and optional context.\n\nReturns:\n    Generated character profile with aliases, traits, appearance,\n    backstory, motivations, and quirks.",
        "operationId": "generate_character_profile_api_generation_character_profile_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterProfileGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterProfileGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/guest/session": {
      "post": {
        "tags": [
          "Guest"
        ],
        "summary": "Create Or Resume Guest Session",
        "operationId": "create_or_resume_guest_session_api_guest_session_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuestSessionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/workspace/export": {
      "get": {
        "tags": [
          "Guest"
        ],
        "summary": "Export Workspace Zip",
        "operationId": "export_workspace_zip_api_workspace_export_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/workspace/import": {
      "post": {
        "tags": [
          "Guest"
        ],
        "summary": "Import Workspace Zip",
        "operationId": "import_workspace_zip_api_workspace_import_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_workspace_zip_api_workspace_import_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GuestSessionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/narratives/stream": {
      "post": {
        "tags": [
          "Narratives"
        ],
        "summary": "Stream Narrative",
        "description": "Stream narrative generation via Server-Sent Events.\n\nThis endpoint accepts a prompt and world context, then streams\ngenerated narrative content in real-time. The response uses\nSSE format for browser-native streaming support.\n\nWhy streaming: Provides immediate feedback to users, reducing\nperceived latency. Users see content appearing as it's generated\nrather than waiting for the entire response.\n\nRequest body:\n    - prompt: The narrative direction/prompt\n    - world_context: Characters, locations, and entities for context\n    - chapter_title: Optional chapter title\n    - tone: Optional tone modifier (dark, hopeful, mysterious)\n    - max_tokens: Maximum tokens to generate (100-8000)\n\nResponse: SSE stream with events:\n    - type: \"chunk\" - Content chunk with sequence number\n    - type: \"done\" - Generation complete with metadata\n    - type: \"error\" - Error occurred during generation",
        "operationId": "stream_narrative_api_narratives_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NarrativeStreamRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/generation/scene": {
      "post": {
        "tags": [
          "generation"
        ],
        "summary": "Generate Scene",
        "description": "Generate a scene based on character context.\n\nArgs:\n    request: Scene generation parameters including character context,\n             scene type, and optional tone.\n\nReturns:\n    Generated scene with title, content, summary, and visual prompt.",
        "operationId": "generate_scene_api_generation_scene_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Root",
        "description": "Root endpoint for basic health check.",
        "operationId": "root_api__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check",
        "description": "Detailed health check endpoint.",
        "operationId": "health_check_api_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/health/chromadb": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Chromadb Health Check",
        "description": "ChromaDB vector store health check endpoint.\n\nWarzone 4: AI Brain - BRAIN-001\nReturns the status of the ChromaDB vector database connection.",
        "operationId": "chromadb_health_check_api_health_chromadb_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Chromadb Health Check Api Health Chromadb Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/meta/system-status": {
      "get": {
        "tags": [
          "Meta"
        ],
        "summary": "System Status",
        "description": "Get system status information.",
        "operationId": "system_status_api_meta_system_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/meta/policy": {
      "get": {
        "tags": [
          "Meta"
        ],
        "summary": "Policy Info",
        "description": "Get policy and compliance information.",
        "operationId": "policy_info_api_meta_policy_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyInfoResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/orchestration/status": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get Orchestration Status",
        "description": "Get current orchestration status.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "get_orchestration_status_api_api_orchestration_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/orchestration/start": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Start Orchestration",
        "description": "Start orchestration with optional parameters.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "start_orchestration_api_api_orchestration_start_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "$ref": "#/components/schemas/OrchestrationStartRequest"
                  },
                  {
                    "type": "null"
                  }
                ],
                "title": "Payload"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStartResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/orchestration/stop": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Stop Orchestration",
        "description": "Stop the current orchestration.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "stop_orchestration_api_api_orchestration_stop_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStopResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/orchestration/pause": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Pause Orchestration",
        "description": "Pause the current orchestration.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "pause_orchestration_api_api_orchestration_pause_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestrationStopResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/api/orchestration/narrative": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get Narrative",
        "description": "Get current narrative content.\n\nUnwraps Result from service layer and converts to HTTP response.",
        "operationId": "get_narrative_api_api_orchestration_narrative_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NarrativeResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/simulations": {
      "post": {
        "tags": [
          "Simulations"
        ],
        "summary": "Run Simulation",
        "description": "Legacy-compatible simulation endpoint used by tests and clients.",
        "operationId": "run_simulation_api_simulations_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SimulationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SimulationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/world/generation": {
      "post": {
        "tags": [
          "world"
        ],
        "summary": "Generate World",
        "description": "Generate a complete world with factions, locations, and history events.",
        "operationId": "generate_world_api_world_generation_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorldGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Stories",
        "description": "List all stories.\n\nReturns:\n    List of all stories sorted by creation time.",
        "operationId": "list_stories_api_structure_stories_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Story",
        "description": "Create a new story.\n\nArgs:\n    request: Story creation data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The created story.\n\nRaises:\n    HTTPException: If story creation fails.",
        "operationId": "create_story_api_structure_stories_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoryCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Story",
        "description": "Get a story by ID.\n\nArgs:\n    story_id: UUID of the story.\n    repo: Narrative repository (injected).\n\nReturns:\n    The requested story.\n\nRaises:\n    HTTPException: If story not found.",
        "operationId": "get_story_api_structure_stories__story_id__get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Story",
        "description": "Update a story's properties.\n\nArgs:\n    story_id: UUID of the story.\n    request: Fields to update.\n    repo: Narrative repository (injected).\n\nReturns:\n    The updated story.\n\nRaises:\n    HTTPException: If story not found or update fails.",
        "operationId": "update_story_api_structure_stories__story_id__patch",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoryUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Story",
        "description": "Delete a story and all its contents.\n\nArgs:\n    story_id: UUID of the story.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If story not found.",
        "operationId": "delete_story_api_structure_stories__story_id__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Chapter",
        "description": "Create a new chapter in a story.\n\nArgs:\n    story_id: UUID of the parent story.\n    request: Chapter creation data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The created chapter.\n\nRaises:\n    HTTPException: If story not found or chapter creation fails.",
        "operationId": "create_chapter_api_structure_stories__story_id__chapters_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChapterCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Chapters",
        "description": "List all chapters in a story.\n\nArgs:\n    story_id: UUID of the story.\n    repo: Narrative repository (injected).\n\nReturns:\n    List of chapters sorted by order_index.\n\nRaises:\n    HTTPException: If story not found.",
        "operationId": "list_chapters_api_structure_stories__story_id__chapters_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Chapter",
        "description": "Get a chapter by ID.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    repo: Narrative repository (injected).\n\nReturns:\n    The requested chapter.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "get_chapter_api_structure_stories__story_id__chapters__chapter_id__get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Chapter",
        "description": "Update a chapter's properties.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    request: Fields to update.\n    repo: Narrative repository (injected).\n\nReturns:\n    The updated chapter.\n\nRaises:\n    HTTPException: If story/chapter not found or update fails.",
        "operationId": "update_chapter_api_structure_stories__story_id__chapters__chapter_id__patch",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChapterUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Chapter",
        "description": "Delete a chapter from a story.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "delete_chapter_api_structure_stories__story_id__chapters__chapter_id__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/move": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Move Chapter",
        "description": "Move a chapter to a new position within the story.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter.\n    request: New position data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The moved chapter with updated order_index.\n\nRaises:\n    HTTPException: If story/chapter not found or move fails.",
        "operationId": "move_chapter_api_structure_stories__story_id__chapters__chapter_id__move_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveChapterRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/scenes": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Scene",
        "description": "Create a new scene in a chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    request: Scene creation data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The created scene.\n\nRaises:\n    HTTPException: If story/chapter not found or scene creation fails.",
        "operationId": "create_scene_api_structure_stories__story_id__chapters__chapter_id__scenes_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Scenes",
        "description": "List all scenes in a chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    repo: Narrative repository (injected).\n\nReturns:\n    List of scenes sorted by order_index.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "list_scenes_api_structure_stories__story_id__chapters__chapter_id__scenes_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Scene",
        "description": "Get a scene by ID.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    repo: Narrative repository (injected).\n\nReturns:\n    The requested scene.\n\nRaises:\n    HTTPException: If story, chapter, or scene not found.",
        "operationId": "get_scene_api_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Scene",
        "description": "Update a scene's properties.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    request: Fields to update.\n    repo: Narrative repository (injected).\n\nReturns:\n    The updated scene.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_scene_api_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__patch",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SceneUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Scene",
        "description": "Delete a scene from a chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_scene_api_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/smart-tags": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Scene Smart Tags",
        "description": "Get smart tags for a scene.\n\nReturns both auto-generated and manual smart tags.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    repo: Narrative repository (injected).\n\nReturns:\n    Smart tags response with auto, manual, and effective tags.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "get_scene_smart_tags_api_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__smart_tags_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/smart-tags/manual": {
      "put": {
        "tags": [
          "structure"
        ],
        "summary": "Update Scene Manual Smart Tags",
        "description": "Update manual smart tags for a scene.\n\nManual tags are never overridden by auto-tagging.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    request: Manual tags update request.\n    repo: Narrative repository (injected).\n\nReturns:\n    Updated smart tags response.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "update_scene_manual_smart_tags_api_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__smart_tags_manual_put",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualSmartTagsUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/smart-tags/manual/{category}": {
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Scene Manual Smart Tags",
        "description": "Delete manual smart tags for a specific category.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the parent chapter.\n    scene_id: UUID of the scene.\n    category: The tag category to clear.\n    repo: Narrative repository (injected).\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_scene_manual_smart_tags_api_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__smart_tags_manual__category__delete",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "category",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Category"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/scenes/{scene_id}/move": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Move Scene",
        "description": "Move a scene to a new position, optionally to a different chapter.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the current chapter.\n    scene_id: UUID of the scene.\n    request: Move destination data.\n    repo: Narrative repository (injected).\n\nReturns:\n    The moved scene with updated position.\n\nRaises:\n    HTTPException: If not found or move fails.",
        "operationId": "move_scene_api_structure_stories__story_id__chapters__chapter_id__scenes__scene_id__move_post",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          },
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MoveSceneRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/beats": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Beat",
        "description": "Create a new beat in a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    request: Beat creation data.\n\nReturns:\n    The created beat.\n\nRaises:\n    HTTPException: If scene not found or beat creation fails.",
        "operationId": "create_beat_api_structure_scenes__scene_id__beats_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BeatCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Beats",
        "description": "List all beats in a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n\nReturns:\n    List of beats sorted by order_index.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "list_beats_api_structure_scenes__scene_id__beats_get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/beats/{beat_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Beat",
        "description": "Get a beat by ID.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    beat_id: UUID of the beat.\n\nReturns:\n    The requested beat.\n\nRaises:\n    HTTPException: If scene or beat not found.",
        "operationId": "get_beat_api_structure_scenes__scene_id__beats__beat_id__get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "beat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Beat Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Beat",
        "description": "Update a beat's properties.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    beat_id: UUID of the beat.\n    request: Fields to update.\n\nReturns:\n    The updated beat.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_beat_api_structure_scenes__scene_id__beats__beat_id__patch",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "beat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Beat Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BeatUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Beat",
        "description": "Delete a beat from a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    beat_id: UUID of the beat.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_beat_api_structure_scenes__scene_id__beats__beat_id__delete",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "beat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Beat Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/beats/reorder": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Reorder Beats",
        "description": "Reorder beats within a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: List of beat IDs in desired order.\n\nReturns:\n    Updated list of beats in new order.\n\nRaises:\n    HTTPException: If scene not found or beat IDs don't match.",
        "operationId": "reorder_beats_api_structure_scenes__scene_id__beats_reorder_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReorderBeatsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/suggest-beats": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Suggest Beats",
        "description": "Generate AI beat suggestions for a scene.\n\nUses the LLM to suggest 3 possible next beats that could\nlogically follow the current beat sequence, considering\nscene context and desired mood trajectory.\n\nArgs:\n    scene_id: UUID of the scene.\n    payload: Current beats, scene context, and optional mood target.\n\nReturns:\n    Three AI-generated beat suggestions with type, content,\n    mood shift, and rationale.",
        "operationId": "suggest_beats_api_structure_scenes__scene_id__suggest_beats_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BeatSuggestionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BeatSuggestionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/critique": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Critique Scene",
        "description": "Analyze scene writing quality using AI.\n\nProvides AI-generated feedback on scene quality across multiple\ncraft dimensions: pacing, narrative voice, showing vs. telling,\nand dialogue naturalism. Returns specific, actionable suggestions\nfor improvement along with recognition of what works well.\n\nArgs:\n    scene_id: UUID of the scene (for logging, not used in lookup).\n    payload: Scene text and optional writer's goals.\n\nReturns:\n    CritiqueResult containing overall score (1-10), category-specific\n    evaluations (pacing, voice, showing, dialogue), highlights of what\n    works, summary assessment, and actionable suggestions.",
        "operationId": "critique_scene_api_structure_scenes__scene_id__critique_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CritiqueSceneRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CritiqueSceneResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/pacing": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Chapter Pacing",
        "description": "Get pacing analysis for a chapter.\n\nReturns tension/energy metrics for each scene in the chapter,\nalong with aggregate statistics and detected pacing issues.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter to analyze.\n    repo: Narrative repository (injected).\n\nReturns:\n    ChapterPacingResponse with scene-by-scene metrics and issues.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "get_chapter_pacing_api_structure_stories__story_id__chapters__chapter_id__pacing_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterPacingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/conflicts": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Conflict",
        "description": "Create a new conflict in a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    request: Conflict creation data.\n\nReturns:\n    The created conflict.\n\nRaises:\n    HTTPException: If scene not found or conflict creation fails.",
        "operationId": "create_conflict_api_structure_scenes__scene_id__conflicts_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConflictCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Conflicts",
        "description": "List all conflicts in a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n\nReturns:\n    List of conflicts for the scene.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "list_conflicts_api_structure_scenes__scene_id__conflicts_get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/conflicts/{conflict_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Conflict",
        "description": "Get a conflict by ID.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    conflict_id: UUID of the conflict.\n\nReturns:\n    The requested conflict.\n\nRaises:\n    HTTPException: If scene or conflict not found.",
        "operationId": "get_conflict_api_structure_scenes__scene_id__conflicts__conflict_id__get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "conflict_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conflict Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Conflict",
        "description": "Update a conflict's properties.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    conflict_id: UUID of the conflict.\n    request: Fields to update.\n\nReturns:\n    The updated conflict.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_conflict_api_structure_scenes__scene_id__conflicts__conflict_id__patch",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "conflict_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conflict Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConflictUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConflictResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Conflict",
        "description": "Delete a conflict from a scene.\n\nArgs:\n    scene_id: UUID of the parent scene.\n    conflict_id: UUID of the conflict.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_conflict_api_structure_scenes__scene_id__conflicts__conflict_id__delete",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          },
          {
            "name": "conflict_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Conflict Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/plotlines": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Plotlines",
        "description": "List all plotlines with scene counts.\n\nReturns:\n    List of all plotlines with the number of scenes linked to each.",
        "operationId": "list_plotlines_api_structure_plotlines_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Plotline",
        "description": "Create a new plotline.\n\nArgs:\n    request: Plotline creation data.\n\nReturns:\n    The created plotline.\n\nRaises:\n    HTTPException: If plotline creation fails.",
        "operationId": "create_plotline_api_structure_plotlines_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlotlineCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/plotlines/{plotline_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Plotline",
        "description": "Get a plotline by ID.\n\nArgs:\n    plotline_id: UUID of the plotline.\n\nReturns:\n    The requested plotline.\n\nRaises:\n    HTTPException: If plotline not found.",
        "operationId": "get_plotline_api_structure_plotlines__plotline_id__get",
        "parameters": [
          {
            "name": "plotline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plotline Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "structure"
        ],
        "summary": "Update Plotline",
        "description": "Update a plotline's properties.\n\nArgs:\n    plotline_id: UUID of the plotline.\n    request: Fields to update.\n\nReturns:\n    The updated plotline.\n\nRaises:\n    HTTPException: If not found or update fails.",
        "operationId": "update_plotline_api_structure_plotlines__plotline_id__patch",
        "parameters": [
          {
            "name": "plotline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plotline Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlotlineUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlotlineResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Plotline",
        "description": "Delete a plotline.\n\nArgs:\n    plotline_id: UUID of the plotline.\n\nRaises:\n    HTTPException: If not found.",
        "operationId": "delete_plotline_api_structure_plotlines__plotline_id__delete",
        "parameters": [
          {
            "name": "plotline_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plotline Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/scenes/{scene_id}/plotlines": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Link Scene To Plotline",
        "description": "Link a scene to a plotline.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: Request containing plotline_id to link.\n\nReturns:\n    Updated list of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene or plotline not found.",
        "operationId": "link_scene_to_plotline_api_structure_scenes__scene_id__plotlines_post",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LinkSceneToPlotlineRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Unlink Scene From Plotline",
        "description": "Unlink a scene from a plotline.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: Request containing plotline_id to unlink.\n\nReturns:\n    Updated list of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "unlink_scene_from_plotline_api_structure_scenes__scene_id__plotlines_delete",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UnlinkSceneFromPlotlineRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "structure"
        ],
        "summary": "Set Scene Plotlines",
        "description": "Set all plotlines for a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n    request: Request containing list of plotline IDs.\n\nReturns:\n    Updated list of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene not found or plotline IDs invalid.",
        "operationId": "set_scene_plotlines_api_structure_scenes__scene_id__plotlines_put",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetScenePlotlinesRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Scene Plotlines",
        "description": "Get all plotlines for a scene.\n\nArgs:\n    scene_id: UUID of the scene.\n\nReturns:\n    List of plotline IDs for the scene.\n\nRaises:\n    HTTPException: If scene not found.",
        "operationId": "get_scene_plotlines_api_structure_scenes__scene_id__plotlines_get",
        "parameters": [
          {
            "name": "scene_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Scene Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScenePlotlinesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/foreshadowings": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "List Foreshadowings",
        "description": "List all foreshadowings.\n\nReturns:\n    List of all foreshadowings.",
        "operationId": "list_foreshadowings_api_structure_foreshadowings_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Create Foreshadowing",
        "description": "Create a new foreshadowing.\n\nArgs:\n    request: Foreshadowing creation data.\n\nReturns:\n    The created foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing creation fails or setup scene not found.",
        "operationId": "create_foreshadowing_api_structure_foreshadowings_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForeshadowingCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/foreshadowings/{foreshadowing_id}": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Foreshadowing",
        "description": "Get a foreshadowing by ID.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n\nReturns:\n    The foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found.",
        "operationId": "get_foreshadowing_api_structure_foreshadowings__foreshadowing_id__get",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "structure"
        ],
        "summary": "Update Foreshadowing",
        "description": "Update a foreshadowing.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n    request: Update data.\n\nReturns:\n    The updated foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found or update fails.",
        "operationId": "update_foreshadowing_api_structure_foreshadowings__foreshadowing_id__put",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForeshadowingUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "structure"
        ],
        "summary": "Delete Foreshadowing",
        "description": "Delete a foreshadowing.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found.",
        "operationId": "delete_foreshadowing_api_structure_foreshadowings__foreshadowing_id__delete",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/foreshadowings/{foreshadowing_id}/link-payoff": {
      "post": {
        "tags": [
          "structure"
        ],
        "summary": "Link Payoff To Foreshadowing",
        "description": "Link a payoff scene to a foreshadowing.\n\nThis validates that the payoff scene comes after the setup scene.\n\nArgs:\n    foreshadowing_id: UUID of the foreshadowing.\n    request: Request containing payoff_scene_id.\n\nReturns:\n    The updated foreshadowing.\n\nRaises:\n    HTTPException: If foreshadowing not found, payoff scene not found,\n        or validation fails.",
        "operationId": "link_payoff_to_foreshadowing_api_structure_foreshadowings__foreshadowing_id__link_payoff_post",
        "parameters": [
          {
            "name": "foreshadowing_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Foreshadowing Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LinkPayoffRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForeshadowingResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/structure/stories/{story_id}/chapters/{chapter_id}/health": {
      "get": {
        "tags": [
          "structure"
        ],
        "summary": "Get Chapter Health",
        "description": "Get structural health analysis for a chapter.\n\nReturns comprehensive chapter-level analysis including phase distribution,\nword count estimates, tension arc shape, and detected structural issues.\n\nArgs:\n    story_id: UUID of the parent story.\n    chapter_id: UUID of the chapter to analyze.\n    repo: Narrative repository (injected).\n\nReturns:\n    ChapterHealthReportResponse with complete analysis.\n\nRaises:\n    HTTPException: If story or chapter not found.",
        "operationId": "get_chapter_health_api_structure_stories__story_id__chapters__chapter_id__health_get",
        "parameters": [
          {
            "name": "story_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Story Id"
            }
          },
          {
            "name": "chapter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chapter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChapterHealthReportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/narrative/generate/stream": {
      "post": {
        "tags": [
          "narrative-generation"
        ],
        "summary": "Stream Narrative Generation",
        "description": "Stream narrative generation via Server-Sent Events.\n\nThis endpoint generates narrative content and streams it in real-time.\nWhen MOCK_LLM=true, it streams a hardcoded story line by line.\nOtherwise, it calls the actual LLM service (when implemented).\n\nWhy streaming:\n    Provides immediate feedback to users, reducing perceived latency.\n    Users see content appearing as it's generated rather than\n    waiting for the entire response.\n\nRequest body:\n    - scene_id: Optional UUID of the scene to generate for\n    - prompt: Optional custom generation prompt\n    - context: Optional context string\n    - max_tokens: Maximum tokens (50-4000, default 500)\n\nResponse: SSE stream with events:\n    - type: \"chunk\" - Content chunk with sequence number\n    - type: \"done\" - Generation complete with metadata\n    - type: \"error\" - Error occurred during generation\n\nEnvironment:\n    - MOCK_LLM=true: Use mock generation (for testing)\n    - MOCK_LLM=false or unset: Use real LLM (when implemented)\n\nExample with curl:\n    ```bash\n    curl -N -X POST http://localhost:8000/api/narrative/generate/stream \\\n        -H \"Content-Type: application/json\" \\\n        -d '{\"max_tokens\": 500}'\n    ```",
        "operationId": "stream_narrative_generation_api_narrative_generate_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateStreamRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/relationships": {
      "post": {
        "tags": [
          "relationships"
        ],
        "summary": "Create Relationship",
        "description": "Create a new relationship between entities.\n\nCreates a directed relationship from source to target. For bidirectional\nrelationships (like ALLY or ENEMY), consider creating both directions.\n\nArgs:\n    request: Relationship creation request.\n\nReturns:\n    The created relationship.\n\nRaises:\n    HTTPException: If validation fails or entities are invalid.",
        "operationId": "create_relationship_api_relationships_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "List Relationships",
        "description": "List all relationships with optional filtering.\n\nArgs:\n    relationship_type: Optional filter by relationship type.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of relationships.",
        "operationId": "list_relationships_api_relationships_get",
        "parameters": [
          {
            "name": "relationship_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by relationship type",
              "title": "Relationship Type"
            },
            "description": "Filter by relationship type"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/relationships/by-entity/{entity_id}": {
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "Get Relationships By Entity",
        "description": "Get all relationships for a specific entity.\n\nReturns relationships where the entity is either source or target.\nThis is the primary query for building relationship graphs in the UI.\n\nArgs:\n    entity_id: ID of the entity to query.\n    entity_type: Optional filter by entity type.\n    include_inactive: Whether to include historical relationships.\n\nReturns:\n    List of relationships involving the entity.",
        "operationId": "get_relationships_by_entity_api_relationships_by_entity__entity_id__get",
        "parameters": [
          {
            "name": "entity_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entity Id"
            }
          },
          {
            "name": "entity_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by entity type (CHARACTER, FACTION, etc.)",
              "title": "Entity Type"
            },
            "description": "Filter by entity type (CHARACTER, FACTION, etc.)"
          },
          {
            "name": "include_inactive",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include inactive relationships",
              "default": false,
              "title": "Include Inactive"
            },
            "description": "Include inactive relationships"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/relationships/{relationship_id}": {
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "Get Relationship",
        "description": "Get a specific relationship by ID.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n\nReturns:\n    The relationship details.\n\nRaises:\n    HTTPException: If relationship not found.",
        "operationId": "get_relationship_api_relationships__relationship_id__get",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "relationships"
        ],
        "summary": "Update Relationship",
        "description": "Update an existing relationship.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n    request: Fields to update.\n\nReturns:\n    The updated relationship.\n\nRaises:\n    HTTPException: If relationship not found or update fails.",
        "operationId": "update_relationship_api_relationships__relationship_id__put",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RelationshipUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "relationships"
        ],
        "summary": "Delete Relationship",
        "description": "Delete a relationship.\n\nPermanently removes the relationship from the knowledge graph.\nConsider using deactivation (via PUT with is_active=false) to\npreserve historical data.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n\nRaises:\n    HTTPException: If relationship not found.",
        "operationId": "delete_relationship_api_relationships__relationship_id__delete",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/relationships/{relationship_id}/interactions": {
      "post": {
        "tags": [
          "relationships"
        ],
        "summary": "Log Interaction",
        "description": "Log an interaction that affects the relationship.\n\nRecords the interaction in the relationship's history and updates\ntrust/romance levels accordingly. Changes are clamped to 0-100 range.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n    request: Interaction details including summary and metric changes.\n\nReturns:\n    The updated relationship with new trust/romance levels.\n\nRaises:\n    HTTPException: If relationship not found or validation fails.",
        "operationId": "log_interaction_api_relationships__relationship_id__interactions_post",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LogInteractionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/relationships/between/{entity_a_id}/{entity_b_id}": {
      "get": {
        "tags": [
          "relationships"
        ],
        "summary": "Get Relationships Between",
        "description": "Get all relationships between two specific entities.\n\nChecks both directions (A->B and B->A).\n\nArgs:\n    entity_a_id: First entity ID.\n    entity_b_id: Second entity ID.\n\nReturns:\n    List of relationships connecting the two entities.",
        "operationId": "get_relationships_between_api_relationships_between__entity_a_id___entity_b_id__get",
        "parameters": [
          {
            "name": "entity_a_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entity A Id"
            }
          },
          {
            "name": "entity_b_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entity B Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/relationships/{relationship_id}/generate-history": {
      "post": {
        "tags": [
          "relationships"
        ],
        "summary": "Generate Relationship History",
        "description": "Generate a backstory for the relationship using AI.\n\nCreates a compelling narrative explaining how the two characters came\nto have their current trust and romance levels. The generated history\nincludes their first meeting, defining moments, and current status.\n\nArgs:\n    relationship_id: Unique identifier for the relationship.\n\nReturns:\n    Generated backstory and structured history elements.\n\nRaises:\n    HTTPException: If relationship not found or generation fails.",
        "operationId": "generate_relationship_history_api_relationships__relationship_id__generate_history_post",
        "parameters": [
          {
            "name": "relationship_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Relationship Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RelationshipHistoryGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/items": {
      "post": {
        "tags": [
          "items"
        ],
        "summary": "Create Item",
        "description": "Create a new item.\n\nArgs:\n    request: Item creation request.\n\nReturns:\n    The created item.\n\nRaises:\n    HTTPException: If validation fails.",
        "operationId": "create_item_api_items_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItemCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "items"
        ],
        "summary": "List Items",
        "description": "List all items with optional filtering.\n\nArgs:\n    item_type: Optional filter by item type.\n    rarity: Optional filter by rarity.\n    search: Optional search query for name.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of items.",
        "operationId": "list_items_api_items_get",
        "parameters": [
          {
            "name": "item_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by item type",
              "title": "Item Type"
            },
            "description": "Filter by item type"
          },
          {
            "name": "rarity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by rarity",
              "title": "Rarity"
            },
            "description": "Filter by rarity"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name",
              "title": "Search"
            },
            "description": "Search by name"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/items/{item_id}": {
      "get": {
        "tags": [
          "items"
        ],
        "summary": "Get Item",
        "description": "Get a specific item by ID.\n\nArgs:\n    item_id: Unique identifier for the item.\n\nReturns:\n    The item details.\n\nRaises:\n    HTTPException: If item not found.",
        "operationId": "get_item_api_items__item_id__get",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "items"
        ],
        "summary": "Update Item",
        "description": "Update an existing item.\n\nArgs:\n    item_id: Unique identifier for the item.\n    request: Fields to update.\n\nReturns:\n    The updated item.\n\nRaises:\n    HTTPException: If item not found or update fails.",
        "operationId": "update_item_api_items__item_id__put",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ItemUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "items"
        ],
        "summary": "Delete Item",
        "description": "Delete an item.\n\nArgs:\n    item_id: Unique identifier for the item.\n\nRaises:\n    HTTPException: If item not found.",
        "operationId": "delete_item_api_items__item_id__delete",
        "parameters": [
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/give-item": {
      "post": {
        "tags": [
          "characters",
          "items"
        ],
        "summary": "Give Item To Character",
        "description": "Give an item to a character.\n\nAdds the item to the character's inventory. The item must exist\nin the items repository.\n\nArgs:\n    character_id: ID of the character.\n    request: Contains the item_id to give.\n\nReturns:\n    Success status and message.\n\nRaises:\n    HTTPException: If item not found or already in inventory.",
        "operationId": "give_item_to_character_api_characters__character_id__give_item_post",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GiveItemRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/remove-item/{item_id}": {
      "delete": {
        "tags": [
          "characters",
          "items"
        ],
        "summary": "Remove Item From Character",
        "description": "Remove an item from a character's inventory.\n\nArgs:\n    character_id: ID of the character.\n    item_id: ID of the item to remove.\n\nReturns:\n    Success status and message.",
        "operationId": "remove_item_from_character_api_characters__character_id__remove_item__item_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "item_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Item Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemoveItemResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/inventory": {
      "get": {
        "tags": [
          "characters",
          "items"
        ],
        "summary": "Get Character Inventory",
        "description": "Get all items in a character's inventory.\n\nArgs:\n    character_id: ID of the character.\n\nReturns:\n    List of items in the character's inventory.",
        "operationId": "get_character_inventory_api_characters__character_id__inventory_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ItemListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/lore": {
      "post": {
        "tags": [
          "lore"
        ],
        "summary": "Create Lore Entry",
        "description": "Create a new lore entry.\n\nArgs:\n    request: Lore entry creation request.\n\nReturns:\n    The created lore entry.\n\nRaises:\n    HTTPException: If validation fails.",
        "operationId": "create_lore_entry_api_lore_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoreEntryCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "List Lore Entries",
        "description": "List all lore entries with optional filtering.\n\nArgs:\n    category: Optional filter by category.\n    tag: Optional filter by a single tag.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of lore entries.",
        "operationId": "list_lore_entries_api_lore_get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by single tag",
              "title": "Tag"
            },
            "description": "Filter by single tag"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/lore/search": {
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "Search Lore Entries",
        "description": "Search lore entries by title and optionally filter by tags/category.\n\nThis is the primary search endpoint combining text search with filtering.\n\nArgs:\n    q: Search query string (case-insensitive title match).\n    tags: Comma-separated list of tags to filter by (any match).\n    category: Optional category filter.\n    limit: Maximum number of results.\n\nReturns:\n    List of matching lore entries.",
        "operationId": "search_lore_entries_api_lore_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Search query (matches title)",
              "default": "",
              "title": "Q"
            },
            "description": "Search query (matches title)"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated tags to filter by",
              "title": "Tags"
            },
            "description": "Comma-separated tags to filter by"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/lore/{entry_id}": {
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "Get Lore Entry",
        "description": "Get a specific lore entry by ID.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n\nReturns:\n    The lore entry details.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "get_lore_entry_api_lore__entry_id__get",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "lore"
        ],
        "summary": "Update Lore Entry",
        "description": "Update an existing lore entry.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n    request: Fields to update.\n\nReturns:\n    The updated lore entry.\n\nRaises:\n    HTTPException: If entry not found or update fails.",
        "operationId": "update_lore_entry_api_lore__entry_id__put",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoreEntryUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoreEntryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "lore"
        ],
        "summary": "Delete Lore Entry",
        "description": "Delete a lore entry.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "delete_lore_entry_api_lore__entry_id__delete",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/lore/{entry_id}/smart-tags": {
      "get": {
        "tags": [
          "lore"
        ],
        "summary": "Get Lore Smart Tags",
        "description": "Get smart tags for a lore entry.\n\nReturns both auto-generated and manual smart tags.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n\nReturns:\n    Smart tags response with auto, manual, and effective tags.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "get_lore_smart_tags_api_lore__entry_id__smart_tags_get",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/lore/{entry_id}/smart-tags/manual": {
      "put": {
        "tags": [
          "lore"
        ],
        "summary": "Update Lore Manual Smart Tags",
        "description": "Update manual smart tags for a lore entry.\n\nManual tags are never overridden by auto-tagging.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n    request: Manual tags update request.\n\nReturns:\n    Updated smart tags response.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "update_lore_manual_smart_tags_api_lore__entry_id__smart_tags_manual_put",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualSmartTagsUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartTagsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/lore/{entry_id}/smart-tags/manual/{category}": {
      "delete": {
        "tags": [
          "lore"
        ],
        "summary": "Delete Lore Manual Smart Tags",
        "description": "Delete manual smart tags for a specific category.\n\nArgs:\n    entry_id: Unique identifier for the entry.\n    category: The tag category to clear.\n\nRaises:\n    HTTPException: If entry not found.",
        "operationId": "delete_lore_manual_smart_tags_api_lore__entry_id__smart_tags_manual__category__delete",
        "parameters": [
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          },
          {
            "name": "category",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Category"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/memories": {
      "get": {
        "tags": [
          "memories"
        ],
        "summary": "Get Character Memories",
        "description": "Get all memories for a character.\n\nOptionally filter by tag or minimum importance level.",
        "operationId": "get_character_memories_api_characters__character_id__memories_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tag"
            }
          },
          {
            "name": "min_importance",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Importance"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterMemoriesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "memories"
        ],
        "summary": "Create Character Memory",
        "description": "Add a new memory to a character.\n\nMemories are immutable once created - they represent historical events.",
        "operationId": "create_character_memory_api_characters__character_id__memories_post",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterMemoryCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterMemorySchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/memories/{memory_id}": {
      "get": {
        "tags": [
          "memories"
        ],
        "summary": "Get Character Memory",
        "description": "Get a specific memory by ID.",
        "operationId": "get_character_memory_api_characters__character_id__memories__memory_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "memory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Memory Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterMemorySchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "memories"
        ],
        "summary": "Delete Character Memory",
        "description": "Delete a memory.\n\nNote: In most cases, memories should not be deleted as they represent\nhistorical events. This endpoint exists for data correction purposes.",
        "operationId": "delete_character_memory_api_characters__character_id__memories__memory_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "memory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Memory Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/goals": {
      "get": {
        "tags": [
          "goals"
        ],
        "summary": "Get Character Goals",
        "description": "Get all goals for a character.\n\nOptionally filter by status (ACTIVE, COMPLETED, FAILED).",
        "operationId": "get_character_goals_api_characters__character_id__goals_get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "goals"
        ],
        "summary": "Create Character Goal",
        "description": "Add a new goal to a character.",
        "operationId": "create_character_goal_api_characters__character_id__goals_post",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterGoalCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/characters/{character_id}/goals/{goal_id}": {
      "get": {
        "tags": [
          "goals"
        ],
        "summary": "Get Character Goal",
        "description": "Get a specific goal by ID.",
        "operationId": "get_character_goal_api_characters__character_id__goals__goal_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "goals"
        ],
        "summary": "Update Character Goal",
        "description": "Update a goal's status or urgency.\n\nUse this to mark goals as COMPLETED or FAILED, or to change urgency.",
        "operationId": "update_character_goal_api_characters__character_id__goals__goal_id__patch",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Goal Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CharacterGoalUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterGoalSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "goals"
        ],
        "summary": "Delete Character Goal",
        "description": "Delete a goal.\n\nNote: In most cases, goals should be marked as COMPLETED or FAILED\nrather than deleted. This endpoint exists for data correction.",
        "operationId": "delete_character_goal_api_characters__character_id__goals__goal_id__delete",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          },
          {
            "name": "goal_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Goal Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/world-rules": {
      "post": {
        "tags": [
          "world-rules"
        ],
        "summary": "Create World Rule",
        "description": "Create a new world rule.\n\nArgs:\n    request: World rule creation request.\n\nReturns:\n    The created world rule.\n\nRaises:\n    HTTPException: If validation fails.",
        "operationId": "create_world_rule_api_world_rules_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorldRuleCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "List World Rules",
        "description": "List all world rules with optional filtering.\n\nArgs:\n    category: Optional filter by category.\n    min_severity: Optional minimum severity filter.\n    max_severity: Optional maximum severity filter.\n    limit: Maximum number of results.\n    offset: Number of results to skip.\n\nReturns:\n    Paginated list of world rules.",
        "operationId": "list_world_rules_api_world_rules_get",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "min_severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 100,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Minimum severity",
              "title": "Min Severity"
            },
            "description": "Minimum severity"
          },
          {
            "name": "max_severity",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "maximum": 100,
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Maximum severity",
              "title": "Max Severity"
            },
            "description": "Maximum severity"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/world-rules/search": {
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "Search World Rules",
        "description": "Search world rules by name and optionally filter by category.\n\nThis is the primary search endpoint combining text search with filtering.\n\nArgs:\n    q: Search query string (case-insensitive name match).\n    category: Optional category filter.\n    limit: Maximum number of results.\n\nReturns:\n    List of matching world rules.",
        "operationId": "search_world_rules_api_world_rules_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Search query (matches name)",
              "default": "",
              "title": "Q"
            },
            "description": "Search query (matches name)"
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by category",
              "title": "Category"
            },
            "description": "Filter by category"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/world-rules/absolute": {
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "List Absolute Rules",
        "description": "List all absolute rules (severity >= 90).\n\nThese are the unbreakable laws of the world.\n\nArgs:\n    limit: Maximum number of results.\n\nReturns:\n    List of absolute world rules.",
        "operationId": "list_absolute_rules_api_world_rules_absolute_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/world-rules/{rule_id}": {
      "get": {
        "tags": [
          "world-rules"
        ],
        "summary": "Get World Rule",
        "description": "Get a specific world rule by ID.\n\nArgs:\n    rule_id: Unique identifier for the rule.\n\nReturns:\n    The world rule details.\n\nRaises:\n    HTTPException: If rule not found.",
        "operationId": "get_world_rule_api_world_rules__rule_id__get",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "world-rules"
        ],
        "summary": "Update World Rule",
        "description": "Update an existing world rule.\n\nArgs:\n    rule_id: Unique identifier for the rule.\n    request: Fields to update.\n\nReturns:\n    The updated world rule.\n\nRaises:\n    HTTPException: If rule not found or update fails.",
        "operationId": "update_world_rule_api_world_rules__rule_id__put",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorldRuleUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorldRuleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "world-rules"
        ],
        "summary": "Delete World Rule",
        "description": "Delete a world rule.\n\nArgs:\n    rule_id: Unique identifier for the rule.\n\nRaises:\n    HTTPException: If rule not found.",
        "operationId": "delete_world_rule_api_world_rules__rule_id__delete",
        "parameters": [
          {
            "name": "rule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Rule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/dialogue/generate": {
      "post": {
        "tags": [
          "dialogue"
        ],
        "summary": "Generate Dialogue",
        "description": "Generate dialogue in character voice.\n\nUses the character's psychology (Big Five traits), character traits,\nand speaking style to produce authentic dialogue that sounds like\nthe character would naturally speak.\n\nThe context parameter describes the situation the character is responding\nto, such as \"A stranger asks for directions\" or \"Their rival insults them\".\nThe optional mood parameter can modify normal speech patterns.",
        "operationId": "generate_dialogue_api_dialogue_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DialogueGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DialogueGenerationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/social/analysis": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Get Social Analysis",
        "description": "Get complete social network analysis.\n\nAnalyzes all character-to-character relationships to compute centrality\nmetrics, identify key characters (most connected, most hated, most loved),\nand measure network properties like density.\n\nReturns:\n    SocialAnalysisResponse with complete network metrics.\n\nExample response:\n    {\n        \"character_centralities\": {\n            \"char-001\": {\n                \"character_id\": \"char-001\",\n                \"relationship_count\": 5,\n                \"positive_count\": 3,\n                \"negative_count\": 1,\n                \"average_trust\": 65.0,\n                \"average_romance\": 20.0,\n                \"centrality_score\": 100.0\n            }\n        },\n        \"most_connected\": \"char-001\",\n        \"most_hated\": \"char-003\",\n        \"most_loved\": \"char-002\",\n        \"total_relationships\": 10,\n        \"total_characters\": 4,\n        \"network_density\": 0.83\n    }",
        "operationId": "get_social_analysis_api_social_analysis_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SocialAnalysisResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/social/analysis/{character_id}": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Get Character Centrality",
        "description": "Get centrality metrics for a specific character.\n\nComputes how central this character is in the social network based on\ntheir relationships with other characters.\n\nArgs:\n    character_id: ID of the character to analyze.\n\nReturns:\n    CharacterCentralitySchema with the character's metrics.\n\nRaises:\n    HTTPException 404: If character has no relationships.",
        "operationId": "get_character_centrality_api_social_analysis__character_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CharacterCentralitySchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/factions/{faction_id}": {
      "get": {
        "tags": [
          "factions"
        ],
        "summary": "Get Faction Detail",
        "description": "Get faction details including member list.\n\nReturns faction metadata and all characters that belong to this faction.",
        "operationId": "get_faction_detail_api_factions__faction_id__get",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/factions/{faction_id}/join": {
      "post": {
        "tags": [
          "factions"
        ],
        "summary": "Join Faction",
        "description": "Add a character to a faction.\n\nA character can only be in one faction at a time. If already in a faction,\nuse the leave endpoint first, or the character will automatically leave\ntheir current faction when joining a new one.",
        "operationId": "join_faction_api_factions__faction_id__join_post",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactionJoinRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionJoinResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/factions/{faction_id}/leave": {
      "post": {
        "tags": [
          "factions"
        ],
        "summary": "Leave Faction",
        "description": "Remove a character from a faction.\n\nIf the character is the faction leader, they will be removed from\nleadership as well.",
        "operationId": "leave_faction_api_factions__faction_id__leave_post",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactionLeaveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionLeaveResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/factions/{faction_id}/leader": {
      "post": {
        "tags": [
          "factions"
        ],
        "summary": "Set Faction Leader",
        "description": "Set a character as the faction leader.\n\nThe character must already be a member of the faction.\nSetting a new leader will replace any existing leader.",
        "operationId": "set_faction_leader_api_factions__faction_id__leader_post",
        "parameters": [
          {
            "name": "faction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Faction Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FactionSetLeaderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactionSetLeaderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompts",
        "description": "List all prompt templates with optional filtering.\n\nWhy: Provides discovery and browsing of available prompts.\n\nArgs:\n    request: FastAPI request\n    response: FastAPI response (for cache headers)\n    tags: Comma-separated filter by tags\n    model: Filter by model name\n    limit: Maximum number of results\n    offset: Number of results to skip\n    service: Prompt router service\n\nReturns:\n    List of prompt summaries",
        "operationId": "list_prompts_api_prompts_get",
        "parameters": [
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags"
            }
          },
          {
            "name": "model",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Model"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Create Prompt",
        "description": "Create a new prompt template.\n\nWhy: Allows users to define custom prompts.\n\nArgs:\n    payload: Prompt creation request\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Created prompt detail",
        "operationId": "create_prompt_api_prompts_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/search": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Search Prompts",
        "description": "Search prompt templates by name or description.\n\nWhy: Enables quick lookup of specific prompts.\n\nArgs:\n    query: Search query string\n    request: FastAPI request\n    limit: Maximum number of results\n    service: Prompt router service\n\nReturns:\n    List of matching prompt summaries",
        "operationId": "search_prompts_api_prompts_search_get",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Query"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/tags": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "List Prompt Tags",
        "description": "List all unique tags across all prompt templates.\n\nWhy: Provides tag values for filtering UI.\n\nArgs:\n    service: Prompt router service\n\nReturns:\n    Dictionary with tag categories and their values",
        "operationId": "list_prompt_tags_api_prompts_tags_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "type": "object",
                  "title": "Response List Prompt Tags Api Prompts Tags Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}/analytics": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Get Prompt Analytics",
        "description": "Get analytics for a prompt template.\n\nBRAIN-022B: Backend: Prompt Analytics - API\nProvides usage statistics and metrics over time with period aggregation.\n\nQuery Parameters:\n    period: Time period for aggregation (day, week, month, all)\n    start_date: Optional ISO 8601 start date for filtering\n    end_date: Optional ISO 8601 end date for filtering\n    workspace_id: Optional filter by workspace ID\n    limit: Maximum time series data points (default: 100)\n\nReturns:\n    Analytics data with time series, metrics, and rating distribution\n\nRaises:\n    404: If prompt not found\n    400: If date format is invalid or usage repository not configured\n    500: If analytics retrieval fails",
        "operationId": "get_prompt_analytics_api_prompts__prompt_id__analytics_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "period",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/PromptAnalyticsTimePeriod",
              "default": "all"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "workspace_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Workspace Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Prompt Analytics Api Prompts  Prompt Id  Analytics Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}/analytics/export": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Export Prompt Analytics",
        "description": "Export prompt analytics as CSV.\n\nBRAIN-022B: Backend: Prompt Analytics - API (CSV export)\n\nQuery Parameters:\n    start_date: Optional ISO 8601 start date for filtering\n    end_date: Optional ISO 8601 end date for filtering\n    workspace_id: Optional filter by workspace ID\n\nReturns:\n    CSV file with all usage data\n\nRaises:\n    404: If prompt not found\n    400: If date format is invalid or usage repository not configured\n    500: If export fails",
        "operationId": "export_prompt_analytics_api_prompts__prompt_id__analytics_export_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "workspace_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Workspace Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/health": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Prompts Health",
        "description": "Health check for the prompt management system.\n\nWhy: Verify repository is accessible and count templates.\n\nNOTE: This route must be defined BEFORE /prompts/{prompt_id}\n      to avoid 'health' being captured as a prompt_id.\n\nArgs:\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Health status information",
        "operationId": "prompts_health_api_prompts_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Prompts Health Api Prompts Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Get Prompt",
        "description": "Get a specific prompt template by ID.\n\nWhy: Retrieve full prompt details for editing or viewing.\n\nArgs:\n    prompt_id: Prompt template ID\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Prompt detail response",
        "operationId": "get_prompt_api_prompts__prompt_id__get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "prompts"
        ],
        "summary": "Update Prompt",
        "description": "Update a prompt template (creates a new version).\n\nWhy: Version tracking allows safe modifications and rollback.\n\nArgs:\n    prompt_id: ID of the prompt to update\n    payload: Update request fields\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    New version of the prompt",
        "operationId": "update_prompt_api_prompts__prompt_id__put",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "prompts"
        ],
        "summary": "Delete Prompt",
        "description": "Archive (soft delete) a prompt template.\n\nWhy: Soft delete preserves history and allows recovery.\n\nArgs:\n    prompt_id: ID of the prompt to delete\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    204 No Content on success",
        "operationId": "delete_prompt_api_prompts__prompt_id__delete",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}/render": {
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Render Prompt",
        "description": "Render a prompt template with variable values.\n\nWhy: Preview the rendered prompt before using it.\n\nArgs:\n    prompt_id: ID of the prompt to render\n    payload: Variable values for rendering\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Rendered prompt content with metadata",
        "operationId": "render_prompt_api_prompts__prompt_id__render_post",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptRenderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptRenderResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}/generate": {
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Generate Prompt",
        "description": "Generate output using a prompt template and LLM.\n\nBRAIN-020B: Frontend: Prompt Playground - Integration\nBRAIN-022A: Backend: Prompt Analytics - Data Model (usage tracking)\nCombines rendering and LLM generation in a single request.\nTracks usage analytics for token consumption and latency.\n\nArgs:\n    prompt_id: ID of the prompt to use\n    payload: Variable values and optional model config overrides\n    request: FastAPI request\n    service: Prompt router service with usage tracking\n\nReturns:\n    Generated output with rendered prompt and metadata",
        "operationId": "generate_prompt_api_prompts__prompt_id__generate_post",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PromptGenerateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptGenerateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}/versions": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Get Prompt Versions",
        "description": "Get all versions of a prompt template.\n\nWhy: Version history enables audit trail and rollback.\n\nArgs:\n    prompt_id: ID of any version of the prompt\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    List of all versions of the prompt",
        "operationId": "get_prompt_versions_api_prompts__prompt_id__versions_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}/rollback/{version}": {
      "post": {
        "tags": [
          "prompts"
        ],
        "summary": "Rollback Prompt",
        "description": "Rollback a prompt to a specific version.\n\nWhy: Restore previous versions by creating a new version with the target content.\n\nArgs:\n    prompt_id: ID of the current prompt version\n    version: Target version number to rollback to\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    New PromptTemplate created from the target version",
        "operationId": "rollback_prompt_api_prompts__prompt_id__rollback__version__post",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "version",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PromptDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/prompts/{prompt_id}/compare": {
      "get": {
        "tags": [
          "prompts"
        ],
        "summary": "Compare Prompt Versions",
        "description": "Compare two versions of a prompt template.\n\nWhy: View differences between versions for review and debugging.\n\nArgs:\n    prompt_id: ID of any version of the prompt\n    version_a: First version number to compare\n    version_b: Second version number to compare\n    request: FastAPI request\n    service: Prompt router service\n\nReturns:\n    Comparison result with diffs",
        "operationId": "compare_prompt_versions_api_prompts__prompt_id__compare_get",
        "parameters": [
          {
            "name": "prompt_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Prompt Id"
            }
          },
          {
            "name": "version_a",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version A"
            }
          },
          {
            "name": "version_b",
            "in": "query",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Version B"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Compare Prompt Versions Api Prompts  Prompt Id  Compare Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "List Experiments",
        "description": "List all experiments with optional filtering.\n\nWhy: Provides discovery and browsing of experiments.\n\nArgs:\n    request: FastAPI request\n    response: FastAPI response (for cache headers)\n    status: Optional filter by status\n    prompt_id: Optional filter by prompt ID\n    limit: Maximum number of results\n    offset: Number of results to skip\n    service: Experiment router service\n\nReturns:\n    List of experiment summaries",
        "operationId": "list_experiments_api_experiments_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "prompt_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Prompt Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Create Experiment",
        "description": "Create a new A/B testing experiment.\n\nWhy: Allows users to compare prompt variants.\n\nArgs:\n    payload: Experiment creation request\n    service: Experiment router service\n\nReturns:\n    Created experiment summary",
        "operationId": "create_experiment_api_experiments_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/health": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "Experiments Health",
        "description": "Health check for the experiment system.\n\nWhy: Verify repository is accessible and count experiments.\n\nNOTE: This route must be defined BEFORE /experiments/{experiment_id}\n      to avoid 'health' being captured as an experiment_id.\n\nArgs:\n    service: Experiment router service\n\nReturns:\n    Health status information",
        "operationId": "experiments_health_api_experiments_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Experiments Health Api Experiments Health Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/{experiment_id}": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "Get Experiment",
        "description": "Get a specific experiment by ID.\n\nWhy: Retrieve full experiment details for viewing.\n\nArgs:\n    experiment_id: Experiment ID\n    service: Experiment router service\n\nReturns:\n    Experiment summary response",
        "operationId": "get_experiment_api_experiments__experiment_id__get",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "experiments"
        ],
        "summary": "Delete Experiment",
        "description": "Delete an experiment.\n\nWhy: Remove experiments that are no longer needed.\n\nArgs:\n    experiment_id: ID of the experiment to delete\n    service: Experiment router service\n\nReturns:\n    204 No Content on success",
        "operationId": "delete_experiment_api_experiments__experiment_id__delete",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/{experiment_id}/results": {
      "get": {
        "tags": [
          "experiments"
        ],
        "summary": "Get Experiment Results",
        "description": "Get experiment results with statistical analysis.\n\nWhy: View detailed metrics and statistical significance.\n\nArgs:\n    experiment_id: Experiment ID\n    service: Experiment router service\n\nReturns:\n    Experiment results with metrics, comparison, and significance",
        "operationId": "get_experiment_results_api_experiments__experiment_id__results_get",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentResultsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/{experiment_id}/start": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Start Experiment",
        "description": "Start an experiment.\n\nWhy: Begin data collection for an A/B test.\n\nArgs:\n    experiment_id: ID of the experiment to start\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "start_experiment_api_experiments__experiment_id__start_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/{experiment_id}/pause": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Pause Experiment",
        "description": "Pause a running experiment.\n\nWhy: Temporarily stop data collection.\n\nArgs:\n    experiment_id: ID of the experiment to pause\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "pause_experiment_api_experiments__experiment_id__pause_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/{experiment_id}/resume": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Resume Experiment",
        "description": "Resume a paused experiment.\n\nWhy: Continue data collection.\n\nArgs:\n    experiment_id: ID of the experiment to resume\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "resume_experiment_api_experiments__experiment_id__resume_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/{experiment_id}/complete": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Complete Experiment",
        "description": "Complete an experiment and optionally declare a winner.\n\nWhy: Finish data collection and finalize results.\n\nArgs:\n    experiment_id: ID of the experiment to complete\n    payload: Optional winner specification\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "complete_experiment_api_experiments__experiment_id__complete_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentActionRequest",
                "default": {}
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/experiments/{experiment_id}/record": {
      "post": {
        "tags": [
          "experiments"
        ],
        "summary": "Record Result",
        "description": "Record a generation result for an experiment.\n\nWhy: Track performance data for A/B testing.\n\nArgs:\n    experiment_id: ID of the experiment\n    payload: Result recording request\n    service: Experiment router service\n\nReturns:\n    Updated experiment summary",
        "operationId": "record_result_api_experiments__experiment_id__record_post",
        "parameters": [
          {
            "name": "experiment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Experiment Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExperimentRecordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExperimentSummaryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/worlds": {
      "get": {
        "summary": "List Worlds",
        "operationId": "list_worlds_api_worlds_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response List Worlds Api Worlds Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create World",
        "operationId": "create_world_api_worlds_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Payload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Create World Api Worlds Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/worlds/{world_id}": {
      "get": {
        "summary": "Get World",
        "operationId": "get_world_api_worlds__world_id__get",
        "parameters": [
          {
            "name": "world_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "World Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get World Api Worlds  World Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update World",
        "operationId": "update_world_api_worlds__world_id__put",
        "parameters": [
          {
            "name": "world_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "World Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": true,
                "title": "Payload"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Update World Api Worlds  World Id  Put"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete World",
        "operationId": "delete_world_api_worlds__world_id__delete",
        "parameters": [
          {
            "name": "world_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "World Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Delete World Api Worlds  World Id  Delete"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/export/characters/{character_id}": {
      "get": {
        "summary": "Export Character",
        "operationId": "export_character_api_export_characters__character_id__get",
        "parameters": [
          {
            "name": "character_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Character Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Export Character Api Export Characters  Character Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/export/all": {
      "get": {
        "summary": "Export All",
        "operationId": "export_all_api_export_all_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Export All Api Export All Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/import/all": {
      "post": {
        "summary": "Import All",
        "operationId": "import_all_api_import_all_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Payload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Import All Api Import All Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AnalyticsMetricsData": {
        "properties": {
          "story_quality": {
            "type": "number",
            "title": "Story Quality"
          },
          "engagement": {
            "type": "number",
            "title": "Engagement"
          },
          "coherence": {
            "type": "number",
            "title": "Coherence"
          },
          "complexity": {
            "type": "number",
            "title": "Complexity"
          },
          "data_points": {
            "type": "integer",
            "title": "Data Points"
          },
          "metrics_tracked": {
            "type": "integer",
            "title": "Metrics Tracked"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "last_updated": {
            "type": "string",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "story_quality",
          "engagement",
          "coherence",
          "complexity",
          "data_points",
          "metrics_tracked",
          "status",
          "last_updated"
        ],
        "title": "AnalyticsMetricsData",
        "description": "Analytics metrics data."
      },
      "AnalyticsMetricsResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "$ref": "#/components/schemas/AnalyticsMetricsData"
          }
        },
        "type": "object",
        "required": [
          "success",
          "data"
        ],
        "title": "AnalyticsMetricsResponse",
        "description": "Analytics metrics response."
      },
      "AuthResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "JWT access token (for backward compatibility)"
          },
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "JWT refresh token (for backward compatibility)"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "Token type",
            "default": "Bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "Token expiry time in seconds"
          },
          "user": {
            "additionalProperties": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "object",
            "title": "User",
            "description": "User information"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "expires_in",
          "user"
        ],
        "title": "AuthResponse",
        "description": "Response model for authentication endpoints."
      },
      "BeatCreateRequest": {
        "properties": {
          "content": {
            "type": "string",
            "maxLength": 10000,
            "title": "Content",
            "description": "Beat narrative text",
            "default": ""
          },
          "beat_type": {
            "type": "string",
            "title": "Beat Type",
            "description": "Beat type: 'action', 'dialogue', 'reaction', 'revelation', 'transition', 'description'",
            "default": "action"
          },
          "mood_shift": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": -5.0,
            "title": "Mood Shift",
            "description": "Emotional impact (-5 to +5)",
            "default": 0
          },
          "order_index": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Index",
            "description": "Position in scene (0-based)"
          }
        },
        "type": "object",
        "title": "BeatCreateRequest",
        "description": "Request model for creating a new beat.\n\nBeats are atomic narrative units within a scene. Each beat\nrepresents a single action, dialogue, or reaction moment."
      },
      "BeatListResponse": {
        "properties": {
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Parent scene UUID"
          },
          "beats": {
            "items": {
              "$ref": "#/components/schemas/BeatResponse"
            },
            "type": "array",
            "title": "Beats"
          }
        },
        "type": "object",
        "required": [
          "scene_id"
        ],
        "title": "BeatListResponse",
        "description": "Response model for listing beats."
      },
      "BeatResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Beat UUID"
          },
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Parent scene UUID"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Beat narrative text",
            "default": ""
          },
          "beat_type": {
            "type": "string",
            "title": "Beat Type",
            "description": "Beat classification"
          },
          "mood_shift": {
            "type": "integer",
            "title": "Mood Shift",
            "description": "Emotional impact (-5 to +5)",
            "default": 0
          },
          "order_index": {
            "type": "integer",
            "title": "Order Index",
            "description": "Position in scene"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "scene_id",
          "beat_type",
          "order_index",
          "created_at",
          "updated_at"
        ],
        "title": "BeatResponse",
        "description": "Response model for a single beat."
      },
      "BeatSuggestion": {
        "properties": {
          "beat_type": {
            "type": "string",
            "title": "Beat Type",
            "description": "Suggested beat type"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Suggested narrative text (1-3 sentences)"
          },
          "mood_shift": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": -5.0,
            "title": "Mood Shift",
            "description": "Emotional impact",
            "default": 0
          },
          "rationale": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rationale",
            "description": "AI's explanation for this suggestion"
          }
        },
        "type": "object",
        "required": [
          "beat_type",
          "content"
        ],
        "title": "BeatSuggestion",
        "description": "A single AI-generated beat suggestion."
      },
      "BeatSuggestionRequest": {
        "properties": {
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Scene UUID"
          },
          "current_beats": {
            "items": {
              "additionalProperties": {
                "$ref": "#/components/schemas/JsonValue"
              },
              "type": "object"
            },
            "type": "array",
            "title": "Current Beats",
            "description": "Current beats in scene with 'beat_type', 'content', 'mood_shift'"
          },
          "scene_context": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 1,
            "title": "Scene Context",
            "description": "Scene context: setting, characters, situation/goals"
          },
          "mood_target": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": -5.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Mood Target",
            "description": "Optional target mood direction (-5 to +5)"
          }
        },
        "type": "object",
        "required": [
          "scene_id",
          "scene_context"
        ],
        "title": "BeatSuggestionRequest",
        "description": "Request model for AI beat suggestions.\n\nAsks the AI to suggest 3 possible next beats based on the current\nbeat sequence and scene context."
      },
      "BeatSuggestionResponse": {
        "properties": {
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Scene UUID"
          },
          "suggestions": {
            "items": {
              "$ref": "#/components/schemas/BeatSuggestion"
            },
            "type": "array",
            "maxItems": 3,
            "minItems": 0,
            "title": "Suggestions",
            "description": "3 suggested beats"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if generation failed"
          }
        },
        "type": "object",
        "required": [
          "scene_id"
        ],
        "title": "BeatSuggestionResponse",
        "description": "Response model for AI beat suggestions.\n\nContains 3 AI-generated beat suggestions that could follow\nthe current sequence."
      },
      "BeatUpdateRequest": {
        "properties": {
          "content": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10000
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "beat_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Beat Type",
            "description": "Beat type: 'action', 'dialogue', 'reaction', 'revelation', 'transition', 'description'"
          },
          "mood_shift": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": -5.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Mood Shift"
          }
        },
        "type": "object",
        "title": "BeatUpdateRequest",
        "description": "Request model for updating a beat."
      },
      "BeliefModelData": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id",
            "description": "Agent identifier"
          },
          "personality_bias": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Personality Bias",
            "description": "Personality biases affecting perception"
          },
          "trust_network": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Trust Network",
            "description": "Trust levels for other agents"
          },
          "information_fragments": {
            "items": {
              "$ref": "#/components/schemas/InformationFragmentResponse"
            },
            "type": "array",
            "title": "Information Fragments",
            "description": "Known information fragments"
          },
          "active_hypotheses": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Active Hypotheses",
            "description": "Active hypotheses and confidence levels"
          },
          "cognitive_filters": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Cognitive Filters",
            "description": "Cognitive filtering preferences"
          },
          "total_fragments": {
            "type": "integer",
            "title": "Total Fragments",
            "description": "Total information fragments"
          },
          "average_reliability": {
            "type": "number",
            "title": "Average Reliability",
            "description": "Average information reliability"
          },
          "last_update": {
            "type": "string",
            "format": "date-time",
            "title": "Last Update",
            "description": "Last belief model update"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "personality_bias",
          "trust_network",
          "information_fragments",
          "active_hypotheses",
          "cognitive_filters",
          "total_fragments",
          "average_reliability",
          "last_update"
        ],
        "title": "BeliefModelData",
        "description": "Agent belief model data"
      },
      "BestPracticeItem": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Practice title"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Practice description"
          },
          "rationale": {
            "type": "string",
            "title": "Rationale",
            "description": "Why this practice is important"
          },
          "example": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Example",
            "description": "Code example"
          },
          "anti_pattern": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Anti Pattern",
            "description": "What to avoid"
          },
          "references": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "References",
            "description": "Reference links"
          }
        },
        "type": "object",
        "required": [
          "title",
          "description",
          "rationale"
        ],
        "title": "BestPracticeItem",
        "description": "Best practice item."
      },
      "BestPracticesResponse": {
        "properties": {
          "framework": {
            "type": "string",
            "title": "Framework",
            "description": "Target framework"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Best practice category"
          },
          "practices": {
            "items": {
              "$ref": "#/components/schemas/BestPracticeItem"
            },
            "type": "array",
            "title": "Practices",
            "description": "Best practice items"
          },
          "framework_version": {
            "type": "string",
            "title": "Framework Version",
            "description": "Framework version info"
          },
          "last_updated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "framework",
          "category",
          "practices",
          "framework_version"
        ],
        "title": "BestPracticesResponse",
        "description": "Framework best practices response."
      },
      "Body_get_causal_graph_api_causality_graph_get": {
        "properties": {
          "time_window": {
            "anyOf": [
              {
                "prefixItems": [
                  {
                    "type": "string",
                    "format": "date-time"
                  },
                  {
                    "type": "string",
                    "format": "date-time"
                  }
                ],
                "type": "array",
                "maxItems": 2,
                "minItems": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Window"
          },
          "agent_filter": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Filter"
          }
        },
        "type": "object",
        "title": "Body_get_causal_graph_api_causality_graph_get"
      },
      "Body_import_workspace_zip_api_workspace_import_post": {
        "properties": {
          "archive": {
            "type": "string",
            "format": "binary",
            "title": "Archive"
          }
        },
        "type": "object",
        "required": [
          "archive"
        ],
        "title": "Body_import_workspace_zip_api_workspace_import_post"
      },
      "Body_import_workspace_zip_workspace_import_post": {
        "properties": {
          "archive": {
            "type": "string",
            "format": "binary",
            "title": "Archive"
          }
        },
        "type": "object",
        "required": [
          "archive"
        ],
        "title": "Body_import_workspace_zip_workspace_import_post"
      },
      "CSRFTokenResponse": {
        "properties": {
          "csrf_token": {
            "type": "string",
            "title": "Csrf Token",
            "description": "CSRF token for state-changing requests"
          }
        },
        "type": "object",
        "required": [
          "csrf_token"
        ],
        "title": "CSRFTokenResponse",
        "description": "Response model for CSRF token endpoint."
      },
      "CampaignCreationRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "participants": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Participants"
          }
        },
        "type": "object",
        "required": [
          "name",
          "participants"
        ],
        "title": "CampaignCreationRequest",
        "description": "Request model for campaign creation."
      },
      "CampaignCreationResponse": {
        "properties": {
          "campaign_id": {
            "type": "string",
            "title": "Campaign Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "campaign_id",
          "name",
          "status",
          "created_at"
        ],
        "title": "CampaignCreationResponse",
        "description": "Response model for campaign creation."
      },
      "CampaignDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "current_turn": {
            "type": "integer",
            "title": "Current Turn",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "CampaignDetailResponse",
        "description": "Response model for campaign detail."
      },
      "CampaignsListResponse": {
        "properties": {
          "campaigns": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Campaigns"
          }
        },
        "type": "object",
        "required": [
          "campaigns"
        ],
        "title": "CampaignsListResponse",
        "description": "Response model for campaigns list."
      },
      "CausalGraphData": {
        "properties": {
          "nodes": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Nodes",
            "description": "Graph nodes (events)"
          },
          "edges": {
            "items": {
              "$ref": "#/components/schemas/CausalLinkResponse"
            },
            "type": "array",
            "title": "Edges",
            "description": "Graph edges (causal relationships)"
          },
          "statistics": {
            "additionalProperties": true,
            "type": "object",
            "title": "Statistics",
            "description": "Graph statistics"
          },
          "influential_events": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Influential Events",
            "description": "Most influential event IDs"
          },
          "narrative_patterns": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Narrative Patterns",
            "description": "Detected narrative patterns"
          },
          "predictions": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Predictions",
            "description": "Event predictions"
          }
        },
        "type": "object",
        "required": [
          "nodes",
          "edges",
          "statistics",
          "influential_events",
          "narrative_patterns"
        ],
        "title": "CausalGraphData",
        "description": "Causal graph data"
      },
      "CausalLinkResponse": {
        "properties": {
          "source_event": {
            "type": "string",
            "title": "Source Event",
            "description": "Source event ID"
          },
          "target_event": {
            "type": "string",
            "title": "Target Event",
            "description": "Target event ID"
          },
          "relation_type": {
            "type": "string",
            "title": "Relation Type",
            "description": "Type of causal relation"
          },
          "strength": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Strength",
            "description": "Causal strength"
          },
          "confidence": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Confidence",
            "description": "Confidence in relation"
          },
          "narrative_significance": {
            "type": "number",
            "title": "Narrative Significance",
            "description": "Significance to narrative"
          }
        },
        "type": "object",
        "required": [
          "source_event",
          "target_event",
          "relation_type",
          "strength",
          "confidence",
          "narrative_significance"
        ],
        "title": "CausalLinkResponse",
        "description": "Causal relationship in narrative"
      },
      "ChapterCreateRequest": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "description": "Chapter title"
          },
          "summary": {
            "type": "string",
            "maxLength": 2000,
            "title": "Summary",
            "description": "Chapter synopsis",
            "default": ""
          },
          "order_index": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Index",
            "description": "Position in story (0-based)"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "ChapterCreateRequest",
        "description": "Request model for creating a new chapter."
      },
      "ChapterHealthReportResponse": {
        "properties": {
          "chapter_id": {
            "type": "string",
            "title": "Chapter Id",
            "description": "Chapter UUID"
          },
          "health_score": {
            "type": "string",
            "title": "Health Score",
            "description": "Overall health classification"
          },
          "phase_distribution": {
            "$ref": "#/components/schemas/PhaseDistributionResponse",
            "description": "Scene counts per story phase"
          },
          "word_count": {
            "$ref": "#/components/schemas/WordCountEstimateResponse",
            "description": "Estimated word count metrics"
          },
          "total_scenes": {
            "type": "integer",
            "title": "Total Scenes",
            "description": "Number of scenes in the chapter"
          },
          "total_beats": {
            "type": "integer",
            "title": "Total Beats",
            "description": "Total number of beats across all scenes"
          },
          "tension_arc": {
            "$ref": "#/components/schemas/TensionArcShapeResponse",
            "description": "Analysis of tension arc shape"
          },
          "warnings": {
            "items": {
              "$ref": "#/components/schemas/HealthWarningResponse"
            },
            "type": "array",
            "title": "Warnings",
            "description": "Detected structural issues"
          },
          "recommendations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recommendations",
            "description": "Improvement suggestions"
          }
        },
        "type": "object",
        "required": [
          "chapter_id",
          "health_score",
          "phase_distribution",
          "word_count",
          "total_scenes",
          "total_beats",
          "tension_arc"
        ],
        "title": "ChapterHealthReportResponse",
        "description": "Complete structural health analysis for a chapter."
      },
      "ChapterListResponse": {
        "properties": {
          "story_id": {
            "type": "string",
            "title": "Story Id",
            "description": "Parent story UUID"
          },
          "chapters": {
            "items": {
              "$ref": "#/components/schemas/ChapterResponse"
            },
            "type": "array",
            "title": "Chapters"
          }
        },
        "type": "object",
        "required": [
          "story_id"
        ],
        "title": "ChapterListResponse",
        "description": "Response model for listing chapters."
      },
      "ChapterPacingResponse": {
        "properties": {
          "chapter_id": {
            "type": "string",
            "title": "Chapter Id",
            "description": "Chapter UUID"
          },
          "scene_metrics": {
            "items": {
              "$ref": "#/components/schemas/ScenePacingMetricsResponse"
            },
            "type": "array",
            "title": "Scene Metrics",
            "description": "Per-scene metrics in order"
          },
          "issues": {
            "items": {
              "$ref": "#/components/schemas/PacingIssueResponse"
            },
            "type": "array",
            "title": "Issues",
            "description": "Detected pacing problems"
          },
          "average_tension": {
            "type": "number",
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Average Tension",
            "description": "Mean tension"
          },
          "average_energy": {
            "type": "number",
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Average Energy",
            "description": "Mean energy"
          },
          "tension_range": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "title": "Tension Range",
            "description": "[min, max] tension"
          },
          "energy_range": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "maxItems": 2,
            "minItems": 2,
            "title": "Energy Range",
            "description": "[min, max] energy"
          }
        },
        "type": "object",
        "required": [
          "chapter_id",
          "average_tension",
          "average_energy",
          "tension_range",
          "energy_range"
        ],
        "title": "ChapterPacingResponse",
        "description": "Complete pacing analysis for a chapter.\n\nWhy this structure:\n    Provides the frontend with all data needed to render the PacingGraph:\n    - scene_metrics: ordered list for the X-axis (scene sequence)\n    - average/range values: for reference lines and scaling\n    - issues: for displaying warnings in the UI"
      },
      "ChapterResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Chapter UUID"
          },
          "story_id": {
            "type": "string",
            "title": "Story Id",
            "description": "Parent story UUID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Chapter title"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Chapter synopsis",
            "default": ""
          },
          "order_index": {
            "type": "integer",
            "title": "Order Index",
            "description": "Position in story"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Publication status"
          },
          "scene_count": {
            "type": "integer",
            "title": "Scene Count",
            "description": "Number of scenes",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "story_id",
          "title",
          "order_index",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "ChapterResponse",
        "description": "Response model for a single chapter."
      },
      "ChapterUpdateRequest": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Chapter status: 'draft' or 'published'"
          }
        },
        "type": "object",
        "title": "ChapterUpdateRequest",
        "description": "Request model for updating a chapter."
      },
      "CharacterArchetype": {
        "type": "string",
        "enum": [
          "warrior",
          "scholar",
          "leader",
          "mystic",
          "engineer",
          "diplomat",
          "guardian",
          "survivor"
        ],
        "title": "CharacterArchetype",
        "description": "ENHANCED CHARACTER ARCHETYPES SANCTIFIED BY PERSONALITY CLASSIFICATION"
      },
      "CharacterCentralitySchema": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character UUID"
          },
          "relationship_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Relationship Count",
            "description": "Total relationships (degree centrality)",
            "default": 0
          },
          "positive_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Positive Count",
            "description": "Positive relationships (ally, family, romantic)",
            "default": 0
          },
          "negative_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Negative Count",
            "description": "Negative relationships (enemy, rival)",
            "default": 0
          },
          "average_trust": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Average Trust",
            "description": "Average trust across relationships",
            "default": 0.0
          },
          "average_romance": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Average Romance",
            "description": "Average romance across relationships",
            "default": 0.0
          },
          "centrality_score": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Centrality Score",
            "description": "Normalized centrality (0-100)",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "character_id"
        ],
        "title": "CharacterCentralitySchema",
        "description": "Centrality metrics for a single character in the social network.\n\nWhy centrality: In narrative design, understanding which characters are\nmost connected helps identify protagonists, social hubs, and potential\ndramatic focal points."
      },
      "CharacterCreationRequest": {
        "properties": {
          "agent_id": {
            "type": "string",
            "maxLength": 50,
            "minLength": 3,
            "title": "Agent Id"
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 2,
            "title": "Name"
          },
          "background_summary": {
            "type": "string",
            "maxLength": 1000,
            "title": "Background Summary",
            "default": ""
          },
          "personality_traits": {
            "type": "string",
            "maxLength": 500,
            "title": "Personality Traits",
            "default": ""
          },
          "archetype": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CharacterArchetype"
              },
              {
                "type": "null"
              }
            ]
          },
          "current_mood": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Current Mood",
            "default": 5
          },
          "dominant_emotion": {
            "type": "string",
            "title": "Dominant Emotion",
            "default": "neutral"
          },
          "energy_level": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Energy Level",
            "default": 5
          },
          "stress_level": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Stress Level",
            "default": 5
          },
          "skills": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Skills"
          },
          "relationships": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Relationships"
          },
          "current_location": {
            "type": "string",
            "title": "Current Location",
            "default": ""
          },
          "inventory": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Inventory"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "name"
        ],
        "title": "CharacterCreationRequest",
        "description": "Request model for character creation."
      },
      "CharacterDetailResponse": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "character_id": {
            "type": "string",
            "title": "Character Id"
          },
          "character_name": {
            "type": "string",
            "title": "Character Name"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "background_summary": {
            "type": "string",
            "title": "Background Summary"
          },
          "personality_traits": {
            "type": "string",
            "title": "Personality Traits"
          },
          "current_status": {
            "type": "string",
            "title": "Current Status"
          },
          "narrative_context": {
            "type": "string",
            "title": "Narrative Context"
          },
          "skills": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Skills"
          },
          "relationships": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Relationships"
          },
          "current_location": {
            "type": "string",
            "title": "Current Location",
            "default": ""
          },
          "inventory": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Inventory"
          },
          "metadata": {
            "additionalProperties": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "object",
            "title": "Metadata"
          },
          "structured_data": {
            "additionalProperties": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "object",
            "title": "Structured Data"
          },
          "psychology": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CharacterPsychologySchema"
              },
              {
                "type": "null"
              }
            ],
            "description": "Big Five personality traits (OCEAN model)"
          },
          "memories": {
            "items": {
              "$ref": "#/components/schemas/CharacterMemorySchema"
            },
            "type": "array",
            "title": "Memories",
            "description": "Character memories"
          },
          "goals": {
            "items": {
              "$ref": "#/components/schemas/CharacterGoalSchema"
            },
            "type": "array",
            "title": "Goals",
            "description": "Character goals"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "character_id",
          "character_name",
          "name",
          "background_summary",
          "personality_traits",
          "current_status",
          "narrative_context"
        ],
        "title": "CharacterDetailResponse",
        "description": "Response model for detailed character information."
      },
      "CharacterGenerationRequest": {
        "properties": {
          "concept": {
            "type": "string",
            "title": "Concept"
          },
          "archetype": {
            "type": "string",
            "title": "Archetype"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone"
          }
        },
        "type": "object",
        "required": [
          "concept",
          "archetype"
        ],
        "title": "CharacterGenerationRequest",
        "description": "Request model for character generation."
      },
      "CharacterGenerationResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "tagline": {
            "type": "string",
            "title": "Tagline"
          },
          "bio": {
            "type": "string",
            "title": "Bio"
          },
          "visual_prompt": {
            "type": "string",
            "title": "Visual Prompt"
          },
          "traits": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Traits"
          }
        },
        "type": "object",
        "required": [
          "name",
          "tagline",
          "bio",
          "visual_prompt",
          "traits"
        ],
        "title": "CharacterGenerationResponse",
        "description": "Response model for character generation."
      },
      "CharacterGoalCreateRequest": {
        "properties": {
          "description": {
            "type": "string",
            "minLength": 1,
            "title": "Description",
            "description": "What the character wants to achieve"
          },
          "urgency": {
            "type": "string",
            "title": "Urgency",
            "description": "Urgency level: LOW, MEDIUM, HIGH, or CRITICAL",
            "default": "MEDIUM"
          }
        },
        "type": "object",
        "required": [
          "description"
        ],
        "title": "CharacterGoalCreateRequest",
        "description": "Request to create a new character goal."
      },
      "CharacterGoalSchema": {
        "properties": {
          "goal_id": {
            "type": "string",
            "title": "Goal Id",
            "description": "Unique identifier for this goal"
          },
          "description": {
            "type": "string",
            "minLength": 1,
            "title": "Description",
            "description": "What the character wants to achieve"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Goal status: ACTIVE, COMPLETED, or FAILED"
          },
          "urgency": {
            "type": "string",
            "title": "Urgency",
            "description": "Urgency level: LOW, MEDIUM, HIGH, or CRITICAL"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 timestamp when goal was created"
          },
          "completed_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At",
            "description": "ISO 8601 timestamp when goal was completed/failed"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Whether the goal is still being pursued",
            "default": true
          },
          "is_urgent": {
            "type": "boolean",
            "title": "Is Urgent",
            "description": "Whether the goal requires immediate attention",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "goal_id",
          "description",
          "status",
          "urgency",
          "created_at"
        ],
        "title": "CharacterGoalSchema",
        "description": "Schema for character goal.\n\nGoals represent what a character wants to achieve, driving motivation\nand narrative arcs.\n\nStatus values:\n- ACTIVE: Currently being pursued\n- COMPLETED: Successfully achieved\n- FAILED: Abandoned or became impossible\n\nUrgency levels:\n- LOW: Background ambition, no time pressure\n- MEDIUM: Important but not immediate\n- HIGH: Pressing concern that demands attention\n- CRITICAL: Must be addressed immediately"
      },
      "CharacterGoalUpdateRequest": {
        "properties": {
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "New status: ACTIVE, COMPLETED, or FAILED"
          },
          "urgency": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Urgency",
            "description": "New urgency level: LOW, MEDIUM, HIGH, or CRITICAL"
          }
        },
        "type": "object",
        "title": "CharacterGoalUpdateRequest",
        "description": "Request to update a character goal."
      },
      "CharacterGoalsResponse": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id"
          },
          "goals": {
            "items": {
              "$ref": "#/components/schemas/CharacterGoalSchema"
            },
            "type": "array",
            "title": "Goals"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "active_count": {
            "type": "integer",
            "title": "Active Count"
          },
          "completed_count": {
            "type": "integer",
            "title": "Completed Count"
          },
          "failed_count": {
            "type": "integer",
            "title": "Failed Count"
          }
        },
        "type": "object",
        "required": [
          "character_id",
          "goals",
          "total_count",
          "active_count",
          "completed_count",
          "failed_count"
        ],
        "title": "CharacterGoalsResponse",
        "description": "Response containing a list of character goals."
      },
      "CharacterListResponse": {
        "properties": {
          "characters": {
            "items": {
              "$ref": "#/components/schemas/CharacterResponse"
            },
            "type": "array",
            "title": "Characters"
          }
        },
        "type": "object",
        "required": [
          "characters"
        ],
        "title": "CharacterListResponse",
        "description": "Response model for character listings."
      },
      "CharacterMemoriesResponse": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id"
          },
          "memories": {
            "items": {
              "$ref": "#/components/schemas/CharacterMemorySchema"
            },
            "type": "array",
            "title": "Memories"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "core_memory_count": {
            "type": "integer",
            "title": "Core Memory Count"
          }
        },
        "type": "object",
        "required": [
          "character_id",
          "memories",
          "total_count",
          "core_memory_count"
        ],
        "title": "CharacterMemoriesResponse",
        "description": "Response containing a list of character memories."
      },
      "CharacterMemoryCreateRequest": {
        "properties": {
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content",
            "description": "The memory content (what happened)"
          },
          "importance": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Importance",
            "description": "Importance score (1-10)"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Categorization tags for retrieval"
          }
        },
        "type": "object",
        "required": [
          "content",
          "importance"
        ],
        "title": "CharacterMemoryCreateRequest",
        "description": "Request to create a new character memory."
      },
      "CharacterMemorySchema": {
        "properties": {
          "memory_id": {
            "type": "string",
            "title": "Memory Id",
            "description": "Unique identifier for this memory"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content",
            "description": "The memory content (what happened)"
          },
          "importance": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Importance",
            "description": "Importance score (1-10)"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Categorization tags for retrieval"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO 8601 timestamp of when memory formed"
          },
          "is_core_memory": {
            "type": "boolean",
            "title": "Is Core Memory",
            "description": "Whether this is a core memory (importance > 8)",
            "default": false
          },
          "importance_level": {
            "type": "string",
            "title": "Importance Level",
            "description": "Qualitative level: minor, moderate, significant, core",
            "default": "moderate"
          }
        },
        "type": "object",
        "required": [
          "memory_id",
          "content",
          "importance",
          "timestamp"
        ],
        "title": "CharacterMemorySchema",
        "description": "Schema for character memory.\n\nMemories are immutable records of experiences that shape character behavior.\n\nImportance scale (1-10):\n- 1-3: Minor memories (daily routines, passing encounters)\n- 4-6: Moderate memories (friendships, minor conflicts)\n- 7-8: Significant memories (major life events, turning points)\n- 9-10: Core memories (defining moments, traumas, transformations)"
      },
      "CharacterProfileGenerationRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Character's primary name"
          },
          "archetype": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Archetype",
            "description": "Character archetype (e.g., Hero, Villain, Mentor)"
          },
          "context": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Additional context about the character's world or background"
          }
        },
        "type": "object",
        "required": [
          "name",
          "archetype"
        ],
        "title": "CharacterProfileGenerationRequest",
        "description": "Request model for character profile generation.\n\nThis generates a detailed character profile with aliases, archetype, traits,\nappearance, backstory, etc. using LLM or mock generator."
      },
      "CharacterProfileGenerationResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "aliases": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Aliases"
          },
          "archetype": {
            "type": "string",
            "title": "Archetype"
          },
          "traits": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Traits"
          },
          "appearance": {
            "type": "string",
            "title": "Appearance"
          },
          "backstory": {
            "type": "string",
            "title": "Backstory"
          },
          "motivations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Motivations"
          },
          "quirks": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Quirks"
          }
        },
        "type": "object",
        "required": [
          "name",
          "aliases",
          "archetype",
          "traits",
          "appearance",
          "backstory",
          "motivations",
          "quirks"
        ],
        "title": "CharacterProfileGenerationResponse",
        "description": "Response model for character profile generation.\n\nContains the generated profile fields matching the CharacterProfile\nvalue object's fields from WORLD-001."
      },
      "CharacterPsychologySchema": {
        "properties": {
          "openness": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Openness",
            "description": "Openness to experience (0-100)"
          },
          "conscientiousness": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Conscientiousness",
            "description": "Conscientiousness (0-100)"
          },
          "extraversion": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Extraversion",
            "description": "Extraversion (0-100)"
          },
          "agreeableness": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Agreeableness",
            "description": "Agreeableness (0-100)"
          },
          "neuroticism": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Neuroticism",
            "description": "Neuroticism (0-100)"
          }
        },
        "type": "object",
        "required": [
          "openness",
          "conscientiousness",
          "extraversion",
          "agreeableness",
          "neuroticism"
        ],
        "title": "CharacterPsychologySchema",
        "description": "Schema for Big Five personality model.\n\nThe Big Five (OCEAN) traits quantify personality:\n- Openness: Appreciation for art, emotion, adventure, unusual ideas\n- Conscientiousness: Self-discipline, act dutifully, aim for achievement\n- Extraversion: Energy, positive emotions, assertiveness, sociability\n- Agreeableness: Tendency to be compassionate and cooperative\n- Neuroticism: Tendency to experience unpleasant emotions easily\n\nAll traits are scored 0-100 where:\n- 0-30: Low\n- 31-70: Average\n- 71-100: High"
      },
      "CharacterResponse": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "current_status": {
            "type": "string",
            "title": "Current Status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "last_updated": {
            "type": "string",
            "format": "date-time",
            "title": "Last Updated"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "name",
          "current_status",
          "created_at",
          "last_updated"
        ],
        "title": "CharacterResponse",
        "description": "Response model for character data."
      },
      "CharacterSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "agent_id": {
            "type": "string",
            "title": "Agent Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          },
          "workspace_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workspace Id"
          },
          "aliases": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Aliases"
          },
          "archetype": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Archetype"
          },
          "traits": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Traits"
          },
          "appearance": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Appearance"
          }
        },
        "type": "object",
        "required": [
          "id",
          "agent_id",
          "name",
          "status",
          "type",
          "updated_at"
        ],
        "title": "CharacterSummary"
      },
      "CharacterUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "background_summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Background Summary"
          },
          "personality_traits": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality Traits"
          },
          "skills": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skills"
          }
        },
        "type": "object",
        "title": "CharacterUpdateRequest",
        "description": "Request model for character updates."
      },
      "CharactersListResponse": {
        "properties": {
          "characters": {
            "items": {
              "$ref": "#/components/schemas/CharacterSummary"
            },
            "type": "array",
            "title": "Characters"
          }
        },
        "type": "object",
        "required": [
          "characters"
        ],
        "title": "CharactersListResponse"
      },
      "ChunkInRequest": {
        "properties": {
          "seq": {
            "type": "integer",
            "title": "Seq"
          },
          "data": {
            "type": "string",
            "title": "Data"
          }
        },
        "type": "object",
        "required": [
          "seq",
          "data"
        ],
        "title": "ChunkInRequest"
      },
      "CodeExampleRequest": {
        "properties": {
          "endpoint_path": {
            "type": "string",
            "title": "Endpoint Path",
            "description": "API endpoint path"
          },
          "framework": {
            "$ref": "#/components/schemas/FrameworkType",
            "description": "Target framework",
            "default": "python"
          },
          "format": {
            "$ref": "#/components/schemas/ExampleFormat",
            "description": "Example format",
            "default": "python"
          },
          "include_auth": {
            "type": "boolean",
            "title": "Include Auth",
            "description": "Include authentication examples",
            "default": true
          },
          "include_error_handling": {
            "type": "boolean",
            "title": "Include Error Handling",
            "description": "Include error handling",
            "default": true
          },
          "complexity_level": {
            "type": "string",
            "title": "Complexity Level",
            "description": "Example complexity level",
            "default": "intermediate"
          },
          "use_case": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Use Case",
            "description": "Specific use case scenario"
          }
        },
        "type": "object",
        "required": [
          "endpoint_path"
        ],
        "title": "CodeExampleRequest",
        "description": "Request for Context7-powered code examples."
      },
      "CodeExampleResponse": {
        "properties": {
          "endpoint_path": {
            "type": "string",
            "title": "Endpoint Path",
            "description": "Target endpoint path"
          },
          "framework": {
            "type": "string",
            "title": "Framework",
            "description": "Framework used"
          },
          "format": {
            "type": "string",
            "title": "Format",
            "description": "Example format"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Example title"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Example description"
          },
          "code": {
            "type": "string",
            "title": "Code",
            "description": "Generated code example"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation",
            "description": "Code explanation"
          },
          "requirements": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Requirements",
            "description": "Required dependencies"
          },
          "notes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Notes",
            "description": "Implementation notes"
          },
          "related_patterns": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Related Patterns",
            "description": "Related framework patterns"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At"
          }
        },
        "type": "object",
        "required": [
          "endpoint_path",
          "framework",
          "format",
          "title",
          "description",
          "code",
          "explanation"
        ],
        "title": "CodeExampleResponse",
        "description": "Context7-generated code example."
      },
      "ConfidenceIntervalResponse": {
        "properties": {
          "lower": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Lower",
            "description": "Lower bound of confidence interval"
          },
          "upper": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Upper",
            "description": "Upper bound of confidence interval"
          }
        },
        "type": "object",
        "required": [
          "lower",
          "upper"
        ],
        "title": "ConfidenceIntervalResponse",
        "description": "Schema for confidence interval of a metric."
      },
      "ConflictCreateRequest": {
        "properties": {
          "conflict_type": {
            "type": "string",
            "title": "Conflict Type",
            "description": "Conflict type: 'internal', 'external', 'interpersonal'"
          },
          "stakes": {
            "type": "string",
            "title": "Stakes",
            "description": "Stakes level: 'low', 'medium', 'high', 'critical'",
            "default": "medium"
          },
          "description": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Description",
            "description": "Description of the conflict"
          },
          "resolution_status": {
            "type": "string",
            "title": "Resolution Status",
            "description": "Resolution status: 'unresolved', 'escalating', 'resolved'",
            "default": "unresolved"
          }
        },
        "type": "object",
        "required": [
          "conflict_type",
          "description"
        ],
        "title": "ConflictCreateRequest",
        "description": "Request model for creating a new conflict.\n\nConflicts represent sources of dramatic tension in a scene.\nEvery compelling scene should have at least one conflict."
      },
      "ConflictListResponse": {
        "properties": {
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Parent scene UUID"
          },
          "conflicts": {
            "items": {
              "$ref": "#/components/schemas/ConflictResponse"
            },
            "type": "array",
            "title": "Conflicts"
          }
        },
        "type": "object",
        "required": [
          "scene_id"
        ],
        "title": "ConflictListResponse",
        "description": "Response model for listing conflicts."
      },
      "ConflictResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Conflict UUID"
          },
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Parent scene UUID"
          },
          "conflict_type": {
            "type": "string",
            "title": "Conflict Type",
            "description": "Conflict classification"
          },
          "stakes": {
            "type": "string",
            "title": "Stakes",
            "description": "Stakes level"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Conflict description"
          },
          "resolution_status": {
            "type": "string",
            "title": "Resolution Status",
            "description": "Current resolution state"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "scene_id",
          "conflict_type",
          "stakes",
          "description",
          "resolution_status",
          "created_at",
          "updated_at"
        ],
        "title": "ConflictResponse",
        "description": "Response model for a single conflict."
      },
      "ConflictUpdateRequest": {
        "properties": {
          "conflict_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conflict Type",
            "description": "Conflict type: 'internal', 'external', 'interpersonal'"
          },
          "stakes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stakes",
            "description": "Stakes level: 'low', 'medium', 'high', 'critical'"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "resolution_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolution Status",
            "description": "Resolution status: 'unresolved', 'escalating', 'resolved'"
          }
        },
        "type": "object",
        "title": "ConflictUpdateRequest",
        "description": "Request model for updating a conflict."
      },
      "CritiqueCategoryScoreResponse": {
        "properties": {
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Quality dimension: pacing, voice, showing, dialogue"
          },
          "score": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Score",
            "description": "Score from 1-10 for this category"
          },
          "issues": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Issues",
            "description": "Specific problems identified"
          },
          "suggestions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Suggestions",
            "description": "Actionable improvements"
          }
        },
        "type": "object",
        "required": [
          "category",
          "score"
        ],
        "title": "CritiqueCategoryScoreResponse",
        "description": "Category-specific critique score with issues and suggestions."
      },
      "CritiqueSceneRequest": {
        "properties": {
          "scene_text": {
            "type": "string",
            "maxLength": 12000,
            "minLength": 50,
            "title": "Scene Text",
            "description": "Full text content of the scene to analyze"
          },
          "scene_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Goals",
            "description": "Optional list of writer's goals for the scene (e.g., reveal motivation, build tension)"
          }
        },
        "type": "object",
        "required": [
          "scene_text"
        ],
        "title": "CritiqueSceneRequest",
        "description": "Request model for AI scene critique.\n\nAsks the AI to analyze scene writing quality across multiple craft dimensions."
      },
      "CritiqueSceneResponse": {
        "properties": {
          "overall_score": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Overall Score",
            "description": "Overall quality score (1-10)"
          },
          "category_scores": {
            "items": {
              "$ref": "#/components/schemas/CritiqueCategoryScoreResponse"
            },
            "type": "array",
            "title": "Category Scores",
            "description": "Evaluations by category"
          },
          "highlights": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Highlights",
            "description": "What works well in the scene"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Brief 2-3 sentence assessment"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if critique failed"
          }
        },
        "type": "object",
        "required": [
          "overall_score",
          "summary"
        ],
        "title": "CritiqueSceneResponse",
        "description": "Response model for AI scene critique.\n\nContains AI-generated feedback on scene quality including overall score,\ncategory-specific evaluations, highlights, and actionable suggestions."
      },
      "DialogueGenerationRequest": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "ID of the character to generate dialogue for"
          },
          "context": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Context",
            "description": "The situation or prompt the character is responding to"
          },
          "mood": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Mood",
            "description": "Current emotional state (e.g., 'angry', 'excited', 'fearful')"
          },
          "psychology_override": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CharacterPsychologySchema"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional psychology override if not using stored character data"
          },
          "traits_override": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Traits Override",
            "description": "Optional traits override"
          },
          "speaking_style_override": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Speaking Style Override",
            "description": "Optional speaking style override"
          }
        },
        "type": "object",
        "required": [
          "character_id",
          "context"
        ],
        "title": "DialogueGenerationRequest",
        "description": "Request model for generating character dialogue.\n\nUses character psychology, traits, and speaking style to generate\nauthentic dialogue that sounds like the character would naturally speak."
      },
      "DialogueGenerationResponse": {
        "properties": {
          "dialogue": {
            "type": "string",
            "title": "Dialogue",
            "description": "The character's spoken response"
          },
          "tone": {
            "type": "string",
            "title": "Tone",
            "description": "Emotional tone (e.g., 'defensive', 'excited')"
          },
          "internal_thought": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Internal Thought",
            "description": "What the character thinks but doesn't say"
          },
          "body_language": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Body Language",
            "description": "Physical description (e.g., 'crosses arms')"
          },
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "ID of the character who spoke"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if generation failed"
          }
        },
        "type": "object",
        "required": [
          "dialogue",
          "tone",
          "character_id"
        ],
        "title": "DialogueGenerationResponse",
        "description": "Response model for generated dialogue.\n\nContains the character's spoken words along with metadata about\ntheir internal state and physical expression."
      },
      "DocumentationRequest": {
        "properties": {
          "doc_type": {
            "$ref": "#/components/schemas/DocumentationType",
            "description": "Documentation type"
          },
          "api_endpoints": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Api Endpoints",
            "description": "Specific endpoints to document"
          },
          "framework_focus": {
            "items": {
              "$ref": "#/components/schemas/FrameworkType"
            },
            "type": "array",
            "title": "Framework Focus",
            "description": "Framework emphasis"
          },
          "audience_level": {
            "type": "string",
            "title": "Audience Level",
            "description": "Target audience level",
            "default": "intermediate"
          },
          "include_examples": {
            "type": "boolean",
            "title": "Include Examples",
            "description": "Include code examples",
            "default": true
          },
          "include_patterns": {
            "type": "boolean",
            "title": "Include Patterns",
            "description": "Include framework patterns",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "doc_type"
        ],
        "title": "DocumentationRequest",
        "description": "Request for Context7-enhanced documentation."
      },
      "DocumentationSection-Input": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Section title"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Section content"
          },
          "code_examples": {
            "items": {
              "$ref": "#/components/schemas/CodeExampleResponse"
            },
            "type": "array",
            "title": "Code Examples"
          },
          "subsections": {
            "items": {
              "$ref": "#/components/schemas/DocumentationSection-Input"
            },
            "type": "array",
            "title": "Subsections"
          }
        },
        "type": "object",
        "required": [
          "title",
          "content"
        ],
        "title": "DocumentationSection",
        "description": "Documentation section."
      },
      "DocumentationSection-Output": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Section title"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Section content"
          },
          "code_examples": {
            "items": {
              "$ref": "#/components/schemas/CodeExampleResponse"
            },
            "type": "array",
            "title": "Code Examples"
          },
          "subsections": {
            "items": {
              "$ref": "#/components/schemas/DocumentationSection-Output"
            },
            "type": "array",
            "title": "Subsections"
          }
        },
        "type": "object",
        "required": [
          "title",
          "content"
        ],
        "title": "DocumentationSection",
        "description": "Documentation section."
      },
      "DocumentationType": {
        "type": "string",
        "enum": [
          "api_reference",
          "quick_start",
          "best_practices",
          "integration_guide",
          "troubleshooting"
        ],
        "title": "DocumentationType",
        "description": "Documentation types."
      },
      "EmergentNarrativeData-Input": {
        "properties": {
          "narrative_id": {
            "type": "string",
            "title": "Narrative Id",
            "description": "Unique narrative identifier"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Generated narrative title"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Comprehensive narrative summary"
          },
          "events": {
            "items": {
              "$ref": "#/components/schemas/NarrativeEventResponse"
            },
            "type": "array",
            "title": "Events",
            "description": "Sequence of narrative events"
          },
          "character_arcs": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Character Arcs",
            "description": "Character development arcs"
          },
          "plot_threads": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Plot Threads",
            "description": "Active plot threads"
          },
          "causal_graph_stats": {
            "additionalProperties": true,
            "type": "object",
            "title": "Causal Graph Stats",
            "description": "Causal graph statistics"
          },
          "coherence_report": {
            "additionalProperties": true,
            "type": "object",
            "title": "Coherence Report",
            "description": "Narrative coherence analysis"
          },
          "narrative_patterns": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Narrative Patterns",
            "description": "Detected narrative patterns"
          },
          "predicted_events": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Predicted Events",
            "description": "Predicted future events"
          },
          "generation_metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Generation Metadata",
            "description": "Generation process metadata"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Narrative creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "narrative_id",
          "title",
          "summary",
          "events",
          "character_arcs",
          "plot_threads",
          "causal_graph_stats",
          "coherence_report",
          "narrative_patterns",
          "generation_metadata"
        ],
        "title": "EmergentNarrativeData",
        "description": "Generated emergent narrative data"
      },
      "EmergentNarrativeData-Output": {
        "properties": {
          "narrative_id": {
            "type": "string",
            "title": "Narrative Id",
            "description": "Unique narrative identifier"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Generated narrative title"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Comprehensive narrative summary"
          },
          "events": {
            "items": {
              "$ref": "#/components/schemas/NarrativeEventResponse"
            },
            "type": "array",
            "title": "Events",
            "description": "Sequence of narrative events"
          },
          "character_arcs": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Character Arcs",
            "description": "Character development arcs"
          },
          "plot_threads": {
            "additionalProperties": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "object",
            "title": "Plot Threads",
            "description": "Active plot threads"
          },
          "causal_graph_stats": {
            "additionalProperties": true,
            "type": "object",
            "title": "Causal Graph Stats",
            "description": "Causal graph statistics"
          },
          "coherence_report": {
            "additionalProperties": true,
            "type": "object",
            "title": "Coherence Report",
            "description": "Narrative coherence analysis"
          },
          "narrative_patterns": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Narrative Patterns",
            "description": "Detected narrative patterns"
          },
          "predicted_events": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Predicted Events",
            "description": "Predicted future events"
          },
          "generation_metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Generation Metadata",
            "description": "Generation process metadata"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Narrative creation timestamp"
          }
        },
        "type": "object",
        "required": [
          "narrative_id",
          "title",
          "summary",
          "events",
          "character_arcs",
          "plot_threads",
          "causal_graph_stats",
          "coherence_report",
          "narrative_patterns",
          "generation_metadata"
        ],
        "title": "EmergentNarrativeData",
        "description": "Generated emergent narrative data"
      },
      "EmergentNarrativeRequest": {
        "properties": {
          "agents": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 1,
            "title": "Agents",
            "description": "Participating agent IDs"
          },
          "time_range": {
            "anyOf": [
              {
                "prefixItems": [
                  {
                    "type": "string",
                    "format": "date-time"
                  },
                  {
                    "type": "string",
                    "format": "date-time"
                  }
                ],
                "type": "array",
                "maxItems": 2,
                "minItems": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Range",
            "description": "Time range for narrative"
          },
          "narrative_perspective": {
            "type": "string",
            "title": "Narrative Perspective",
            "description": "Narrative perspective (omniscient, agent_specific, observer)",
            "default": "omniscient"
          },
          "focus_agent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Focus Agent",
            "description": "Primary focus agent for agent_specific perspective"
          },
          "include_predictions": {
            "type": "boolean",
            "title": "Include Predictions",
            "description": "Include predicted future events",
            "default": true
          },
          "coherence_threshold": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Coherence Threshold",
            "description": "Minimum coherence required",
            "default": 0.7
          },
          "max_events": {
            "type": "integer",
            "maximum": 200.0,
            "minimum": 5.0,
            "title": "Max Events",
            "description": "Maximum events to include",
            "default": 50
          },
          "narrative_style": {
            "type": "string",
            "title": "Narrative Style",
            "description": "Narrative style (dramatic, documentary, poetic)",
            "default": "dramatic"
          }
        },
        "type": "object",
        "required": [
          "agents"
        ],
        "title": "EmergentNarrativeRequest",
        "description": "Request for emergent narrative generation"
      },
      "EmitEventRequest": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Event type: character, story, system, interaction",
            "default": "system"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Event title"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Event description"
          },
          "severity": {
            "type": "string",
            "title": "Severity",
            "description": "Event severity: low, medium, high",
            "default": "low"
          },
          "character_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Character Name",
            "description": "Character name for character events"
          }
        },
        "type": "object",
        "required": [
          "title",
          "description"
        ],
        "title": "EmitEventRequest",
        "description": "Request to emit a dashboard event."
      },
      "EmitEventResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "event_id": {
            "type": "string",
            "title": "Event Id"
          },
          "connected_clients": {
            "type": "integer",
            "title": "Connected Clients"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "event_id",
          "connected_clients"
        ],
        "title": "EmitEventResponse",
        "description": "Response after emitting event."
      },
      "EnhancedDocumentationResponse-Input": {
        "properties": {
          "doc_type": {
            "type": "string",
            "title": "Doc Type",
            "description": "Documentation type"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Documentation title"
          },
          "overview": {
            "type": "string",
            "title": "Overview",
            "description": "Documentation overview"
          },
          "sections": {
            "items": {
              "$ref": "#/components/schemas/DocumentationSection-Input"
            },
            "type": "array",
            "title": "Sections",
            "description": "Documentation sections"
          },
          "quick_reference": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Quick Reference",
            "description": "Quick reference links"
          },
          "external_resources": {
            "items": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "type": "array",
            "title": "External Resources",
            "description": "External resources"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At"
          }
        },
        "type": "object",
        "required": [
          "doc_type",
          "title",
          "overview",
          "sections"
        ],
        "title": "EnhancedDocumentationResponse",
        "description": "Context7-enhanced documentation response."
      },
      "EnhancedDocumentationResponse-Output": {
        "properties": {
          "doc_type": {
            "type": "string",
            "title": "Doc Type",
            "description": "Documentation type"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Documentation title"
          },
          "overview": {
            "type": "string",
            "title": "Overview",
            "description": "Documentation overview"
          },
          "sections": {
            "items": {
              "$ref": "#/components/schemas/DocumentationSection-Output"
            },
            "type": "array",
            "title": "Sections",
            "description": "Documentation sections"
          },
          "quick_reference": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Quick Reference",
            "description": "Quick reference links"
          },
          "external_resources": {
            "items": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "type": "array",
            "title": "External Resources",
            "description": "External resources"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Generated At"
          }
        },
        "type": "object",
        "required": [
          "doc_type",
          "title",
          "overview",
          "sections"
        ],
        "title": "EnhancedDocumentationResponse",
        "description": "Context7-enhanced documentation response."
      },
      "ErrorInfo": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          },
          "recoverable": {
            "type": "boolean",
            "title": "Recoverable",
            "default": true
          },
          "standard_guidance": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Standard Guidance"
          }
        },
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "title": "ErrorInfo"
      },
      "ExampleFormat": {
        "type": "string",
        "enum": [
          "python",
          "json",
          "curl",
          "javascript",
          "typescript"
        ],
        "title": "ExampleFormat",
        "description": "Code example formats."
      },
      "ExperimentActionRequest": {
        "properties": {
          "winner": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Winner",
            "description": "Winning variant (for complete action)"
          }
        },
        "type": "object",
        "title": "ExperimentActionRequest",
        "description": "Request model for experiment actions (start, pause, resume, complete)."
      },
      "ExperimentComparisonResponse": {
        "properties": {
          "success_rate_diff": {
            "type": "number",
            "title": "Success Rate Diff",
            "description": "Difference in success rate (A - B)",
            "default": 0.0
          },
          "success_rate_rel_diff": {
            "type": "number",
            "title": "Success Rate Rel Diff",
            "description": "Relative difference in success rate (%)",
            "default": 0.0
          },
          "avg_rating_diff": {
            "type": "number",
            "title": "Avg Rating Diff",
            "description": "Difference in average rating (A - B)",
            "default": 0.0
          },
          "avg_rating_rel_diff": {
            "type": "number",
            "title": "Avg Rating Rel Diff",
            "description": "Relative difference in rating (%)",
            "default": 0.0
          },
          "token_efficiency_diff": {
            "type": "number",
            "title": "Token Efficiency Diff",
            "description": "Difference in token efficiency (A - B)",
            "default": 0.0
          },
          "avg_latency_diff": {
            "type": "number",
            "title": "Avg Latency Diff",
            "description": "Difference in latency (A - B)",
            "default": 0.0
          },
          "avg_latency_rel_diff": {
            "type": "number",
            "title": "Avg Latency Rel Diff",
            "description": "Relative difference in latency (%)",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "ExperimentComparisonResponse",
        "description": "Schema for variant comparison."
      },
      "ExperimentCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Experiment name"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "title": "Description",
            "description": "Experiment description",
            "default": ""
          },
          "prompt_a_id": {
            "type": "string",
            "title": "Prompt A Id",
            "description": "Variant A prompt template ID"
          },
          "prompt_b_id": {
            "type": "string",
            "title": "Prompt B Id",
            "description": "Variant B prompt template ID"
          },
          "metric": {
            "type": "string",
            "title": "Metric",
            "description": "Primary metric: success_rate, user_rating, token_efficiency, latency"
          },
          "traffic_split": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Traffic Split",
            "description": "Traffic split for variant A (0-100)",
            "default": 50
          },
          "min_sample_size": {
            "type": "integer",
            "minimum": 10.0,
            "title": "Min Sample Size",
            "description": "Minimum sample size per variant",
            "default": 100
          },
          "confidence_threshold": {
            "type": "number",
            "maximum": 0.99,
            "minimum": 0.5,
            "title": "Confidence Threshold",
            "description": "Confidence threshold",
            "default": 0.95
          }
        },
        "type": "object",
        "required": [
          "name",
          "prompt_a_id",
          "prompt_b_id",
          "metric"
        ],
        "title": "ExperimentCreateRequest",
        "description": "Request model for creating an experiment."
      },
      "ExperimentListResponse": {
        "properties": {
          "experiments": {
            "items": {
              "$ref": "#/components/schemas/ExperimentSummaryResponse"
            },
            "type": "array",
            "title": "Experiments"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of experiments",
            "default": 0
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Page size limit",
            "default": 100
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Pagination offset",
            "default": 0
          }
        },
        "type": "object",
        "title": "ExperimentListResponse",
        "description": "Response model for listing experiments."
      },
      "ExperimentRecordRequest": {
        "properties": {
          "variant_id": {
            "type": "string",
            "title": "Variant Id",
            "description": "The variant that was used (prompt_a_id or prompt_b_id)"
          },
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether the generation was successful"
          },
          "tokens": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Tokens",
            "description": "Number of tokens consumed",
            "default": 0
          },
          "latency_ms": {
            "type": "number",
            "minimum": 0.0,
            "title": "Latency Ms",
            "description": "Response time in milliseconds",
            "default": 0.0
          },
          "rating": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating",
            "description": "User rating (1-5)"
          }
        },
        "type": "object",
        "required": [
          "variant_id",
          "success"
        ],
        "title": "ExperimentRecordRequest",
        "description": "Request model for recording a run result."
      },
      "ExperimentResultsResponse": {
        "properties": {
          "experiment_id": {
            "type": "string",
            "title": "Experiment Id",
            "description": "Experiment ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Experiment name"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Experiment status"
          },
          "metric": {
            "type": "string",
            "title": "Metric",
            "description": "Primary metric for comparison"
          },
          "winner": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Winner",
            "description": "Winning variant (A or B)"
          },
          "min_sample_size": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Min Sample Size",
            "description": "Minimum sample size",
            "default": 100
          },
          "traffic_split": {
            "additionalProperties": {
              "type": "integer"
            },
            "type": "object",
            "title": "Traffic Split",
            "description": "Traffic split percentage"
          },
          "variant_a": {
            "$ref": "#/components/schemas/ExperimentVariantResponse",
            "description": "Variant A metrics"
          },
          "variant_b": {
            "$ref": "#/components/schemas/ExperimentVariantResponse",
            "description": "Variant B metrics"
          },
          "comparison": {
            "$ref": "#/components/schemas/ExperimentComparisonResponse",
            "description": "Variant comparison"
          },
          "timeline": {
            "$ref": "#/components/schemas/ExperimentTimelineResponse",
            "description": "Experiment timeline"
          },
          "statistical_significance": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Statistical Significance",
            "description": "Statistical significance analysis"
          }
        },
        "type": "object",
        "required": [
          "experiment_id",
          "name",
          "status",
          "metric",
          "variant_a",
          "variant_b",
          "comparison",
          "timeline"
        ],
        "title": "ExperimentResultsResponse",
        "description": "Schema for experiment results."
      },
      "ExperimentSummaryResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Experiment ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Experiment name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Experiment description",
            "default": ""
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Experiment status"
          },
          "metric": {
            "type": "string",
            "title": "Metric",
            "description": "Primary metric for comparison"
          },
          "prompt_a_id": {
            "type": "string",
            "title": "Prompt A Id",
            "description": "Variant A prompt ID"
          },
          "prompt_b_id": {
            "type": "string",
            "title": "Prompt B Id",
            "description": "Variant B prompt ID"
          },
          "traffic_split": {
            "type": "integer",
            "title": "Traffic Split",
            "description": "Traffic split for variant A",
            "default": 50
          },
          "winner": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Winner",
            "description": "Winning variant (A or B)"
          },
          "total_runs": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Runs",
            "description": "Total runs across both variants",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "ISO 8601 start timestamp"
          },
          "ended_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ended At",
            "description": "ISO 8601 end timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "status",
          "metric",
          "prompt_a_id",
          "prompt_b_id",
          "created_at"
        ],
        "title": "ExperimentSummaryResponse",
        "description": "Schema for experiment summary (list view)."
      },
      "ExperimentTimelineResponse": {
        "properties": {
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At",
            "description": "ISO 8601 start timestamp"
          },
          "ended_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ended At",
            "description": "ISO 8601 end timestamp"
          }
        },
        "type": "object",
        "required": [
          "created_at"
        ],
        "title": "ExperimentTimelineResponse",
        "description": "Schema for experiment timeline."
      },
      "ExperimentVariantResponse": {
        "properties": {
          "prompt_id": {
            "type": "string",
            "title": "Prompt Id",
            "description": "Prompt template ID"
          },
          "total_runs": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Runs",
            "description": "Total number of runs",
            "default": 0
          },
          "success_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Success Count",
            "description": "Number of successful runs",
            "default": 0
          },
          "failure_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Failure Count",
            "description": "Number of failed runs",
            "default": 0
          },
          "success_rate": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Success Rate",
            "description": "Success rate percentage",
            "default": 0.0
          },
          "total_tokens": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Tokens",
            "description": "Total tokens consumed",
            "default": 0
          },
          "avg_tokens_per_run": {
            "type": "number",
            "minimum": 0.0,
            "title": "Avg Tokens Per Run",
            "description": "Average tokens per run",
            "default": 0.0
          },
          "token_efficiency": {
            "type": "number",
            "minimum": 0.0,
            "title": "Token Efficiency",
            "description": "Tokens per successful generation",
            "default": 0.0
          },
          "total_latency_ms": {
            "type": "number",
            "minimum": 0.0,
            "title": "Total Latency Ms",
            "description": "Total latency in milliseconds",
            "default": 0.0
          },
          "avg_latency_ms": {
            "type": "number",
            "minimum": 0.0,
            "title": "Avg Latency Ms",
            "description": "Average latency in milliseconds",
            "default": 0.0
          },
          "rating_sum": {
            "type": "number",
            "title": "Rating Sum",
            "description": "Sum of all ratings",
            "default": 0.0
          },
          "rating_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Rating Count",
            "description": "Number of ratings",
            "default": 0
          },
          "avg_rating": {
            "type": "number",
            "maximum": 5.0,
            "minimum": 0.0,
            "title": "Avg Rating",
            "description": "Average user rating",
            "default": 0.0
          },
          "confidence_interval": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ConfidenceIntervalResponse"
              },
              {
                "type": "null"
              }
            ],
            "description": "Confidence interval for success rate"
          }
        },
        "type": "object",
        "required": [
          "prompt_id"
        ],
        "title": "ExperimentVariantResponse",
        "description": "Schema for an experiment variant with metrics."
      },
      "FactionDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Faction UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Faction name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Faction description",
            "default": ""
          },
          "faction_type": {
            "type": "string",
            "title": "Faction Type",
            "description": "Type of faction (KINGDOM, GUILD, etc.)"
          },
          "alignment": {
            "type": "string",
            "title": "Alignment",
            "description": "Moral alignment"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Operational status"
          },
          "leader_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Leader Id",
            "description": "Character ID of the leader"
          },
          "leader_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Leader Name",
            "description": "Display name of the leader"
          },
          "influence": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Influence",
            "description": "Faction influence",
            "default": 50
          },
          "member_count": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Member Count",
            "description": "Number of members",
            "default": 0
          },
          "members": {
            "items": {
              "$ref": "#/components/schemas/FactionMemberSchema"
            },
            "type": "array",
            "title": "Members",
            "description": "List of faction members"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "faction_type",
          "alignment",
          "status"
        ],
        "title": "FactionDetailResponse",
        "description": "Response model for faction details including members."
      },
      "FactionJoinRequest": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character ID to join the faction"
          }
        },
        "type": "object",
        "required": [
          "character_id"
        ],
        "title": "FactionJoinRequest",
        "description": "Request model for joining a faction.\n\nWhy character_id is required: A character must be explicitly specified\nto join a faction. This enables scenarios like GMs assigning characters\nto factions or characters choosing to join."
      },
      "FactionJoinResponse": {
        "properties": {
          "faction_id": {
            "type": "string",
            "title": "Faction Id",
            "description": "Faction UUID that was joined"
          },
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character UUID that joined"
          },
          "faction_name": {
            "type": "string",
            "title": "Faction Name",
            "description": "Display name of the faction"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "Successfully joined faction"
          }
        },
        "type": "object",
        "required": [
          "faction_id",
          "character_id",
          "faction_name"
        ],
        "title": "FactionJoinResponse",
        "description": "Response model for successful faction join operation."
      },
      "FactionLeaveRequest": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character ID to leave the faction"
          }
        },
        "type": "object",
        "required": [
          "character_id"
        ],
        "title": "FactionLeaveRequest",
        "description": "Request model for leaving a faction."
      },
      "FactionLeaveResponse": {
        "properties": {
          "faction_id": {
            "type": "string",
            "title": "Faction Id",
            "description": "Faction UUID that was left"
          },
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character UUID that left"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "Successfully left faction"
          }
        },
        "type": "object",
        "required": [
          "faction_id",
          "character_id"
        ],
        "title": "FactionLeaveResponse",
        "description": "Response model for successful faction leave operation."
      },
      "FactionMemberSchema": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Character display name",
            "default": ""
          },
          "is_leader": {
            "type": "boolean",
            "title": "Is Leader",
            "description": "Whether this member is the faction leader",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "character_id"
        ],
        "title": "FactionMemberSchema",
        "description": "Schema for a faction member."
      },
      "FactionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "faction_type": {
            "type": "string",
            "title": "Faction Type"
          },
          "alignment": {
            "type": "string",
            "title": "Alignment"
          },
          "values": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Values"
          },
          "goals": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Goals"
          },
          "influence": {
            "type": "integer",
            "title": "Influence"
          },
          "ally_count": {
            "type": "integer",
            "title": "Ally Count",
            "default": 0
          },
          "enemy_count": {
            "type": "integer",
            "title": "Enemy Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "faction_type",
          "alignment",
          "values",
          "goals",
          "influence"
        ],
        "title": "FactionResponse",
        "description": "Response model for faction."
      },
      "FactionSetLeaderRequest": {
        "properties": {
          "character_id": {
            "type": "string",
            "title": "Character Id",
            "description": "Character ID to become the leader"
          },
          "leader_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Leader Name",
            "description": "Display name for the leader"
          }
        },
        "type": "object",
        "required": [
          "character_id"
        ],
        "title": "FactionSetLeaderRequest",
        "description": "Request model for setting a faction leader."
      },
      "FactionSetLeaderResponse": {
        "properties": {
          "faction_id": {
            "type": "string",
            "title": "Faction Id",
            "description": "Faction UUID"
          },
          "leader_id": {
            "type": "string",
            "title": "Leader Id",
            "description": "Character UUID of new leader"
          },
          "leader_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Leader Name",
            "description": "Display name of new leader"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": "Successfully set faction leader"
          }
        },
        "type": "object",
        "required": [
          "faction_id",
          "leader_id"
        ],
        "title": "FactionSetLeaderResponse",
        "description": "Response model for successful leader assignment."
      },
      "ForeshadowingCreateRequest": {
        "properties": {
          "setup_scene_id": {
            "type": "string",
            "title": "Setup Scene Id",
            "description": "Scene UUID where setup occurs"
          },
          "description": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Description",
            "description": "Description of the setup"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Status: 'planted', 'paid_off', 'abandoned'",
            "default": "planted"
          }
        },
        "type": "object",
        "required": [
          "setup_scene_id",
          "description"
        ],
        "title": "ForeshadowingCreateRequest",
        "description": "Request model for creating a new foreshadowing.\n\nForeshadowing represents a narrative setup that will be paid off later.\nThis enforces Chekhov's Gun: every setup must have a payoff."
      },
      "ForeshadowingListResponse": {
        "properties": {
          "foreshadowings": {
            "items": {
              "$ref": "#/components/schemas/ForeshadowingResponse"
            },
            "type": "array",
            "title": "Foreshadowings"
          }
        },
        "type": "object",
        "title": "ForeshadowingListResponse",
        "description": "Response model for listing foreshadowing."
      },
      "ForeshadowingResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Foreshadowing UUID"
          },
          "setup_scene_id": {
            "type": "string",
            "title": "Setup Scene Id",
            "description": "Setup scene UUID"
          },
          "payoff_scene_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payoff Scene Id",
            "description": "Payoff scene UUID (if paid off)"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Foreshadowing description"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "setup_scene_id",
          "description",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "ForeshadowingResponse",
        "description": "Response model for a single foreshadowing."
      },
      "ForeshadowingUpdateRequest": {
        "properties": {
          "description": {
            "type": "string",
            "maxLength": 2000,
            "title": "Description",
            "description": "Updated description",
            "default": ""
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Updated status",
            "default": ""
          },
          "payoff_scene_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Payoff Scene Id",
            "description": "Scene UUID where payoff occurs (for paid_off status)"
          }
        },
        "type": "object",
        "title": "ForeshadowingUpdateRequest",
        "description": "Request model for updating a foreshadowing."
      },
      "FrameworkType": {
        "type": "string",
        "enum": [
          "fastapi",
          "pydantic",
          "asyncio",
          "sqlalchemy",
          "uvicorn",
          "pytest",
          "python"
        ],
        "title": "FrameworkType",
        "description": "Supported framework types for Context7 integration."
      },
      "GenerateStreamRequest": {
        "properties": {
          "scene_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scene Id",
            "description": "UUID of the scene to generate content for"
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt",
            "description": "Custom prompt for generation"
          },
          "context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context",
            "description": "Context string to inform generation"
          },
          "max_tokens": {
            "type": "integer",
            "maximum": 4000.0,
            "minimum": 50.0,
            "title": "Max Tokens",
            "description": "Maximum tokens to generate",
            "default": 500
          }
        },
        "type": "object",
        "title": "GenerateStreamRequest",
        "description": "Request body for narrative streaming generation.\n\nAttributes:\n    scene_id: Optional UUID of the scene to generate content for.\n    prompt: Optional custom prompt for generation.\n    context: Optional context string to inform generation.\n    max_tokens: Maximum tokens to generate (controls length)."
      },
      "GiveItemRequest": {
        "properties": {
          "item_id": {
            "type": "string",
            "title": "Item Id",
            "description": "ID of the item to give"
          }
        },
        "type": "object",
        "required": [
          "item_id"
        ],
        "title": "GiveItemRequest",
        "description": "Request model for giving an item to a character."
      },
      "GuestSessionResponse": {
        "properties": {
          "workspace_id": {
            "type": "string",
            "title": "Workspace Id"
          },
          "created": {
            "type": "boolean",
            "title": "Created"
          }
        },
        "type": "object",
        "required": [
          "workspace_id",
          "created"
        ],
        "title": "GuestSessionResponse"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthCheckResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "api": {
            "type": "string",
            "title": "Api"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "config": {
            "type": "string",
            "title": "Config"
          },
          "uptime": {
            "type": "number",
            "title": "Uptime"
          }
        },
        "type": "object",
        "required": [
          "status",
          "api",
          "timestamp",
          "version",
          "config",
          "uptime"
        ],
        "title": "HealthCheckResponse",
        "description": "Detailed health check response."
      },
      "HealthResponse": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "HealthResponse"
      },
      "HealthWarningResponse": {
        "properties": {
          "category": {
            "type": "string",
            "title": "Category",
            "description": "The type of issue"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Short, human-readable title"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Detailed explanation of the issue"
          },
          "severity": {
            "type": "string",
            "title": "Severity",
            "description": "Issue severity (low, medium, high, critical)"
          },
          "affected_scenes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Affected Scenes",
            "description": "Scene UUIDs involved"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation",
            "description": "Actionable suggestion for fixing the issue"
          }
        },
        "type": "object",
        "required": [
          "category",
          "title",
          "description",
          "severity",
          "recommendation"
        ],
        "title": "HealthWarningResponse",
        "description": "A detected structural issue in the chapter."
      },
      "HistoryEventResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type"
          },
          "significance": {
            "type": "integer",
            "title": "Significance"
          },
          "participants": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Participants"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "event_type",
          "significance",
          "participants"
        ],
        "title": "HistoryEventResponse",
        "description": "Response model for history event."
      },
      "InformationFragmentResponse": {
        "properties": {
          "fragment_id": {
            "type": "string",
            "title": "Fragment Id",
            "description": "Unique fragment identifier"
          },
          "content": {
            "additionalProperties": true,
            "type": "object",
            "title": "Content",
            "description": "Fragment content"
          },
          "source": {
            "type": "string",
            "title": "Source",
            "description": "Information source type"
          },
          "reliability": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Reliability",
            "description": "Information reliability"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Knowledge category"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Information timestamp"
          },
          "location_context": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location Context",
            "description": "Location context"
          },
          "current_reliability": {
            "type": "number",
            "title": "Current Reliability",
            "description": "Time-adjusted reliability"
          }
        },
        "type": "object",
        "required": [
          "fragment_id",
          "content",
          "source",
          "reliability",
          "category",
          "timestamp",
          "current_reliability"
        ],
        "title": "InformationFragmentResponse",
        "description": "Information fragment in turn brief"
      },
      "InteractionLogSchema": {
        "properties": {
          "interaction_id": {
            "type": "string",
            "title": "Interaction Id",
            "description": "Unique ID for this interaction"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Description of the interaction"
          },
          "trust_change": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": -100.0,
            "title": "Trust Change",
            "description": "Trust change (-100 to +100)"
          },
          "romance_change": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": -100.0,
            "title": "Romance Change",
            "description": "Romance change (-100 to +100)"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp",
            "description": "ISO 8601 timestamp of the interaction"
          }
        },
        "type": "object",
        "required": [
          "interaction_id",
          "summary",
          "trust_change",
          "romance_change",
          "timestamp"
        ],
        "title": "InteractionLogSchema",
        "description": "Schema for a single interaction log entry."
      },
      "InteractionPriority": {
        "type": "string",
        "enum": [
          "critical",
          "urgent",
          "high",
          "normal",
          "low"
        ],
        "title": "InteractionPriority",
        "description": "STANDARD INTERACTION PRIORITIES ENHANCED BY URGENCY LEVELS"
      },
      "InteractionRequest": {
        "properties": {
          "participants": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "minItems": 2,
            "title": "Participants"
          },
          "interaction_type": {
            "$ref": "#/components/schemas/InteractionType",
            "default": "dialogue"
          },
          "priority": {
            "$ref": "#/components/schemas/InteractionPriority",
            "default": "normal"
          },
          "topic": {
            "type": "string",
            "maxLength": 200,
            "title": "Topic",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "participants"
        ],
        "title": "InteractionRequest",
        "description": "Request model for initiating character interactions."
      },
      "InteractionResponse": {
        "properties": {
          "interaction_id": {
            "type": "string",
            "title": "Interaction Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "interaction_id",
          "status",
          "created_at"
        ],
        "title": "InteractionResponse",
        "description": "Response model for interaction data."
      },
      "InteractionType": {
        "type": "string",
        "enum": [
          "dialogue",
          "combat",
          "cooperation",
          "negotiation",
          "instruction",
          "ritual",
          "exploration",
          "maintenance",
          "emergency"
        ],
        "title": "InteractionType",
        "description": "ENHANCED INTERACTION TYPES SANCTIFIED BY COMMUNICATION MODES"
      },
      "InvalidationRequest": {
        "properties": {
          "all_of": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "All Of"
          }
        },
        "type": "object",
        "required": [
          "all_of"
        ],
        "title": "InvalidationRequest"
      },
      "ItemCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Item name"
          },
          "item_type": {
            "type": "string",
            "title": "Item Type",
            "description": "Type: WEAPON, ARMOR, CONSUMABLE, KEY_ITEM, MISC"
          },
          "description": {
            "type": "string",
            "maxLength": 2000,
            "title": "Description",
            "default": ""
          },
          "rarity": {
            "type": "string",
            "title": "Rarity",
            "description": "Rarity: COMMON, UNCOMMON, RARE, LEGENDARY",
            "default": "common"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "Weight in kg"
          },
          "value": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Value",
            "description": "Monetary value"
          },
          "is_equippable": {
            "type": "boolean",
            "title": "Is Equippable",
            "default": false
          },
          "is_consumable": {
            "type": "boolean",
            "title": "Is Consumable",
            "default": false
          },
          "effects": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Effects",
            "description": "List of effect descriptions"
          },
          "lore": {
            "type": "string",
            "maxLength": 5000,
            "title": "Lore",
            "description": "Extended backstory",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "name",
          "item_type"
        ],
        "title": "ItemCreateRequest",
        "description": "Request model for creating an item."
      },
      "ItemListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ItemResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of matching items",
            "default": 0
          }
        },
        "type": "object",
        "title": "ItemListResponse",
        "description": "Response model for listing items."
      },
      "ItemResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Item UUID"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "item_type": {
            "type": "string",
            "title": "Item Type"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "rarity": {
            "type": "string",
            "title": "Rarity"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight"
          },
          "value": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Value"
          },
          "is_equippable": {
            "type": "boolean",
            "title": "Is Equippable"
          },
          "is_consumable": {
            "type": "boolean",
            "title": "Is Consumable"
          },
          "effects": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Effects"
          },
          "lore": {
            "type": "string",
            "title": "Lore"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "item_type",
          "description",
          "rarity",
          "is_equippable",
          "is_consumable",
          "lore",
          "created_at",
          "updated_at"
        ],
        "title": "ItemResponse",
        "description": "Response model for a single item."
      },
      "ItemUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "rarity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rarity"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight"
          },
          "value": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Value"
          },
          "effects": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Effects"
          },
          "lore": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Lore"
          }
        },
        "type": "object",
        "title": "ItemUpdateRequest",
        "description": "Request model for updating an item."
      },
      "JsonValue": {},
      "LinkPayoffRequest": {
        "properties": {
          "payoff_scene_id": {
            "type": "string",
            "title": "Payoff Scene Id",
            "description": "Scene UUID where payoff occurs"
          }
        },
        "type": "object",
        "required": [
          "payoff_scene_id"
        ],
        "title": "LinkPayoffRequest",
        "description": "Request model for linking a payoff scene to foreshadowing.\n\nThis validates that the payoff scene comes after the setup scene."
      },
      "LinkSceneToPlotlineRequest": {
        "properties": {
          "plotline_id": {
            "type": "string",
            "title": "Plotline Id",
            "description": "Plotline UUID to link"
          }
        },
        "type": "object",
        "required": [
          "plotline_id"
        ],
        "title": "LinkSceneToPlotlineRequest",
        "description": "Request model for linking a scene to a plotline."
      },
      "LocationResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "location_type": {
            "type": "string",
            "title": "Location Type"
          },
          "population": {
            "type": "integer",
            "title": "Population"
          },
          "controlling_faction_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Controlling Faction Id"
          },
          "notable_features": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Notable Features"
          },
          "danger_level": {
            "type": "string",
            "title": "Danger Level"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "location_type",
          "population",
          "notable_features",
          "danger_level"
        ],
        "title": "LocationResponse",
        "description": "Response model for location."
      },
      "LogInteractionRequest": {
        "properties": {
          "summary": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Summary",
            "description": "Interaction description"
          },
          "trust_change": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": -100.0,
            "title": "Trust Change",
            "description": "Trust change",
            "default": 0
          },
          "romance_change": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": -100.0,
            "title": "Romance Change",
            "description": "Romance change",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "summary"
        ],
        "title": "LogInteractionRequest",
        "description": "Request model for logging an interaction."
      },
      "LoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email",
            "description": "User email address"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "User password"
          },
          "remember_me": {
            "type": "boolean",
            "title": "Remember Me",
            "description": "Whether to extend session duration",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "LoginRequest",
        "description": "Request model for user login."
      },
      "LogoutRequest": {
        "properties": {
          "access_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Access Token",
            "description": "Optional access token to invalidate"
          }
        },
        "type": "object",
        "title": "LogoutRequest"
      },
      "LogoutResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "LogoutResponse"
      },
      "LoreEntryCreateRequest": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 300,
            "minLength": 1,
            "title": "Title",
            "description": "Entry title"
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Full content (markdown supported)",
            "default": ""
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Tags",
            "description": "Searchable tags"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Category: HISTORY, CULTURE, MAGIC, TECHNOLOGY",
            "default": "history"
          },
          "summary": {
            "type": "string",
            "maxLength": 500,
            "title": "Summary",
            "description": "Short summary",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "LoreEntryCreateRequest",
        "description": "Request model for creating a lore entry."
      },
      "LoreEntryListResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/LoreEntryResponse"
            },
            "type": "array",
            "title": "Entries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of matching entries",
            "default": 0
          }
        },
        "type": "object",
        "title": "LoreEntryListResponse",
        "description": "Response model for listing lore entries."
      },
      "LoreEntryResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Entry UUID"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "summary": {
            "type": "string",
            "title": "Summary"
          },
          "related_entry_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Related Entry Ids"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Flexible metadata including smart tags"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "content",
          "category",
          "summary",
          "created_at",
          "updated_at"
        ],
        "title": "LoreEntryResponse",
        "description": "Response model for a single lore entry."
      },
      "LoreEntryUpdateRequest": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 300,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          }
        },
        "type": "object",
        "title": "LoreEntryUpdateRequest",
        "description": "Request model for updating a lore entry."
      },
      "ManualSmartTagsUpdateRequest": {
        "properties": {
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Tag category (e.g., 'genre', 'mood', 'themes')"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "List of manual tags for this category"
          },
          "replace": {
            "type": "boolean",
            "title": "Replace",
            "description": "If True, replace existing tags. If False, append to existing.",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "category",
          "tags"
        ],
        "title": "ManualSmartTagsUpdateRequest",
        "description": "Request model for updating manual smart tags."
      },
      "MoveChapterRequest": {
        "properties": {
          "new_order_index": {
            "type": "integer",
            "minimum": 0.0,
            "title": "New Order Index",
            "description": "New position in story"
          }
        },
        "type": "object",
        "required": [
          "new_order_index"
        ],
        "title": "MoveChapterRequest",
        "description": "Request model for moving a chapter to a new position."
      },
      "MoveSceneRequest": {
        "properties": {
          "target_chapter_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Chapter Id",
            "description": "Target chapter UUID (for cross-chapter moves)"
          },
          "new_order_index": {
            "type": "integer",
            "minimum": 0.0,
            "title": "New Order Index",
            "description": "New position in chapter"
          }
        },
        "type": "object",
        "required": [
          "new_order_index"
        ],
        "title": "MoveSceneRequest",
        "description": "Request model for moving a scene."
      },
      "MultiBriefData-Input": {
        "properties": {
          "turn_number": {
            "type": "integer",
            "title": "Turn Number",
            "description": "Turn sequence number"
          },
          "agent_briefs": {
            "additionalProperties": {
              "$ref": "#/components/schemas/TurnBriefData"
            },
            "type": "object",
            "title": "Agent Briefs",
            "description": "Agent ID to brief mapping"
          },
          "global_context": {
            "additionalProperties": true,
            "type": "object",
            "title": "Global Context",
            "description": "Shared global context"
          },
          "turn_summary": {
            "type": "string",
            "title": "Turn Summary",
            "description": "Overall turn situation summary"
          },
          "conflicts_detected": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Conflicts Detected",
            "description": "Detected agent conflicts"
          }
        },
        "type": "object",
        "required": [
          "turn_number",
          "agent_briefs",
          "global_context",
          "turn_summary"
        ],
        "title": "MultiBriefData",
        "description": "Multiple agent brief data"
      },
      "MultiBriefData-Output": {
        "properties": {
          "turn_number": {
            "type": "integer",
            "title": "Turn Number",
            "description": "Turn sequence number"
          },
          "agent_briefs": {
            "additionalProperties": {
              "$ref": "#/components/schemas/TurnBriefData"
            },
            "type": "object",
            "title": "Agent Briefs",
            "description": "Agent ID to brief mapping"
          },
          "global_context": {
            "additionalProperties": true,
            "type": "object",
            "title": "Global Context",
            "description": "Shared global context"
          },
          "turn_summary": {
            "type": "string",
            "title": "Turn Summary",
            "description": "Overall turn situation summary"
          },
          "conflicts_detected": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Conflicts Detected",
            "description": "Detected agent conflicts"
          }
        },
        "type": "object",
        "required": [
          "turn_number",
          "agent_briefs",
          "global_context",
          "turn_summary"
        ],
        "title": "MultiBriefData",
        "description": "Multiple agent brief data"
      },
      "NarrativeBuildRequest": {
        "properties": {
          "story_elements": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Story Elements",
            "description": "Story elements to incorporate"
          },
          "build_strategy": {
            "type": "string",
            "title": "Build Strategy",
            "description": "Build strategy (chronological, thematic, character_focused)",
            "default": "chronological"
          },
          "coherence_enforcement": {
            "type": "boolean",
            "title": "Coherence Enforcement",
            "description": "Enforce narrative coherence",
            "default": true
          },
          "auto_fill_gaps": {
            "type": "boolean",
            "title": "Auto Fill Gaps",
            "description": "Automatically fill narrative gaps",
            "default": true
          },
          "target_length": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Length",
            "description": "Target narrative length in events"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Thematic focuses"
          }
        },
        "type": "object",
        "required": [
          "story_elements"
        ],
        "title": "NarrativeBuildRequest",
        "description": "Request to build narrative from story elements"
      },
      "NarrativeData": {
        "properties": {
          "story": {
            "type": "string",
            "title": "Story"
          },
          "participants": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Participants"
          },
          "turns_completed": {
            "type": "integer",
            "title": "Turns Completed"
          },
          "last_generated": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Generated"
          },
          "has_content": {
            "type": "boolean",
            "title": "Has Content"
          }
        },
        "type": "object",
        "required": [
          "story",
          "participants",
          "turns_completed",
          "has_content"
        ],
        "title": "NarrativeData",
        "description": "Narrative content data."
      },
      "NarrativeEventResponse": {
        "properties": {
          "event_id": {
            "type": "string",
            "title": "Event Id",
            "description": "Unique event identifier"
          },
          "agent_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id",
            "description": "Primary agent involved"
          },
          "event_type": {
            "type": "string",
            "title": "Event Type",
            "description": "Type of event"
          },
          "narrative_text": {
            "type": "string",
            "title": "Narrative Text",
            "description": "Narrative description of event"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp",
            "description": "Event timestamp"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "Event location"
          },
          "participants": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Participants",
            "description": "All participants"
          },
          "causal_links": {
            "items": {
              "$ref": "#/components/schemas/CausalLinkResponse"
            },
            "type": "array",
            "title": "Causal Links",
            "description": "Causal relationships"
          },
          "narrative_weight": {
            "type": "number",
            "title": "Narrative Weight",
            "description": "Importance to overall narrative"
          },
          "coherence_score": {
            "type": "number",
            "title": "Coherence Score",
            "description": "Coherence with surrounding events"
          }
        },
        "type": "object",
        "required": [
          "event_id",
          "event_type",
          "narrative_text",
          "timestamp",
          "narrative_weight",
          "coherence_score"
        ],
        "title": "NarrativeEventResponse",
        "description": "Event in emergent narrative"
      },
      "NarrativeResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "$ref": "#/components/schemas/NarrativeData"
          }
        },
        "type": "object",
        "required": [
          "success",
          "data"
        ],
        "title": "NarrativeResponse",
        "description": "Response for narrative endpoint."
      },
      "NarrativeStreamRequest": {
        "properties": {
          "prompt": {
            "type": "string",
            "maxLength": 5000,
            "minLength": 1,
            "title": "Prompt"
          },
          "world_context": {
            "$ref": "#/components/schemas/WorldContext"
          },
          "chapter_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Chapter Title"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone"
          },
          "max_tokens": {
            "type": "integer",
            "maximum": 8000.0,
            "minimum": 100.0,
            "title": "Max Tokens",
            "default": 2000
          }
        },
        "type": "object",
        "required": [
          "prompt",
          "world_context"
        ],
        "title": "NarrativeStreamRequest",
        "description": "Request model for streaming narrative generation."
      },
      "OrchestrationStartRequest": {
        "properties": {
          "character_names": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 6,
                "minItems": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Character Names",
            "description": "List of character names to include (2-6 characters)"
          },
          "total_turns": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Turns",
            "description": "Number of narrative turns to generate (1-10)",
            "default": 3
          },
          "setting": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Setting",
            "description": "World setting name or ID"
          },
          "scenario": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenario",
            "description": "Initial scenario description"
          }
        },
        "type": "object",
        "title": "OrchestrationStartRequest",
        "description": "Request to start orchestration."
      },
      "OrchestrationStartResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "status"
        ],
        "title": "OrchestrationStartResponse",
        "description": "Response after starting orchestration."
      },
      "OrchestrationStatusData": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Overall orchestration status: idle, running, paused, completed"
          },
          "current_turn": {
            "type": "integer",
            "title": "Current Turn",
            "description": "Current turn number being processed",
            "default": 0
          },
          "total_turns": {
            "type": "integer",
            "title": "Total Turns",
            "description": "Total number of turns to process",
            "default": 0
          },
          "queue_length": {
            "type": "integer",
            "title": "Queue Length",
            "description": "Number of pending operations in the queue",
            "default": 0
          },
          "average_processing_time": {
            "type": "number",
            "title": "Average Processing Time",
            "description": "Average time per turn in seconds",
            "default": 0.0
          },
          "steps": {
            "items": {
              "$ref": "#/components/schemas/OrchestrationStep"
            },
            "type": "array",
            "title": "Steps",
            "description": "Detailed step breakdown"
          },
          "last_updated": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated",
            "description": "ISO 8601 timestamp of last status update"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "OrchestrationStatusData",
        "description": "Orchestration status data structure."
      },
      "OrchestrationStatusResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "$ref": "#/components/schemas/OrchestrationStatusData"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "data"
        ],
        "title": "OrchestrationStatusResponse",
        "description": "Response for orchestration status endpoint."
      },
      "OrchestrationStep": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Unique identifier for this step"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Human-readable name of the step"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status: pending, running, completed, failed"
          },
          "progress": {
            "type": "number",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Progress",
            "description": "Completion percentage (0-100)"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "status",
          "progress"
        ],
        "title": "OrchestrationStep",
        "description": "Step within orchestration progress."
      },
      "OrchestrationStopResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "OrchestrationStopResponse",
        "description": "Response after stopping orchestration."
      },
      "PacingIssueResponse": {
        "properties": {
          "issue_type": {
            "type": "string",
            "title": "Issue Type",
            "description": "Category: monotonous_tension, tension_spike, etc."
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Human-readable description"
          },
          "affected_scenes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Affected Scenes",
            "description": "Scene UUIDs involved"
          },
          "severity": {
            "type": "string",
            "title": "Severity",
            "description": "low, medium, or high"
          },
          "suggestion": {
            "type": "string",
            "title": "Suggestion",
            "description": "Recommendation for addressing the issue"
          }
        },
        "type": "object",
        "required": [
          "issue_type",
          "description",
          "affected_scenes",
          "severity",
          "suggestion"
        ],
        "title": "PacingIssueResponse",
        "description": "A detected pacing problem in the chapter."
      },
      "PatternValidationRequest": {
        "properties": {
          "api_code": {
            "type": "string",
            "title": "Api Code",
            "description": "API code to validate"
          },
          "framework": {
            "$ref": "#/components/schemas/FrameworkType",
            "description": "Framework to validate against",
            "default": "fastapi"
          },
          "validation_rules": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Validation Rules",
            "description": "Specific validation rules"
          },
          "include_suggestions": {
            "type": "boolean",
            "title": "Include Suggestions",
            "description": "Include improvement suggestions",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "api_code"
        ],
        "title": "PatternValidationRequest",
        "description": "Request for API pattern validation using Context7."
      },
      "PatternValidationResponse": {
        "properties": {
          "is_valid": {
            "type": "boolean",
            "title": "Is Valid",
            "description": "Overall validation status"
          },
          "score": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Score",
            "description": "Quality score"
          },
          "issues": {
            "items": {
              "$ref": "#/components/schemas/ValidationIssue"
            },
            "type": "array",
            "title": "Issues",
            "description": "Identified issues"
          },
          "suggestions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Suggestions",
            "description": "General improvements"
          },
          "best_practices": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Best Practices",
            "description": "Applicable best practices"
          },
          "framework_compliance": {
            "additionalProperties": {
              "type": "boolean"
            },
            "type": "object",
            "title": "Framework Compliance",
            "description": "Framework compliance status"
          },
          "validated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Validated At"
          }
        },
        "type": "object",
        "required": [
          "is_valid",
          "score"
        ],
        "title": "PatternValidationResponse",
        "description": "API pattern validation result."
      },
      "PhaseDistributionResponse": {
        "properties": {
          "setup": {
            "type": "integer",
            "title": "Setup",
            "description": "Number of scenes in SETUP phase"
          },
          "inciting_incident": {
            "type": "integer",
            "title": "Inciting Incident",
            "description": "Number of scenes in INCITING_INCIDENT phase"
          },
          "rising_action": {
            "type": "integer",
            "title": "Rising Action",
            "description": "Number of scenes in RISING_ACTION phase"
          },
          "climax": {
            "type": "integer",
            "title": "Climax",
            "description": "Number of scenes in CLIMAX phase"
          },
          "resolution": {
            "type": "integer",
            "title": "Resolution",
            "description": "Number of scenes in RESOLUTION phase"
          }
        },
        "type": "object",
        "required": [
          "setup",
          "inciting_incident",
          "rising_action",
          "climax",
          "resolution"
        ],
        "title": "PhaseDistributionResponse",
        "description": "Distribution of scenes across story phases."
      },
      "PlotlineCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Plotline name"
          },
          "color": {
            "type": "string",
            "pattern": "^#[0-9a-fA-F]{3,6}$",
            "title": "Color",
            "description": "Hex color code (e.g., #ff5733)"
          },
          "description": {
            "type": "string",
            "maxLength": 2000,
            "title": "Description",
            "description": "Plotline description",
            "default": ""
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Plotline status: 'active', 'resolved', 'abandoned'",
            "default": "active"
          }
        },
        "type": "object",
        "required": [
          "name",
          "color"
        ],
        "title": "PlotlineCreateRequest",
        "description": "Request model for creating a new plotline.\n\nPlotlines represent narrative threads that weave through multiple scenes.\nA scene can belong to multiple plotlines simultaneously."
      },
      "PlotlineListResponse": {
        "properties": {
          "plotlines": {
            "items": {
              "$ref": "#/components/schemas/PlotlineResponse"
            },
            "type": "array",
            "title": "Plotlines"
          }
        },
        "type": "object",
        "title": "PlotlineListResponse",
        "description": "Response model for listing plotlines."
      },
      "PlotlineResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Plotline UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Plotline name"
          },
          "color": {
            "type": "string",
            "title": "Color",
            "description": "Hex color code"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Plotline description"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Current status"
          },
          "scene_count": {
            "type": "integer",
            "title": "Scene Count",
            "description": "Number of scenes linked to this plotline",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "color",
          "description",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "PlotlineResponse",
        "description": "Response model for a single plotline."
      },
      "PlotlineUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "color": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^#[0-9a-fA-F]{3,6}$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Plotline status: 'active', 'resolved', 'abandoned'"
          }
        },
        "type": "object",
        "title": "PlotlineUpdateRequest",
        "description": "Request model for updating a plotline."
      },
      "PolicyInfoResponse": {
        "properties": {
          "brand_status": {
            "type": "string",
            "title": "Brand Status"
          },
          "compliance": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Compliance"
          },
          "last_reviewed": {
            "type": "string",
            "title": "Last Reviewed"
          }
        },
        "type": "object",
        "required": [
          "brand_status",
          "compliance",
          "last_reviewed"
        ],
        "title": "PolicyInfoResponse",
        "description": "Policy information response."
      },
      "PromptAnalyticsTimePeriod": {
        "type": "string",
        "enum": [
          "day",
          "week",
          "month",
          "all"
        ],
        "title": "PromptAnalyticsTimePeriod",
        "description": "Time period for analytics aggregation."
      },
      "PromptCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Prompt name"
          },
          "content": {
            "type": "string",
            "minLength": 1,
            "title": "Content",
            "description": "Template content with {{variable}} placeholders"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "title": "Description",
            "description": "Prompt description",
            "default": ""
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Tags",
            "description": "Tags for categorization"
          },
          "extends": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 10,
            "title": "Extends",
            "description": "Parent template IDs/names to extend"
          },
          "variables": {
            "items": {
              "$ref": "#/components/schemas/PromptVariableDefinition"
            },
            "type": "array",
            "title": "Variables",
            "description": "Variable definitions"
          },
          "model_provider": {
            "type": "string",
            "title": "Model Provider",
            "description": "LLM provider",
            "default": "openai"
          },
          "model_name": {
            "type": "string",
            "title": "Model Name",
            "description": "Model name",
            "default": "gpt-4"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature",
            "description": "Sampling temperature"
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens",
            "description": "Maximum tokens to generate"
          },
          "top_p": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Top P",
            "description": "Nucleus sampling"
          },
          "frequency_penalty": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": -2.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Frequency Penalty",
            "description": "Frequency penalty"
          },
          "presence_penalty": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": -2.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Presence Penalty",
            "description": "Presence penalty"
          }
        },
        "type": "object",
        "required": [
          "name",
          "content"
        ],
        "title": "PromptCreateRequest",
        "description": "Request model for creating a new prompt template."
      },
      "PromptDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Prompt template UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Prompt name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Prompt description",
            "default": ""
          },
          "content": {
            "type": "string",
            "title": "Content",
            "description": "Template content with {{variable}} placeholders"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization"
          },
          "extends": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Extends",
            "description": "Parent template IDs/names this template extends"
          },
          "version": {
            "type": "integer",
            "title": "Version",
            "description": "Version number",
            "default": 1
          },
          "parent_version_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Version Id",
            "description": "Parent version ID"
          },
          "model_config": {
            "$ref": "#/components/schemas/PromptModelConfig",
            "description": "Model configuration"
          },
          "variables": {
            "items": {
              "$ref": "#/components/schemas/PromptVariableDefinition"
            },
            "type": "array",
            "title": "Variables",
            "description": "Variable definitions"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "content",
          "model_config",
          "created_at",
          "updated_at"
        ],
        "title": "PromptDetailResponse",
        "description": "Schema for a full prompt template detail."
      },
      "PromptGenerateRequest": {
        "properties": {
          "variables": {
            "items": {
              "$ref": "#/components/schemas/PromptVariableValue"
            },
            "type": "array",
            "title": "Variables",
            "description": "Variable values for rendering the prompt"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider",
            "description": "Override LLM provider (uses prompt config if not specified)"
          },
          "model_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Name",
            "description": "Override model name (uses prompt config if not specified)"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature",
            "description": "Override sampling temperature"
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens",
            "description": "Override max tokens to generate"
          },
          "top_p": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Top P",
            "description": "Override nucleus sampling"
          },
          "frequency_penalty": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": -2.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Frequency Penalty",
            "description": "Override frequency penalty"
          },
          "presence_penalty": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": -2.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Presence Penalty",
            "description": "Override presence penalty"
          },
          "strict": {
            "type": "boolean",
            "title": "Strict",
            "description": "Raise errors for missing required variables",
            "default": true
          }
        },
        "type": "object",
        "title": "PromptGenerateRequest",
        "description": "Request model for generating output using a prompt template.\n\nBRAIN-020B: Frontend: Prompt Playground - Integration\nCombines rendering and LLM generation in a single request."
      },
      "PromptGenerateResponse": {
        "properties": {
          "rendered": {
            "type": "string",
            "title": "Rendered",
            "description": "The rendered prompt content"
          },
          "output": {
            "type": "string",
            "title": "Output",
            "description": "The LLM-generated output"
          },
          "template_id": {
            "type": "string",
            "title": "Template Id",
            "description": "Template ID that was used"
          },
          "template_name": {
            "type": "string",
            "title": "Template Name",
            "description": "Template name"
          },
          "prompt_tokens": {
            "type": "integer",
            "title": "Prompt Tokens",
            "description": "Estimated input token count"
          },
          "output_tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Tokens",
            "description": "Output token count if available"
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens",
            "description": "Total token count"
          },
          "latency_ms": {
            "type": "number",
            "title": "Latency Ms",
            "description": "Generation time in milliseconds"
          },
          "model_used": {
            "type": "string",
            "title": "Model Used",
            "description": "Model that was used for generation"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if generation failed"
          }
        },
        "type": "object",
        "required": [
          "rendered",
          "output",
          "template_id",
          "template_name",
          "prompt_tokens",
          "total_tokens",
          "latency_ms",
          "model_used"
        ],
        "title": "PromptGenerateResponse",
        "description": "Response model for prompt generation output.\n\nBRAIN-020B: Frontend: Prompt Playground - Integration\nContains both the rendered prompt and the LLM-generated output."
      },
      "PromptListResponse": {
        "properties": {
          "prompts": {
            "items": {
              "$ref": "#/components/schemas/PromptSummary"
            },
            "type": "array",
            "title": "Prompts",
            "description": "List of prompt summaries"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of prompts",
            "default": 0
          },
          "limit": {
            "type": "integer",
            "title": "Limit",
            "description": "Page size limit",
            "default": 100
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "description": "Pagination offset",
            "default": 0
          }
        },
        "type": "object",
        "title": "PromptListResponse",
        "description": "Response model for listing prompts."
      },
      "PromptModelConfig": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider",
            "description": "LLM provider",
            "default": "openai"
          },
          "model_name": {
            "type": "string",
            "title": "Model Name",
            "description": "Model name",
            "default": "gpt-4"
          },
          "temperature": {
            "type": "number",
            "maximum": 2.0,
            "minimum": 0.0,
            "title": "Temperature",
            "description": "Sampling temperature",
            "default": 0.7
          },
          "max_tokens": {
            "type": "integer",
            "minimum": 1.0,
            "title": "Max Tokens",
            "description": "Maximum tokens to generate",
            "default": 1000
          },
          "top_p": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Top P",
            "description": "Nucleus sampling",
            "default": 1.0
          },
          "frequency_penalty": {
            "type": "number",
            "maximum": 2.0,
            "minimum": -2.0,
            "title": "Frequency Penalty",
            "description": "Frequency penalty",
            "default": 0.0
          },
          "presence_penalty": {
            "type": "number",
            "maximum": 2.0,
            "minimum": -2.0,
            "title": "Presence Penalty",
            "description": "Presence penalty",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "PromptModelConfig",
        "description": "Schema for prompt model configuration."
      },
      "PromptRenderRequest": {
        "properties": {
          "variables": {
            "items": {
              "$ref": "#/components/schemas/PromptVariableValue"
            },
            "type": "array",
            "title": "Variables",
            "description": "Variable values for rendering"
          },
          "strict": {
            "type": "boolean",
            "title": "Strict",
            "description": "Raise errors for missing required variables",
            "default": true
          }
        },
        "type": "object",
        "title": "PromptRenderRequest",
        "description": "Request model for rendering a prompt template."
      },
      "PromptRenderResponse": {
        "properties": {
          "rendered": {
            "type": "string",
            "title": "Rendered",
            "description": "Rendered prompt content"
          },
          "variables_used": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables Used",
            "description": "Variable names that were used"
          },
          "variables_missing": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables Missing",
            "description": "Required variables that were missing"
          },
          "template_id": {
            "type": "string",
            "title": "Template Id",
            "description": "Template ID that was rendered"
          },
          "template_name": {
            "type": "string",
            "title": "Template Name",
            "description": "Template name"
          },
          "token_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Token Count",
            "description": "Estimated token count"
          },
          "model_config": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Config",
            "description": "Model configuration used"
          }
        },
        "type": "object",
        "required": [
          "rendered",
          "template_id",
          "template_name"
        ],
        "title": "PromptRenderResponse",
        "description": "Response model for a rendered prompt."
      },
      "PromptSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Prompt template UUID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Prompt name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "description": "Prompt description",
            "default": ""
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "description": "Tags for categorization"
          },
          "version": {
            "type": "integer",
            "title": "Version",
            "description": "Version number",
            "default": 1
          },
          "model_provider": {
            "type": "string",
            "title": "Model Provider",
            "description": "LLM provider",
            "default": "openai"
          },
          "model_name": {
            "type": "string",
            "title": "Model Name",
            "description": "Model name",
            "default": "gpt-4"
          },
          "variable_count": {
            "type": "integer",
            "title": "Variable Count",
            "description": "Number of variables",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "title": "PromptSummary",
        "description": "Schema for a prompt template summary (list view)."
      },
      "PromptUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Prompt name"
          },
          "content": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "Template content"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "Prompt description"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "Tags for categorization"
          },
          "extends": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Extends",
            "description": "Parent template IDs/names to extend"
          },
          "variables": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/PromptVariableDefinition"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variables",
            "description": "Variable definitions"
          },
          "model_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Provider",
            "description": "LLM provider"
          },
          "model_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model Name",
            "description": "Model name"
          },
          "temperature": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Temperature",
            "description": "Sampling temperature"
          },
          "max_tokens": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Tokens",
            "description": "Maximum tokens to generate"
          },
          "top_p": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Top P",
            "description": "Nucleus sampling"
          },
          "frequency_penalty": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": -2.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Frequency Penalty",
            "description": "Frequency penalty"
          },
          "presence_penalty": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 2.0,
                "minimum": -2.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Presence Penalty",
            "description": "Presence penalty"
          }
        },
        "type": "object",
        "title": "PromptUpdateRequest",
        "description": "Request model for updating a prompt template (creates new version)."
      },
      "PromptVariableDefinition": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Variable name (must match {{var}} in template)"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "Variable type: string, integer, float, boolean, list, dict"
          },
          "default_value": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/JsonValue"
              },
              {
                "type": "null"
              }
            ],
            "description": "Default value if not provided"
          },
          "description": {
            "type": "string",
            "maxLength": 500,
            "title": "Description",
            "description": "Human-readable description",
            "default": ""
          },
          "required": {
            "type": "boolean",
            "title": "Required",
            "description": "Whether this variable must be provided",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name",
          "type"
        ],
        "title": "PromptVariableDefinition",
        "description": "Schema for a prompt variable definition."
      },
      "PromptVariableValue": {
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "title": "Name",
            "description": "Variable name"
          },
          "value": {
            "$ref": "#/components/schemas/JsonValue",
            "description": "Variable value"
          }
        },
        "type": "object",
        "required": [
          "name",
          "value"
        ],
        "title": "PromptVariableValue",
        "description": "Schema for a prompt variable value during rendering."
      },
      "RefreshTokenRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "Refresh token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshTokenRequest",
        "description": "Request model for token refresh."
      },
      "RelationshipCreateRequest": {
        "properties": {
          "source_id": {
            "type": "string",
            "title": "Source Id",
            "description": "ID of the source entity"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type",
            "description": "Type of source: CHARACTER, FACTION, LOCATION, ITEM, EVENT"
          },
          "target_id": {
            "type": "string",
            "title": "Target Id",
            "description": "ID of the target entity"
          },
          "target_type": {
            "type": "string",
            "title": "Target Type",
            "description": "Type of target: CHARACTER, FACTION, LOCATION, ITEM, EVENT"
          },
          "relationship_type": {
            "type": "string",
            "title": "Relationship Type",
            "description": "Relationship type: FAMILY, ENEMY, ALLY, MENTOR, ROMANTIC, RIVAL, MEMBER_OF, LOCATED_IN, OWNS, CREATED, HISTORICAL, NEUTRAL"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "title": "Description",
            "default": ""
          },
          "strength": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Strength",
            "description": "Relationship strength",
            "default": 50
          },
          "trust": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Trust",
            "description": "Trust level (0-100)",
            "default": 50
          },
          "romance": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Romance",
            "description": "Romance level (0-100)",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "source_id",
          "source_type",
          "target_id",
          "target_type",
          "relationship_type"
        ],
        "title": "RelationshipCreateRequest",
        "description": "Request model for creating a relationship."
      },
      "RelationshipHistoryGenerationResponse": {
        "properties": {
          "backstory": {
            "type": "string",
            "title": "Backstory",
            "description": "2-4 paragraph narrative explaining relationship history"
          },
          "first_meeting": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "First Meeting",
            "description": "How the characters first met"
          },
          "defining_moment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Defining Moment",
            "description": "Pivotal event shaping current dynamic"
          },
          "current_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Status",
            "description": "Summary of where they currently stand"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error",
            "description": "Error message if generation failed"
          }
        },
        "type": "object",
        "required": [
          "backstory"
        ],
        "title": "RelationshipHistoryGenerationResponse",
        "description": "Response model for generated relationship history.\n\nContains a backstory explaining how two characters developed their current\nrelationship dynamics based on trust/romance levels."
      },
      "RelationshipListResponse": {
        "properties": {
          "relationships": {
            "items": {
              "$ref": "#/components/schemas/RelationshipResponse"
            },
            "type": "array",
            "title": "Relationships"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of matching relationships",
            "default": 0
          }
        },
        "type": "object",
        "title": "RelationshipListResponse",
        "description": "Response model for listing relationships."
      },
      "RelationshipResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Relationship UUID"
          },
          "source_id": {
            "type": "string",
            "title": "Source Id"
          },
          "source_type": {
            "type": "string",
            "title": "Source Type"
          },
          "target_id": {
            "type": "string",
            "title": "Target Id"
          },
          "target_type": {
            "type": "string",
            "title": "Target Type"
          },
          "relationship_type": {
            "type": "string",
            "title": "Relationship Type"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "strength": {
            "type": "integer",
            "title": "Strength"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "trust": {
            "type": "integer",
            "title": "Trust",
            "description": "Trust level (0-100)",
            "default": 50
          },
          "romance": {
            "type": "integer",
            "title": "Romance",
            "description": "Romance level (0-100)",
            "default": 0
          },
          "interaction_history": {
            "items": {
              "$ref": "#/components/schemas/InteractionLogSchema"
            },
            "type": "array",
            "title": "Interaction History",
            "description": "History of interactions"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "source_id",
          "source_type",
          "target_id",
          "target_type",
          "relationship_type",
          "description",
          "strength",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "RelationshipResponse",
        "description": "Response model for a single relationship."
      },
      "RelationshipUpdateRequest": {
        "properties": {
          "relationship_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationship Type"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "strength": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Strength"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "trust": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Trust",
            "description": "Trust level"
          },
          "romance": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Romance",
            "description": "Romance level"
          }
        },
        "type": "object",
        "title": "RelationshipUpdateRequest",
        "description": "Request model for updating a relationship."
      },
      "RemoveItemResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success",
            "description": "Whether removal was successful"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Status message",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "RemoveItemResponse",
        "description": "Response model for removing an item from a character."
      },
      "ReorderBeatsRequest": {
        "properties": {
          "beat_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Beat Ids",
            "description": "Beat UUIDs in desired order"
          }
        },
        "type": "object",
        "required": [
          "beat_ids"
        ],
        "title": "ReorderBeatsRequest",
        "description": "Request model for reordering beats within a scene."
      },
      "SSEStatsResponse": {
        "properties": {
          "connected_clients": {
            "type": "integer",
            "title": "Connected Clients"
          },
          "total_events_sent": {
            "type": "integer",
            "title": "Total Events Sent"
          },
          "active_queues": {
            "type": "integer",
            "title": "Active Queues"
          }
        },
        "type": "object",
        "required": [
          "connected_clients",
          "total_events_sent",
          "active_queues"
        ],
        "title": "SSEStatsResponse",
        "description": "SSE connection statistics."
      },
      "SceneCreateRequest": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "description": "Scene title"
          },
          "summary": {
            "type": "string",
            "maxLength": 2000,
            "title": "Summary",
            "description": "Scene synopsis",
            "default": ""
          },
          "location": {
            "type": "string",
            "maxLength": 500,
            "title": "Location",
            "description": "Scene setting",
            "default": ""
          },
          "order_index": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Order Index",
            "description": "Position in chapter (0-based)"
          },
          "story_phase": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Story Phase",
            "description": "Story phase: 'setup', 'inciting_incident', 'rising_action', 'climax', 'resolution'",
            "default": "setup"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "SceneCreateRequest",
        "description": "Request model for creating a new scene."
      },
      "SceneGenerationRequest": {
        "properties": {
          "character_context": {
            "$ref": "#/components/schemas/CharacterGenerationResponse"
          },
          "scene_type": {
            "type": "string",
            "title": "Scene Type"
          },
          "tone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tone"
          }
        },
        "type": "object",
        "required": [
          "character_context",
          "scene_type"
        ],
        "title": "SceneGenerationRequest",
        "description": "Request model for scene generation."
      },
      "SceneGenerationResponse": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "summary": {
            "type": "string",
            "title": "Summary"
          },
          "visual_prompt": {
            "type": "string",
            "title": "Visual Prompt"
          }
        },
        "type": "object",
        "required": [
          "title",
          "content",
          "summary",
          "visual_prompt"
        ],
        "title": "SceneGenerationResponse",
        "description": "Response model for scene generation."
      },
      "SceneListResponse": {
        "properties": {
          "chapter_id": {
            "type": "string",
            "title": "Chapter Id",
            "description": "Parent chapter UUID"
          },
          "scenes": {
            "items": {
              "$ref": "#/components/schemas/SceneResponse"
            },
            "type": "array",
            "title": "Scenes"
          }
        },
        "type": "object",
        "required": [
          "chapter_id"
        ],
        "title": "SceneListResponse",
        "description": "Response model for listing scenes."
      },
      "ScenePacingMetricsResponse": {
        "properties": {
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Scene UUID"
          },
          "scene_title": {
            "type": "string",
            "title": "Scene Title",
            "description": "Scene title for display"
          },
          "order_index": {
            "type": "integer",
            "title": "Order Index",
            "description": "Position in chapter"
          },
          "tension_level": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Tension Level",
            "description": "Dramatic tension (1-10)"
          },
          "energy_level": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Energy Level",
            "description": "Narrative momentum (1-10)"
          }
        },
        "type": "object",
        "required": [
          "scene_id",
          "scene_title",
          "order_index",
          "tension_level",
          "energy_level"
        ],
        "title": "ScenePacingMetricsResponse",
        "description": "Pacing metrics for a single scene.\n\nWhy frozen on backend:\n    Metrics are immutable snapshots. Modifications should go through\n    the Scene entity and generate new metrics."
      },
      "ScenePlotlinesResponse": {
        "properties": {
          "scene_id": {
            "type": "string",
            "title": "Scene Id",
            "description": "Scene UUID"
          },
          "plotline_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Plotline Ids",
            "description": "Associated plotline UUIDs"
          }
        },
        "type": "object",
        "required": [
          "scene_id"
        ],
        "title": "ScenePlotlinesResponse",
        "description": "Response model for listing a scene's plotlines."
      },
      "SceneResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Scene UUID"
          },
          "chapter_id": {
            "type": "string",
            "title": "Chapter Id",
            "description": "Parent chapter UUID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Scene title"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Scene synopsis",
            "default": ""
          },
          "location": {
            "type": "string",
            "title": "Location",
            "description": "Scene setting",
            "default": ""
          },
          "order_index": {
            "type": "integer",
            "title": "Order Index",
            "description": "Position in chapter"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Workflow status"
          },
          "story_phase": {
            "type": "string",
            "title": "Story Phase",
            "description": "Story structure phase",
            "default": "setup"
          },
          "beat_count": {
            "type": "integer",
            "title": "Beat Count",
            "description": "Number of beats",
            "default": 0
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata",
            "description": "Flexible metadata including smart tags"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "chapter_id",
          "title",
          "order_index",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "SceneResponse",
        "description": "Response model for a single scene."
      },
      "SceneUpdateRequest": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "location": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Scene status: 'draft', 'generating', 'review', 'published'"
          },
          "story_phase": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Story Phase",
            "description": "Story phase: 'setup', 'inciting_incident', 'rising_action', 'climax', 'resolution'"
          }
        },
        "type": "object",
        "title": "SceneUpdateRequest",
        "description": "Request model for updating a scene."
      },
      "SetScenePlotlinesRequest": {
        "properties": {
          "plotline_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Plotline Ids",
            "description": "List of plotline UUIDs to associate with the scene"
          }
        },
        "type": "object",
        "title": "SetScenePlotlinesRequest",
        "description": "Request model for setting all plotlines for a scene."
      },
      "SimulationRequest": {
        "properties": {
          "character_names": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 6,
            "minItems": 2,
            "title": "Character Names"
          },
          "turns": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Turns"
          },
          "setting": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Setting"
          },
          "scenario": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scenario"
          }
        },
        "type": "object",
        "required": [
          "character_names"
        ],
        "title": "SimulationRequest"
      },
      "SimulationResponse": {
        "properties": {
          "story": {
            "type": "string",
            "title": "Story"
          },
          "participants": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Participants"
          },
          "turns_executed": {
            "type": "integer",
            "title": "Turns Executed"
          },
          "duration_seconds": {
            "type": "number",
            "title": "Duration Seconds"
          }
        },
        "type": "object",
        "required": [
          "story",
          "participants",
          "turns_executed",
          "duration_seconds"
        ],
        "title": "SimulationResponse"
      },
      "SmartTagsResponse": {
        "properties": {
          "smart_tags": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Smart Tags",
            "description": "Auto-generated smart tags by category"
          },
          "manual_smart_tags": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Manual Smart Tags",
            "description": "Manual-only smart tags by category (never overridden)"
          },
          "effective_tags": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Effective Tags",
            "description": "Combined tags (auto + manual) by category"
          }
        },
        "type": "object",
        "title": "SmartTagsResponse",
        "description": "Response model for smart tags."
      },
      "SocialAnalysisResponse": {
        "properties": {
          "character_centralities": {
            "additionalProperties": {
              "$ref": "#/components/schemas/CharacterCentralitySchema"
            },
            "type": "object",
            "title": "Character Centralities",
            "description": "Mapping of character_id to their centrality metrics"
          },
          "most_connected": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Connected",
            "description": "Character ID with most relationships"
          },
          "most_hated": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Hated",
            "description": "Character ID with most negative relationships"
          },
          "most_loved": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Most Loved",
            "description": "Character ID with highest trust/romance average"
          },
          "total_relationships": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Relationships",
            "description": "Total character-to-character relationships",
            "default": 0
          },
          "total_characters": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Total Characters",
            "description": "Unique characters in the social graph",
            "default": 0
          },
          "network_density": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Network Density",
            "description": "Ratio of actual to possible relationships (0.0-1.0)",
            "default": 0.0
          }
        },
        "type": "object",
        "title": "SocialAnalysisResponse",
        "description": "Complete social network analysis result.\n\nProvides graph analytics for the character relationship network including\ncentrality metrics, extreme characters, and network properties."
      },
      "StandardResponse_BeliefModelData_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BeliefModelData"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_BestPracticesResponse_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/BestPracticesResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_CausalGraphData_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CausalGraphData"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_CodeExampleResponse_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/CodeExampleResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_Dict_str__Any__": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data"
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_EmergentNarrativeData_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EmergentNarrativeData-Output"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_EnhancedDocumentationResponse_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EnhancedDocumentationResponse-Output"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_MultiBriefData_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MultiBriefData-Output"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_PatternValidationResponse_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PatternValidationResponse"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StandardResponse_TurnBriefData_": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "data": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/TurnBriefData"
              },
              {
                "type": "null"
              }
            ]
          },
          "error": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "success"
        ],
        "title": "StandardResponse"
      },
      "StoryCreateRequest": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Title",
            "description": "Story title"
          },
          "summary": {
            "type": "string",
            "maxLength": 2000,
            "title": "Summary",
            "description": "Story synopsis",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "StoryCreateRequest",
        "description": "Request model for creating a new story."
      },
      "StoryListResponse": {
        "properties": {
          "stories": {
            "items": {
              "$ref": "#/components/schemas/StoryResponse"
            },
            "type": "array",
            "title": "Stories"
          }
        },
        "type": "object",
        "title": "StoryListResponse",
        "description": "Response model for listing stories."
      },
      "StoryResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Story UUID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "Story title"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "Story synopsis",
            "default": ""
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Publication status"
          },
          "chapter_count": {
            "type": "integer",
            "title": "Chapter Count",
            "description": "Number of chapters",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "StoryResponse",
        "description": "Response model for a single story."
      },
      "StoryUpdateRequest": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Story status: 'draft' or 'published'"
          }
        },
        "type": "object",
        "title": "StoryUpdateRequest",
        "description": "Request model for updating a story."
      },
      "SystemStatusResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "uptime": {
            "type": "number",
            "title": "Uptime"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "components": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Components"
          }
        },
        "type": "object",
        "required": [
          "status",
          "uptime",
          "version",
          "components"
        ],
        "title": "SystemStatusResponse",
        "description": "System status response."
      },
      "TensionArcShapeResponse": {
        "properties": {
          "shape_type": {
            "type": "string",
            "title": "Shape Type",
            "description": "Descriptive name of the arc shape"
          },
          "starts_at": {
            "type": "integer",
            "title": "Starts At",
            "description": "Opening tension level"
          },
          "peaks_at": {
            "type": "integer",
            "title": "Peaks At",
            "description": "Maximum tension level"
          },
          "ends_at": {
            "type": "integer",
            "title": "Ends At",
            "description": "Closing tension level"
          },
          "has_clear_climax": {
            "type": "boolean",
            "title": "Has Clear Climax",
            "description": "Whether there's a distinct tension peak"
          },
          "is_monotonic": {
            "type": "boolean",
            "title": "Is Monotonic",
            "description": "Whether tension stays flat throughout"
          }
        },
        "type": "object",
        "required": [
          "shape_type",
          "starts_at",
          "peaks_at",
          "ends_at",
          "has_clear_climax",
          "is_monotonic"
        ],
        "title": "TensionArcShapeResponse",
        "description": "Analysis of the tension arc shape."
      },
      "TokenValidationResponse": {
        "properties": {
          "valid": {
            "type": "boolean",
            "title": "Valid"
          },
          "expires_at": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Expires At",
            "description": "Token expiry timestamp in milliseconds"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "valid"
        ],
        "title": "TokenValidationResponse"
      },
      "TurnBriefData": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id",
            "description": "Target agent identifier"
          },
          "turn_number": {
            "type": "integer",
            "title": "Turn Number",
            "description": "Turn sequence number"
          },
          "subjective_world_state": {
            "additionalProperties": true,
            "type": "object",
            "title": "Subjective World State",
            "description": "Agent's filtered world view"
          },
          "available_information": {
            "items": {
              "$ref": "#/components/schemas/InformationFragmentResponse"
            },
            "type": "array",
            "title": "Available Information",
            "description": "Available information fragments"
          },
          "recommended_actions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recommended Actions",
            "description": "Recommended actions based on agent personality"
          },
          "narrative_context": {
            "type": "string",
            "title": "Narrative Context",
            "description": "Narrative description of current situation"
          },
          "confidence_levels": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Confidence Levels",
            "description": "Confidence in different information categories"
          },
          "visible_locations": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Visible Locations",
            "description": "Currently visible locations"
          },
          "known_agents": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Known Agents",
            "description": "Known agents and their visibility"
          },
          "personality_factors": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Personality Factors",
            "description": "Agent's personality influences"
          },
          "fog_of_war_status": {
            "additionalProperties": true,
            "type": "object",
            "title": "Fog Of War Status",
            "description": "Information access limitations"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Brief generation timestamp"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "turn_number",
          "subjective_world_state",
          "available_information",
          "recommended_actions",
          "narrative_context",
          "confidence_levels",
          "visible_locations",
          "known_agents",
          "personality_factors",
          "fog_of_war_status"
        ],
        "title": "TurnBriefData",
        "description": "Personalized turn brief data"
      },
      "UnlinkSceneFromPlotlineRequest": {
        "properties": {
          "plotline_id": {
            "type": "string",
            "title": "Plotline Id",
            "description": "Plotline UUID to unlink"
          }
        },
        "type": "object",
        "required": [
          "plotline_id"
        ],
        "title": "UnlinkSceneFromPlotlineRequest",
        "description": "Request model for unlinking a scene from a plotline."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ValidationIssue": {
        "properties": {
          "severity": {
            "type": "string",
            "title": "Severity",
            "description": "Issue severity (error, warning, info)"
          },
          "category": {
            "type": "string",
            "title": "Category",
            "description": "Issue category"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "Issue description"
          },
          "line_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Line Number",
            "description": "Line number if applicable"
          },
          "suggestion": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggestion",
            "description": "Improvement suggestion"
          },
          "pattern_reference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pattern Reference",
            "description": "Reference to best practice"
          }
        },
        "type": "object",
        "required": [
          "severity",
          "category",
          "message"
        ],
        "title": "ValidationIssue",
        "description": "API pattern validation issue."
      },
      "WordCountEstimateResponse": {
        "properties": {
          "total_words": {
            "type": "integer",
            "title": "Total Words",
            "description": "Estimated total word count"
          },
          "min_words": {
            "type": "integer",
            "title": "Min Words",
            "description": "Minimum estimated word count"
          },
          "max_words": {
            "type": "integer",
            "title": "Max Words",
            "description": "Maximum estimated word count"
          },
          "per_scene_average": {
            "type": "number",
            "title": "Per Scene Average",
            "description": "Average words per scene"
          }
        },
        "type": "object",
        "required": [
          "total_words",
          "min_words",
          "max_words",
          "per_scene_average"
        ],
        "title": "WordCountEstimateResponse",
        "description": "Estimated word count metrics for a chapter."
      },
      "WorkspaceCharacterCreateRequest": {
        "properties": {
          "agent_id": {
            "type": "string",
            "title": "Agent Id",
            "description": "Stable identifier for the character."
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 2,
            "title": "Name"
          },
          "background_summary": {
            "type": "string",
            "maxLength": 1000,
            "title": "Background Summary",
            "default": ""
          },
          "personality_traits": {
            "type": "string",
            "maxLength": 500,
            "title": "Personality Traits",
            "default": ""
          },
          "skills": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Skills"
          },
          "relationships": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Relationships"
          },
          "current_location": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Location"
          },
          "inventory": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Inventory"
          },
          "metadata": {
            "additionalProperties": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "object",
            "title": "Metadata"
          },
          "structured_data": {
            "additionalProperties": {
              "$ref": "#/components/schemas/JsonValue"
            },
            "type": "object",
            "title": "Structured Data"
          }
        },
        "type": "object",
        "required": [
          "agent_id",
          "name"
        ],
        "title": "WorkspaceCharacterCreateRequest"
      },
      "WorkspaceCharacterUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "background_summary": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Background Summary"
          },
          "personality_traits": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality Traits"
          },
          "skills": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Skills"
          },
          "relationships": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Relationships"
          },
          "current_location": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Location"
          },
          "inventory": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inventory"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": {
                  "$ref": "#/components/schemas/JsonValue"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "structured_data": {
            "anyOf": [
              {
                "additionalProperties": {
                  "$ref": "#/components/schemas/JsonValue"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Structured Data"
          }
        },
        "type": "object",
        "title": "WorkspaceCharacterUpdateRequest"
      },
      "WorldContext": {
        "properties": {
          "characters": {
            "items": {
              "$ref": "#/components/schemas/WorldContextEntity"
            },
            "type": "array",
            "title": "Characters"
          },
          "locations": {
            "items": {
              "$ref": "#/components/schemas/WorldContextEntity"
            },
            "type": "array",
            "title": "Locations"
          },
          "entities": {
            "items": {
              "$ref": "#/components/schemas/WorldContextEntity"
            },
            "type": "array",
            "title": "Entities"
          },
          "current_scene": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Scene"
          },
          "narrative_style": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Narrative Style"
          }
        },
        "type": "object",
        "title": "WorldContext",
        "description": "World context for narrative generation."
      },
      "WorldContextEntity": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "attributes": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Attributes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "type"
        ],
        "title": "WorldContextEntity",
        "description": "Entity within the world context."
      },
      "WorldGenerationRequest": {
        "properties": {
          "genre": {
            "type": "string",
            "title": "Genre",
            "description": "Primary genre (fantasy, sci-fi, etc.)",
            "default": "fantasy"
          },
          "era": {
            "type": "string",
            "title": "Era",
            "description": "Temporal era (medieval, modern, etc.)",
            "default": "medieval"
          },
          "tone": {
            "type": "string",
            "title": "Tone",
            "description": "Narrative tone (dark, heroic, etc.)",
            "default": "heroic"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes",
            "description": "Thematic elements"
          },
          "magic_level": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Magic Level",
            "description": "Magic level (0-10)",
            "default": 5
          },
          "technology_level": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 0.0,
            "title": "Technology Level",
            "description": "Technology level (0-10)",
            "default": 3
          },
          "num_factions": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Num Factions",
            "description": "Number of factions",
            "default": 3
          },
          "num_locations": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Num Locations",
            "description": "Number of locations",
            "default": 5
          },
          "num_events": {
            "type": "integer",
            "maximum": 10.0,
            "minimum": 1.0,
            "title": "Num Events",
            "description": "Number of history events",
            "default": 3
          }
        },
        "type": "object",
        "title": "WorldGenerationRequest",
        "description": "Request model for world generation."
      },
      "WorldGenerationResponse": {
        "properties": {
          "world_setting": {
            "$ref": "#/components/schemas/WorldSettingResponse"
          },
          "factions": {
            "items": {
              "$ref": "#/components/schemas/FactionResponse"
            },
            "type": "array",
            "title": "Factions"
          },
          "locations": {
            "items": {
              "$ref": "#/components/schemas/LocationResponse"
            },
            "type": "array",
            "title": "Locations"
          },
          "events": {
            "items": {
              "$ref": "#/components/schemas/HistoryEventResponse"
            },
            "type": "array",
            "title": "Events"
          },
          "generation_summary": {
            "type": "string",
            "title": "Generation Summary"
          }
        },
        "type": "object",
        "required": [
          "world_setting",
          "factions",
          "locations",
          "events",
          "generation_summary"
        ],
        "title": "WorldGenerationResponse",
        "description": "Response model for world generation."
      },
      "WorldRuleCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "Rule name"
          },
          "description": {
            "type": "string",
            "maxLength": 5000,
            "title": "Description",
            "description": "Rule description",
            "default": ""
          },
          "consequence": {
            "type": "string",
            "maxLength": 2000,
            "title": "Consequence",
            "description": "What happens when rule is invoked/violated",
            "default": ""
          },
          "exceptions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 20,
            "title": "Exceptions",
            "description": "Cases where rule doesn't apply"
          },
          "category": {
            "type": "string",
            "maxLength": 50,
            "title": "Category",
            "description": "Rule category (magic, physics, social, etc.)",
            "default": ""
          },
          "severity": {
            "type": "integer",
            "maximum": 100.0,
            "minimum": 0.0,
            "title": "Severity",
            "description": "How strictly enforced (0-100)",
            "default": 50
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "WorldRuleCreateRequest",
        "description": "Request model for creating a world rule."
      },
      "WorldRuleListResponse": {
        "properties": {
          "rules": {
            "items": {
              "$ref": "#/components/schemas/WorldRuleResponse"
            },
            "type": "array",
            "title": "Rules"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total count of matching rules",
            "default": 0
          }
        },
        "type": "object",
        "title": "WorldRuleListResponse",
        "description": "Response model for listing world rules."
      },
      "WorldRuleResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Rule UUID"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "consequence": {
            "type": "string",
            "title": "Consequence"
          },
          "exceptions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Exceptions"
          },
          "category": {
            "type": "string",
            "title": "Category"
          },
          "severity": {
            "type": "integer",
            "title": "Severity"
          },
          "related_rule_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Related Rule Ids"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "ISO 8601 creation timestamp"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "ISO 8601 last update timestamp"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "consequence",
          "category",
          "severity",
          "created_at",
          "updated_at"
        ],
        "title": "WorldRuleResponse",
        "description": "Response model for a single world rule."
      },
      "WorldRuleUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 5000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "consequence": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Consequence"
          },
          "exceptions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Exceptions"
          },
          "category": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "severity": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Severity"
          }
        },
        "type": "object",
        "title": "WorldRuleUpdateRequest",
        "description": "Request model for updating a world rule."
      },
      "WorldSettingResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "genre": {
            "type": "string",
            "title": "Genre"
          },
          "era": {
            "type": "string",
            "title": "Era"
          },
          "tone": {
            "type": "string",
            "title": "Tone"
          },
          "themes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Themes"
          },
          "magic_level": {
            "type": "integer",
            "title": "Magic Level"
          },
          "technology_level": {
            "type": "integer",
            "title": "Technology Level"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "genre",
          "era",
          "tone",
          "themes",
          "magic_level",
          "technology_level"
        ],
        "title": "WorldSettingResponse",
        "description": "Response model for world setting."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}