# CodeQL configuration file
# This configuration excludes known false positives and auto-generated files.

name: "Novel Engine CodeQL Configuration"

paths-ignore:
  # Auto-generated MSW service worker file (contains js/missing-origin-check)
  # This file is generated by MSW and explicitly says "Please do NOT modify this file"
  - "frontend/public/mockServiceWorker.js"
  # Auto-generated reports and build artifacts
  - "frontend/playwright-report/**"
  - "frontend/reports/**"
  - "frontend/dist/**"

queries:
  - uses: security-extended
  - uses: security-and-quality

# Query filters for Python Protocol methods using ellipsis (...)
# These are valid Python idioms for typing.Protocol method bodies
query-filters:
  # Exclude ineffectual-statement for Protocol method bodies
  - exclude:
      tags contain:
        - "py/ineffectual-statement"
      path regexp: ".*/ports/.*\\.py$"
  - exclude:
      tags contain:
        - "py/ineffectual-statement"
      path regexp: ".*/services/narrative_stream_service\\.py$"
  - exclude:
      tags contain:
        - "py/ineffectual-statement"
      path regexp: ".*/generators/character_profile_generator\\.py$"
