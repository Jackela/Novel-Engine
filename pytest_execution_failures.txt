============================= test session starts =============================
collecting ... collected 2271 items

tests/integration/api/test_fixed_api.py::test_minimal_api PASSED         [  0%]
tests/integration/api/test_functionality.py::test_gemini_api_direct PASSED [  0%]
tests/integration/api/test_functionality.py::test_api_endpoints PASSED   [  0%]
tests/integration/api/test_simple.py::test_gemini_direct PASSED          [  0%]
tests/integration/api/test_simple.py::test_api_server PASSED             [  0%]
tests/integration/bridges/test_components.py::test_bridge_infrastructure PASSED [  0%]
tests/integration/bridges/test_components.py::test_system_integration PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_bridge_initialization PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_ai_systems_initialization PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_agent_registration PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_dialogue_management PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_enhanced_turn_execution PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_performance_tracking PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_cost_and_budget_management PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_component_integration PASSED [  0%]
tests/integration/bridges/test_multi_agent.py::test_backward_compatibility PASSED [  0%]
tests/integration/core/test_modular_components.py::TestPersonaAgentModularComponents::test_persona_agent_initialization SKIPPED [  0%]
tests/integration/core/test_modular_components.py::TestPersonaAgentModularComponents::test_decision_engine_component SKIPPED [  0%]
tests/integration/core/test_modular_components.py::TestPersonaAgentModularComponents::test_character_data_manager_component SKIPPED [  0%]
tests/integration/core/test_modular_components.py::TestPersonaAgentModularComponents::test_persona_memory_manager_component SKIPPED [  0%]
tests/integration/core/test_modular_components.py::TestPersonaAgentModularComponents::test_llm_client_component SKIPPED [  0%]
tests/integration/core/test_modular_components.py::TestInteractionEngineModularComponents::test_interaction_engine_initialization SKIPPED [  0%]
tests/integration/core/test_modular_components.py::TestInteractionEngineModularComponents::test_interaction_validator_component SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestInteractionEngineModularComponents::test_queue_manager_component SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestInteractionEngineModularComponents::test_interaction_processing_pipeline SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestMultiAgentBridgeModularComponents::test_enhanced_bridge_initialization PASSED [  1%]
tests/integration/core/test_modular_components.py::TestMultiAgentBridgeModularComponents::test_dialogue_manager_component SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestMultiAgentBridgeModularComponents::test_llm_batch_processor_component SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestMultiAgentBridgeModularComponents::test_cost_tracker_component SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestMultiAgentBridgeModularComponents::test_bridge_agent_coordination PASSED [  1%]
tests/integration/core/test_modular_components.py::TestModularComponentIntegration::test_persona_agent_with_interaction_engine SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestModularComponentIntegration::test_full_modular_system_coordination PASSED [  1%]
tests/integration/core/test_modular_components.py::TestModularComponentPerformance::test_persona_agent_decision_performance SKIPPED [  1%]
tests/integration/core/test_modular_components.py::TestModularComponentPerformance::test_interaction_engine_throughput SKIPPED [  1%]
tests/integration/core/test_systems.py::test_logging_system PASSED       [  1%]
tests/integration/core/test_systems.py::test_error_handling_system PASSED [  1%]
tests/integration/core/test_systems.py::test_integration PASSED          [  1%]
tests/integration/core/test_wave2_components.py::test_component_initialization PASSED [  1%]
tests/integration/core/test_wave2_components.py::test_modular_director_agent PASSED [  1%]
tests/integration/core/test_wave2_components.py::test_component_protocols PASSED [  1%]
tests/integration/core/test_wave2_components.py::test_component_architecture PASSED [  1%]
tests/integration/frontend/test_simple.py::test_frontend_basic PASSED    [  1%]
tests/integration/interactions/test_simple.py::test_engine_initialization PASSED [  1%]
tests/integration/interactions/test_simple.py::test_dialogue_interaction PASSED [  1%]
tests/integration/interactions/test_simple.py::test_cooperation_interaction PASSED [  1%]
tests/integration/interactions/test_simple.py::test_engine_statistics PASSED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_domain_model_creation PASSED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_value_objects_validation PASSED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_core_abilities_calculations FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_application_service_create_character FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_application_service_duplicate_name_validation PASSED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_create_character_command_validation PASSED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_stats_updates FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_level_up FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_healing_and_damage FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_query_operations FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_skills_system FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_domain_events FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_business_rules FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_export_import_data FAILED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterRepositoryIntegration::test_character_orm_models_import PASSED [  2%]
tests/integration/test_character_context_integration.py::TestCharacterRepositoryIntegration::test_sqlalchemy_character_repository_import PASSED [  2%]
tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationE2E::test_complete_turn_orchestration_e2e FAILED [  2%]
tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationE2E::test_turn_orchestration_with_validation_errors FAILED [  2%]
tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationE2E::test_turn_orchestration_async_execution FAILED [  2%]
tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationErrorHandling::test_database_connection_failure PASSED [  2%]
tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationErrorHandling::test_invalid_character_references PASSED [  2%]
tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationErrorHandling::test_concurrent_turn_execution PASSED [  2%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_router_import FAILED [  3%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_delta_endpoint_structure FAILED [  3%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_slice_endpoint_structure FAILED [  3%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_summary_endpoint_structure FAILED [  3%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_history_endpoint_structure FAILED [  3%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_validate_endpoint_structure FAILED [  3%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_id_parameter_validation PASSED [  3%]
tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_endpoints_http_methods FAILED [  3%]
tests/integration/test_world_api_integration.py::TestAPIServerIntegration::test_api_server_world_router_integration PASSED [  3%]
tests/performance/test_llm_performance.py::test_async_llm_client_performance PASSED [  3%]
tests/performance/test_llm_performance.py::test_persona_agent_patch PASSED [  3%]
tests/performance/test_llm_performance.py::test_concurrent_agent_performance PASSED [  3%]
tests/security/test_comprehensive_security.py::TestAuthentication::test_jwt_token_validation FAILED [  3%]
tests/security/test_comprehensive_security.py::TestAuthentication::test_password_security_requirements FAILED [  3%]
tests/security/test_comprehensive_security.py::TestAuthentication::test_brute_force_protection FAILED [  3%]
tests/security/test_comprehensive_security.py::TestAuthentication::test_token_expiration FAILED [  3%]
tests/security/test_comprehensive_security.py::TestAuthorization::test_role_based_access_control FAILED [  3%]
tests/security/test_comprehensive_security.py::TestAuthorization::test_permission_escalation_prevention FAILED [  3%]
tests/security/test_comprehensive_security.py::TestInputValidation::test_sql_injection_detection PASSED [  3%]
tests/security/test_comprehensive_security.py::TestInputValidation::test_xss_detection PASSED [  3%]
tests/security/test_comprehensive_security.py::TestInputValidation::test_command_injection_detection PASSED [  3%]
tests/security/test_comprehensive_security.py::TestInputValidation::test_input_sanitization PASSED [  3%]
tests/security/test_comprehensive_security.py::TestRateLimiting::test_rate_limit_enforcement FAILED [  4%]
tests/security/test_comprehensive_security.py::TestRateLimiting::test_ddos_detection FAILED [  4%]
tests/security/test_comprehensive_security.py::TestRateLimiting::test_ip_whitelist FAILED [  4%]
tests/security/test_comprehensive_security.py::TestSecurityHeaders::test_security_headers_configuration FAILED [  4%]
tests/security/test_comprehensive_security.py::TestVulnerabilityAssessment::test_owasp_top_10_protection FAILED [  4%]
tests/security/test_comprehensive_security.py::TestVulnerabilityAssessment::test_information_disclosure_prevention FAILED [  4%]
tests/security/test_comprehensive_security.py::TestVulnerabilityAssessment::test_session_security FAILED [  4%]
tests/security/test_comprehensive_security.py::TestSecurityMonitoring::test_security_event_logging PASSED [  4%]
tests/security/test_comprehensive_security.py::TestSecurityMonitoring::test_audit_trail PASSED [  4%]
tests/security/test_comprehensive_security.py::TestSecurityPerformance::test_rate_limiting_performance FAILED [  4%]
tests/security/test_comprehensive_security.py::TestSecurityPerformance::test_input_validation_performance FAILED [  4%]
tests/security/test_comprehensive_security.py::TestSecurityIntegration::test_end_to_end_security_flow FAILED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_integration_startup_success PASSED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_integration_startup_traditional_only PASSED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_integration_shutdown PASSED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_character_action_processing_traditional FAILED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_character_action_processing_ai_enhanced FAILED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_character_action_fallback_mechanism FAILED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_story_generation_traditional FAILED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_story_generation_ai_enhanced FAILED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_system_status_retrieval PASSED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_performance_tracking PASSED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_error_handling_and_recovery PASSED [  4%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_feature_gate_functionality PASSED [  5%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_cross_system_event_coordination PASSED [  5%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_integration_mode_switching PASSED [  5%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_timeout_handling FAILED [  5%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_analytics_integration FAILED [  5%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_concurrent_operations FAILED [  5%]
tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_memory_and_cleanup FAILED [  5%]
tests/test_ai_intelligence_integration.py::TestPerformanceValidation::test_response_time_requirements ERROR [  5%]
tests/test_ai_intelligence_integration.py::TestPerformanceValidation::test_throughput_capacity ERROR [  5%]
tests/test_ai_intelligence_integration.py::TestPerformanceValidation::test_resource_utilization ERROR [  5%]
tests/test_api_endpoints_comprehensive.py::TestHealthEndpoints::test_root_endpoint_returns_storyforge_branding PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestHealthEndpoints::test_health_endpoint_basic_functionality PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestHealthEndpoints::test_system_status_endpoint PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestHealthEndpoints::test_policy_endpoint PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_characters_list_returns_generic_characters PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_character_detail_pilot PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_character_detail_scientist FAILED [  5%]
tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_character_detail_engineer PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_character_detail_nonexistent PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_character_detail_legacy_branded_characters PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_enhanced_character_endpoint FAILED [  5%]
tests/test_api_endpoints_comprehensive.py::TestSimulationEndpoints::test_simulation_with_generic_characters PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestSimulationEndpoints::test_simulation_minimum_characters_validation PASSED [  5%]
tests/test_api_endpoints_comprehensive.py::TestSimulationEndpoints::test_simulation_maximum_characters_validation PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestSimulationEndpoints::test_simulation_with_all_generic_characters PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestSimulationEndpoints::test_simulation_story_quality FAILED [  6%]
tests/test_api_endpoints_comprehensive.py::TestSimulationEndpoints::test_simulation_with_custom_setting_scenario PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestCampaignEndpoints::test_campaigns_list_endpoint PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestCampaignEndpoints::test_campaign_creation_with_generic_theme PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestErrorHandlingAndEdgeCases::test_invalid_json_request PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestErrorHandlingAndEdgeCases::test_missing_required_fields PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestErrorHandlingAndEdgeCases::test_empty_character_list PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestErrorHandlingAndEdgeCases::test_nonexistent_character_in_simulation PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestErrorHandlingAndEdgeCases::test_rate_limiting_compliance PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestErrorHandlingAndEdgeCases::test_cors_headers_present PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestSecurityAndValidation::test_input_sanitization PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestSecurityAndValidation::test_sql_injection_prevention PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestSecurityAndValidation::test_excessive_input_length_handling PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestPerformanceAndLoad::test_response_time_health_check PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestPerformanceAndLoad::test_response_time_character_list PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestPerformanceAndLoad::test_simulation_execution_time PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestPerformanceAndLoad::test_concurrent_requests_handling PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestAPIDocumentation::test_openapi_schema_accessibility PASSED [  6%]
tests/test_api_endpoints_comprehensive.py::TestAPIDocumentation::test_redoc_documentation_accessibility PASSED [  6%]
tests/test_character_system_comprehensive.py::TestCharacterLoading::test_all_generic_characters_loadable PASSED [  6%]
tests/test_character_system_comprehensive.py::TestCharacterLoading::test_character_directory_structure FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterLoading::test_character_metadata_validation FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterLoading::test_no_branded_content_in_characters PASSED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterLoading::test_character_load_error_handling PASSED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterLoading::test_character_context_loading PASSED [  7%]
tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_pilot_character_profile FAILED [  7%]
tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_scientist_character_profile FAILED [  7%]
tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_engineer_character_profile FAILED [  7%]
tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_test_character_profile FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_combat_stats_validity FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_psychological_profile_validity FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_equipment_completeness FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_character_relationships FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterFactory::test_character_factory_initialization PASSED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterFactory::test_character_creation_validation PASSED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterFactory::test_character_template_validation FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterMemorySystem::test_character_memory_initialization FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterMemorySystem::test_memory_persistence_across_sessions FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterMemorySystem::test_memory_log_format FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterInteractions::test_character_decision_making FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterInteractions::test_character_context_awareness PASSED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterInteractions::test_character_personality_consistency FAILED [  7%]
tests/test_character_system_comprehensive.py::TestCharacterInteractions::test_multi_character_simulation FAILED [  7%]
tests/test_character_system_comprehensive.py::TestPerformanceAndScalability::test_character_loading_performance PASSED [  8%]
tests/test_character_system_comprehensive.py::TestPerformanceAndScalability::test_multiple_character_memory_usage PASSED [  8%]
tests/test_character_system_comprehensive.py::TestPerformanceAndScalability::test_concurrent_character_operations FAILED [  8%]
tests/test_character_system_comprehensive.py::TestCharacterValidation::test_character_data_consistency FAILED [  8%]
tests/test_character_system_comprehensive.py::TestCharacterValidation::test_character_balance_validation FAILED [  8%]
tests/test_character_system_comprehensive.py::TestCharacterValidation::test_sci_fi_theme_consistency FAILED [  8%]
tests/test_data_models.py::TestSacredMemoryItem::test_memory_item_creation_blessed_by_omnissiah PASSED [  8%]
tests/test_data_models.py::TestSacredMemoryItem::test_memory_item_validation_blessed_by_purity PASSED [  8%]
tests/test_data_models.py::TestSacredMemoryItem::test_memory_item_bounds_sanctified_by_constraints PASSED [  8%]
tests/test_data_models.py::TestSacredCharacterIdentity::test_character_identity_creation_blessed_by_essence PASSED [  8%]
tests/test_data_models.py::TestSacredCharacterIdentity::test_character_identity_validation_blessed_by_requirements PASSED [  8%]
tests/test_data_models.py::TestSacredPhysicalCondition::test_physical_condition_creation_blessed_by_health PASSED [  8%]
tests/test_data_models.py::TestSacredPhysicalCondition::test_physical_condition_health_assessment_blessed_by_logic PASSED [  8%]
tests/test_data_models.py::TestSacredEquipmentItem::test_equipment_item_creation_blessed_by_gear PASSED [  8%]
tests/test_data_models.py::TestSacredEquipmentItem::test_equipment_item_validation_blessed_by_naming PASSED [  8%]
tests/test_data_models.py::TestSacredEquipmentItem::test_equipment_item_bounds_sanctified_by_limits PASSED [  8%]
tests/test_data_models.py::TestSacredEquipmentItem::test_equipment_functionality_blessed_by_condition PASSED [  8%]
tests/test_data_models.py::TestSacredEquipmentState::test_equipment_state_creation_blessed_by_inventory PASSED [  8%]
tests/test_data_models.py::TestSacredEquipmentState::test_equipment_combat_effectiveness_blessed_by_calculation PASSED [  8%]
tests/test_data_models.py::TestSacredEquipmentState::test_equipment_empty_combat_blessed_by_fallback PASSED [  8%]
tests/test_data_models.py::TestSacredRelationshipState::test_relationship_creation_blessed_by_bonds PASSED [  8%]
tests/test_data_models.py::TestSacredRelationshipState::test_relationship_validation_blessed_by_requirements PASSED [  8%]
tests/test_data_models.py::TestSacredRelationshipState::test_relationship_bounds_sanctified_by_limits PASSED [  8%]
tests/test_data_models.py::TestSacredRelationshipState::test_relationship_interaction_update_blessed_by_evolution PASSED [  9%]
tests/test_data_models.py::TestSacredCharacterState::test_character_state_creation_blessed_by_completeness PASSED [  9%]
tests/test_data_models.py::TestSacredCharacterState::test_character_combat_readiness_blessed_by_calculation PASSED [  9%]
tests/test_data_models.py::TestSacredDynamicContext::test_dynamic_context_creation_blessed_by_completeness PASSED [  9%]
tests/test_data_models.py::TestSacredDynamicContext::test_dynamic_context_validation_blessed_by_requirements PASSED [  9%]
tests/test_data_models.py::TestSacredDynamicContext::test_dynamic_context_memory_retrieval_blessed_by_filtering PASSED [  9%]
tests/test_data_models.py::TestSacredDynamicContext::test_dynamic_context_json_serialization_blessed_by_persistence PASSED [  9%]
tests/test_data_models.py::TestSacredInteractionStructures::test_character_interaction_creation_blessed_by_events PASSED [  9%]
tests/test_data_models.py::TestSacredInteractionStructures::test_character_interaction_validation_blessed_by_participants PASSED [  9%]
tests/test_data_models.py::TestSacredValidationFunctions::test_validate_blessed_data_model_success PASSED [  9%]
tests/test_data_models.py::TestSacredValidationFunctions::test_validate_blessed_data_model_failure PASSED [  9%]
tests/test_data_models.py::TestSacredPerformance::test_memory_item_creation_performance_blessed_by_speed PASSED [  9%]
tests/test_director_agent.py::TestDirectorAgent::test_handle_agent_action FAILED [  9%]
tests/test_director_agent.py::TestDirectorAgent::test_handle_agent_action_with_no_action FAILED [  9%]
tests/test_director_agent.py::TestDirectorAgent::test_initialization PASSED [  9%]
tests/test_director_agent.py::TestDirectorAgent::test_run_turn_emits_event FAILED [  9%]
tests/test_enhanced_bridge.py::TestBridgeConfiguration::test_default_configuration PASSED [  9%]
tests/test_enhanced_bridge.py::TestBridgeConfiguration::test_custom_configuration FAILED [  9%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_initialization ERROR [  9%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_component_initialization ERROR [  9%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_enhanced_turn_execution_no_agents ERROR [  9%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_enhanced_turn_execution_with_agents ERROR [  9%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_request_priority_determination ERROR [  9%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_status ERROR [ 10%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_execution_time_calculation ERROR [ 10%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_shutdown ERROR [ 10%]
tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_context_building ERROR [ 10%]
tests/test_enhanced_bridge.py::TestBridgeFactory::test_create_enhanced_bridge_success FAILED [ 10%]
tests/test_enhanced_bridge.py::TestBridgeFactory::test_create_enhanced_bridge_failure FAILED [ 10%]
tests/test_enhanced_bridge.py::TestBridgeIntegration::test_dialogue_manager_integration FAILED [ 10%]
tests/test_enhanced_bridge.py::TestBridgeIntegration::test_performance_monitoring FAILED [ 10%]
tests/test_error_handler.py::TestErrorContext::test_error_context_creation PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_error_handler_initialization PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_error_handling_basic PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_error_severity_detection PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_error_category_detection PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_recovery_strategy_selection PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_error_recovery_retry PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_error_deduplication PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_error_statistics PASSED [ 10%]
tests/test_error_handler.py::TestCentralizedErrorHandler::test_circuit_breaker PASSED [ 10%]
tests/test_error_handler.py::TestGlobalErrorHandler::test_global_error_handler PASSED [ 10%]
tests/test_event_bus.py::TestEventBus::test_callback_exception_handling PASSED [ 10%]
tests/test_event_bus.py::TestEventBus::test_emit_to_unsubscribed_event PASSED [ 10%]
tests/test_event_bus.py::TestEventBus::test_multiple_subscribers PASSED  [ 10%]
tests/test_event_bus.py::TestEventBus::test_subscribe_and_emit PASSED    [ 11%]
tests/test_event_integration.py::TestEventIntegration::test_full_turn_event_flow FAILED [ 11%]
tests/test_foundation.py::TestLegalFoundation::test_legal_file_exists PASSED [ 11%]
tests/test_foundation.py::TestLegalFoundation::test_legal_file_content PASSED [ 11%]
tests/test_foundation.py::TestLegalFoundation::test_legal_fan_mode_compliance PASSED [ 11%]
tests/test_foundation.py::TestLegalFoundation::test_notice_file_exists PASSED [ 11%]
tests/test_foundation.py::TestLegalFoundation::test_notice_file_content PASSED [ 11%]
tests/test_foundation.py::TestConfigurationFoundation::test_settings_yaml_exists PASSED [ 11%]
tests/test_foundation.py::TestConfigurationFoundation::test_settings_yaml_valid_syntax PASSED [ 11%]
tests/test_foundation.py::TestConfigurationFoundation::test_settings_yaml_required_sections PASSED [ 11%]
tests/test_foundation.py::TestConfigurationFoundation::test_legal_settings_configuration PASSED [ 11%]
tests/test_foundation.py::TestConfigurationFoundation::test_simulation_engine_settings PASSED [ 11%]
tests/test_foundation.py::TestDocumentationFoundation::test_adrs_directory_exists PASSED [ 11%]
tests/test_foundation.py::TestDocumentationFoundation::test_adrs_readme_exists PASSED [ 11%]
tests/test_foundation.py::TestDocumentationFoundation::test_core_adrs_exist PASSED [ 11%]
tests/test_foundation.py::TestDocumentationFoundation::test_developer_documentation_exists PASSED [ 11%]
tests/test_foundation.py::TestProjectStructure::test_directory_structure PASSED [ 11%]
tests/test_foundation.py::TestProjectStructure::test_private_directory_structure PASSED [ 11%]
tests/test_foundation.py::TestProjectStructure::test_file_permissions_security PASSED [ 11%]
tests/test_foundation.py::TestProjectStructure::test_readme_legal_disclaimer PASSED [ 11%]
tests/test_foundation.py::TestComplianceValidation::test_fan_mode_registry_structure PASSED [ 11%]
tests/test_foundation.py::TestComplianceValidation::test_ip_protection_mechanisms PASSED [ 11%]
tests/test_foundation.py::TestComplianceValidation::test_dmca_compliance_documentation PASSED [ 11%]
tests/test_integration_complete.py::TestCompleteSystemIntegration::test_iron_laws_integration ERROR [ 12%]
tests/test_integration_complete.py::TestCompleteSystemIntegration::test_state_hashing_integration SKIPPED [ 12%]
tests/test_integration_complete.py::TestCompleteSystemIntegration::test_semantic_caching_integration SKIPPED [ 12%]
tests/test_integration_complete.py::TestCompleteSystemIntegration::test_token_budget_integration SKIPPED [ 12%]
tests/test_integration_complete.py::TestCompleteSystemIntegration::test_evaluation_system_integration PASSED [ 12%]
tests/test_integration_complete.py::TestCompleteSystemIntegration::test_end_to_end_integration SKIPPED [ 12%]
tests/test_integration_complete.py::TestCompleteSystemIntegration::test_performance_integration SKIPPED [ 12%]
tests/test_integration_comprehensive.py::TestFullSystemIntegration::test_end_to_end_simulation_workflow FAILED [ 12%]
tests/test_integration_comprehensive.py::TestFullSystemIntegration::test_character_detail_to_simulation_integration PASSED [ 12%]
tests/test_integration_comprehensive.py::TestFullSystemIntegration::test_system_health_to_functionality_integration PASSED [ 12%]
tests/test_integration_comprehensive.py::TestFullSystemIntegration::test_multi_user_concurrent_simulation FAILED [ 12%]
tests/test_integration_comprehensive.py::TestAPIBackendIntegration::test_api_character_loading_backend_integration FAILED [ 12%]
tests/test_integration_comprehensive.py::TestAPIBackendIntegration::test_api_error_handling_backend_integration PASSED [ 12%]
tests/test_integration_comprehensive.py::TestAPIBackendIntegration::test_api_validation_backend_consistency PASSED [ 12%]
tests/test_integration_comprehensive.py::TestCharacterSimulationIntegration::test_character_loading_simulation_execution FAILED [ 12%]
tests/test_integration_comprehensive.py::TestCharacterSimulationIntegration::test_character_attributes_simulation_behavior FAILED [ 12%]
tests/test_integration_comprehensive.py::TestCharacterSimulationIntegration::test_multi_character_interaction_simulation FAILED [ 12%]
tests/test_integration_comprehensive.py::TestStoryGenerationPipeline::test_simulation_to_story_pipeline FAILED [ 12%]
tests/test_integration_comprehensive.py::TestStoryGenerationPipeline::test_character_context_story_integration FAILED [ 12%]
tests/test_integration_comprehensive.py::TestStoryGenerationPipeline::test_narrative_style_story_consistency FAILED [ 12%]
tests/test_integration_comprehensive.py::TestMultiComponentWorkflows::test_character_creation_to_simulation_workflow FAILED [ 12%]
tests/test_integration_comprehensive.py::TestMultiComponentWorkflows::test_error_recovery_multi_component_workflow FAILED [ 12%]
tests/test_integration_comprehensive.py::TestMultiComponentWorkflows::test_performance_multi_component_integration FAILED [ 12%]
tests/test_integration_comprehensive.py::TestPerformanceIntegration::test_concurrent_api_backend_performance PASSED [ 13%]
tests/test_integration_comprehensive.py::TestPerformanceIntegration::test_memory_usage_integration FAILED [ 13%]
tests/test_integration_comprehensive.py::TestErrorPropagationAndRecovery::test_character_loading_error_propagation PASSED [ 13%]
tests/test_integration_comprehensive.py::TestErrorPropagationAndRecovery::test_simulation_error_recovery_integration PASSED [ 13%]
tests/test_integration_comprehensive.py::TestErrorPropagationAndRecovery::test_story_generation_error_handling_integration FAILED [ 13%]
tests/test_integration_comprehensive.py::TestSecurityValidationIntegration::test_input_validation_api_to_backend PASSED [ 13%]
tests/test_integration_comprehensive.py::TestSecurityValidationIntegration::test_brand_content_validation_integration FAILED [ 13%]
tests/test_integration_comprehensive.py::TestSecurityValidationIntegration::test_data_integrity_across_components PASSED [ 13%]
tests/test_iron_laws.py::TestIronLawsValidation::test_iron_laws_validation_core ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsValidation::test_causality_law_validation ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsValidation::test_resource_law_validation ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsValidation::test_physics_law_validation ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsValidation::test_narrative_law_validation ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsValidation::test_social_law_validation ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsRepairSystem::test_causality_repair ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsRepairSystem::test_resource_repair ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsRepairSystem::test_physics_repair ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsRepairSystem::test_narrative_repair ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsRepairSystem::test_social_repair ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsRepairSystem::test_comprehensive_repair_attempt ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsHelperMethods::test_group_violations_by_law ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsHelperMethods::test_get_current_world_context ERROR [ 13%]
tests/test_iron_laws.py::TestIronLawsHelperMethods::test_determine_overall_validation_result ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsHelperMethods::test_calculate_action_stamina_cost ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsIntegration::test_iron_laws_during_turn_processing ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsIntegration::test_iron_laws_error_handling ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsIntegration::test_iron_laws_performance_tracking ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsEdgeCases::test_invalid_action_handling ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsEdgeCases::test_malformed_character_data_handling ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsEdgeCases::test_resource_calculation_edge_cases ERROR [ 14%]
tests/test_iron_laws.py::TestIronLawsEdgeCases::test_repair_system_edge_cases ERROR [ 14%]
tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_handles_api_failure_and_uses_fallback FAILED [ 14%]
tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_handles_invalid_response FAILED [ 14%]
tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_handles_observe_action FAILED [ 14%]
tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_returns_action FAILED [ 14%]
tests/test_llm_integration.py::TestLLMIntegration::test_llm_uses_fallback_when_no_api_key FAILED [ 14%]
tests/test_logging_system.py::TestLogContext::test_log_context_creation PASSED [ 14%]
tests/test_logging_system.py::TestLogContext::test_log_context_with_values PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_structured_logger_initialization PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_context_management PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_basic_logging PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_logging_with_context PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_error_logging PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_performance_tracking PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_performance_context_manager PASSED [ 14%]
tests/test_logging_system.py::TestStructuredLogger::test_audit_logging PASSED [ 15%]
tests/test_logging_system.py::TestStructuredLogger::test_security_logging PASSED [ 15%]
tests/test_logging_system.py::TestStructuredLogger::test_logger_statistics PASSED [ 15%]
tests/test_logging_system.py::TestPerformanceTracker::test_performance_tracker_creation PASSED [ 15%]
tests/test_logging_system.py::TestPerformanceTracker::test_performance_tracker_metrics PASSED [ 15%]
tests/test_logging_system.py::TestStructuredFormatter::test_json_formatter PASSED [ 15%]
tests/test_logging_system.py::TestStructuredFormatter::test_readable_formatter PASSED [ 15%]
tests/test_logging_system.py::TestStructuredFormatter::test_formatter_with_none_component PASSED [ 15%]
tests/test_logging_system.py::TestLoggerFactory::test_get_logger PASSED  [ 15%]
tests/test_logging_system.py::TestLoggerFactory::test_configure_defaults PASSED [ 15%]
tests/test_performance_optimizations.py::TestWebSocketOptimizations::test_connection_pool_creation PASSED [ 15%]
tests/test_performance_optimizations.py::TestWebSocketOptimizations::test_connection_pool_add_remove PASSED [ 15%]
tests/test_performance_optimizations.py::TestWebSocketOptimizations::test_connection_pool_cleanup PASSED [ 15%]
tests/test_performance_optimizations.py::TestWebSocketOptimizations::test_story_generation_api_semaphore FAILED [ 15%]
tests/test_performance_optimizations.py::TestWebSocketOptimizations::test_optimized_progress_broadcast PASSED [ 15%]
tests/test_performance_optimizations.py::TestPerformanceCache::test_memory_cache_basic_operations PASSED [ 15%]
tests/test_performance_optimizations.py::TestPerformanceCache::test_cache_ttl_expiration PASSED [ 15%]
tests/test_performance_optimizations.py::TestPerformanceCache::test_cache_levels_and_eviction PASSED [ 15%]
tests/test_performance_optimizations.py::TestPerformanceCache::test_cache_statistics PASSED [ 15%]
tests/test_performance_optimizations.py::TestPerformanceCache::test_cache_invalidation_patterns PASSED [ 15%]
tests/test_performance_optimizations.py::TestIntegratedPerformance::test_concurrent_story_generations PASSED [ 15%]
tests/test_performance_optimizations.py::TestIntegratedPerformance::test_memory_usage_efficiency PASSED [ 15%]
tests/test_performance_optimizations.py::TestIntegratedPerformance::test_websocket_connection_resilience PASSED [ 15%]
tests/test_performance_optimizations.py::TestFrontendOptimizations::test_api_cache_deduplication PASSED [ 16%]
tests/test_performance_optimizations.py::TestFrontendOptimizations::test_mobile_responsive_behavior PASSED [ 16%]
tests/test_persona_agent.py::TestPersonaAgent::test_handle_turn_start_emits_action FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgent::test_handle_turn_start_with_no_action FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgent::test_initialization_subscribes_to_turn_start FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_character_properties FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_derive_agent_id_from_path FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_estimate_trait_strength FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_load_character_context_missing_directory FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_load_character_context_success FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_parse_character_sheet_content FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_read_cached_file FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_assess_current_situation FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_assess_threat_levels FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_decision_weight_application FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_evaluate_action_option FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_identify_available_actions FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_make_decision_ai_fallback FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_make_decision_with_world_state FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_parse_llm_response FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentWorldInterpretation::test_memory_integration FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentWorldInterpretation::test_subjective_worldview_initialization FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentWorldInterpretation::test_world_event_processing FAILED [ 16%]
tests/test_persona_agent.py::TestPersonaAgentAIIntegration::test_ai_query_with_valid_api_key FAILED [ 17%]
tests/test_persona_agent.py::TestPersonaAgentAIIntegration::test_ai_query_without_api_key FAILED [ 17%]
tests/test_persona_agent.py::TestPersonaAgentAIIntegration::test_api_error_handling FAILED [ 17%]
tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_long_term_memory_consolidation FAILED [ 17%]
tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_morale_and_status_tracking FAILED [ 17%]
tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_relationship_evolution FAILED [ 17%]
tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_short_term_memory_management FAILED [ 17%]
tests/test_persona_core.py::TestAgentIdentity::test_agent_identity_creation PASSED [ 17%]
tests/test_persona_core.py::TestAgentIdentity::test_agent_identity_defaults FAILED [ 17%]
tests/test_persona_core.py::TestPersonaCore::test_persona_core_initialization FAILED [ 17%]
tests/test_persona_core.py::TestPersonaCore::test_persona_core_activation FAILED [ 17%]
tests/test_persona_core.py::TestPersonaCore::test_persona_core_file_operations FAILED [ 17%]
tests/test_persona_core.py::TestPersonaCore::test_persona_core_status FAILED [ 17%]
tests/test_persona_core.py::TestPersonaCore::test_persona_core_error_handling FAILED [ 17%]
tests/test_persona_core.py::TestPersonaCore::test_persona_core_component_integration FAILED [ 17%]
tests/test_persona_core.py::TestPersonaCoreIntegration::test_event_bus_integration FAILED [ 17%]
tests/test_quality_framework.py::TestDataModels::test_character_creation PASSED [ 17%]
tests/test_quality_framework.py::TestDataModels::test_character_validation PASSED [ 17%]
tests/test_quality_framework.py::TestDataModels::test_world_state_creation FAILED [ 17%]
tests/test_quality_framework.py::TestDataModels::test_action_result_creation PASSED [ 17%]
tests/test_quality_framework.py::TestDataModels::test_campaign_state_creation PASSED [ 17%]
tests/test_quality_framework.py::TestSystemOrchestrator::test_orchestrator_initialization PASSED [ 17%]
tests/test_quality_framework.py::TestSystemOrchestrator::test_orchestrator_startup PASSED [ 18%]
tests/test_quality_framework.py::TestSystemOrchestrator::test_orchestrator_shutdown PASSED [ 18%]
tests/test_quality_framework.py::TestEventBus::test_event_bus_initialization PASSED [ 18%]
tests/test_quality_framework.py::TestEventBus::test_event_subscription_and_publishing PASSED [ 18%]
tests/test_quality_framework.py::TestEventBus::test_event_unsubscription PASSED [ 18%]
tests/test_quality_framework.py::TestContextDatabase::test_database_initialization PASSED [ 18%]
tests/test_quality_framework.py::TestContextDatabase::test_database_schema_creation PASSED [ 18%]
tests/test_quality_framework.py::TestContextDatabase::test_context_storage_and_retrieval PASSED [ 18%]
tests/test_quality_framework.py::TestPersonaAgent::test_persona_agent_initialization PASSED [ 18%]
tests/test_quality_framework.py::TestPersonaAgent::test_persona_agent_decision_making PASSED [ 18%]
tests/test_quality_framework.py::TestPersonaAgent::test_persona_agent_skill_check PASSED [ 18%]
tests/test_quality_framework.py::TestDirectorAgent::test_director_agent_initialization PASSED [ 18%]
tests/test_quality_framework.py::TestDirectorAgent::test_director_agent_turn_processing PASSED [ 18%]
tests/test_quality_framework.py::TestDirectorAgent::test_director_agent_narrative_generation PASSED [ 18%]
tests/test_quality_framework.py::TestSharedTypes::test_shared_types_availability PASSED [ 18%]
tests/test_quality_framework.py::TestSharedTypes::test_action_type_enumeration PASSED [ 18%]
tests/test_quality_framework.py::TestSharedTypes::test_decision_type_enumeration PASSED [ 18%]
tests/test_quality_framework.py::TestIntegrationScenarios::test_full_system_startup_and_shutdown PASSED [ 18%]
tests/test_quality_framework.py::TestIntegrationScenarios::test_character_interaction_workflow FAILED [ 18%]
tests/test_quality_framework.py::TestIntegrationScenarios::test_narrative_generation_pipeline PASSED [ 18%]
tests/test_quality_framework.py::TestErrorHandling::test_invalid_character_data_handling PASSED [ 18%]
tests/test_quality_framework.py::TestErrorHandling::test_malformed_world_state_handling FAILED [ 18%]
tests/test_quality_framework.py::TestErrorHandling::test_database_connection_failure_handling PASSED [ 18%]
tests/test_quality_framework.py::TestErrorHandling::test_event_bus_error_propagation PASSED [ 19%]
tests/test_quality_framework.py::TestPerformanceRequirements::test_character_creation_performance PASSED [ 19%]
tests/test_quality_framework.py::TestPerformanceRequirements::test_event_processing_performance PASSED [ 19%]
tests/test_quality_framework.py::TestSecurityRequirements::test_input_sanitization PASSED [ 19%]
tests/test_quality_framework.py::TestSecurityRequirements::test_data_validation_boundaries PASSED [ 19%]
tests/test_quality_framework.py::TestSecurityRequirements::test_configuration_security PASSED [ 19%]
tests/test_schemas.py::TestEnumTypes::test_action_type_values PASSED     [ 19%]
tests/test_schemas.py::TestEnumTypes::test_entity_type_values PASSED     [ 19%]
tests/test_schemas.py::TestEnumTypes::test_validation_result_values PASSED [ 19%]
tests/test_schemas.py::TestEnumTypes::test_fog_of_war_channel_values PASSED [ 19%]
tests/test_schemas.py::TestEnumTypes::test_simulation_phase_values PASSED [ 19%]
tests/test_schemas.py::TestSpatialTypes::test_position_creation_valid PASSED [ 19%]
tests/test_schemas.py::TestSpatialTypes::test_position_defaults PASSED   [ 19%]
tests/test_schemas.py::TestSpatialTypes::test_position_facing_validation PASSED [ 19%]
tests/test_schemas.py::TestSpatialTypes::test_position_accuracy_validation PASSED [ 19%]
tests/test_schemas.py::TestSpatialTypes::test_bounding_box_valid PASSED  [ 19%]
tests/test_schemas.py::TestSpatialTypes::test_bounding_box_validation_errors PASSED [ 19%]
tests/test_schemas.py::TestSpatialTypes::test_area_creation PASSED       [ 19%]
tests/test_schemas.py::TestResourceTypes::test_resource_value_valid PASSED [ 19%]
tests/test_schemas.py::TestResourceTypes::test_resource_value_validation PASSED [ 19%]
tests/test_schemas.py::TestResourceTypes::test_resource_value_percentage_calculation PASSED [ 19%]
tests/test_schemas.py::TestResourceTypes::test_equipment_creation PASSED [ 19%]
tests/test_schemas.py::TestResourceTypes::test_equipment_defaults PASSED [ 19%]
tests/test_schemas.py::TestResourceTypes::test_equipment_validation PASSED [ 20%]
tests/test_schemas.py::TestCharacterTypes::test_character_stats_valid PASSED [ 20%]
tests/test_schemas.py::TestCharacterTypes::test_character_stats_validation PASSED [ 20%]
tests/test_schemas.py::TestCharacterTypes::test_character_resources_creation PASSED [ 20%]
tests/test_schemas.py::TestCharacterTypes::test_character_state_defaults PASSED [ 20%]
tests/test_schemas.py::TestCharacterTypes::test_character_state_validation PASSED [ 20%]
tests/test_schemas.py::TestCharacterTypes::test_character_data_full_creation PASSED [ 20%]
tests/test_schemas.py::TestActionTypes::test_action_target_creation PASSED [ 20%]
tests/test_schemas.py::TestActionTypes::test_action_parameters_defaults PASSED [ 20%]
tests/test_schemas.py::TestActionTypes::test_action_parameters_validation PASSED [ 20%]
tests/test_schemas.py::TestActionTypes::test_proposed_action_creation PASSED [ 20%]
tests/test_schemas.py::TestActionTypes::test_proposed_action_confidence_validation PASSED [ 20%]
tests/test_schemas.py::TestActionTypes::test_validated_action_creation PASSED [ 20%]
tests/test_schemas.py::TestIronLawsTypes::test_iron_laws_violation_creation PASSED [ 20%]
tests/test_schemas.py::TestIronLawsTypes::test_iron_laws_report_creation PASSED [ 20%]
tests/test_schemas.py::TestIronLawsTypes::test_iron_laws_report_properties PASSED [ 20%]
tests/test_schemas.py::TestWorldStateTypes::test_world_entity_creation PASSED [ 20%]
tests/test_schemas.py::TestWorldStateTypes::test_environmental_condition_creation PASSED [ 20%]
tests/test_schemas.py::TestWorldStateTypes::test_world_state_creation PASSED [ 20%]
tests/test_schemas.py::TestWorldStateTypes::test_world_state_utility_methods PASSED [ 20%]
tests/test_schemas.py::TestFogOfWarTypes::test_information_source_creation PASSED [ 20%]
tests/test_schemas.py::TestFogOfWarTypes::test_information_fragment_creation PASSED [ 20%]
tests/test_schemas.py::TestFogOfWarTypes::test_fog_of_war_filter_creation PASSED [ 21%]
tests/test_schemas.py::TestFogOfWarTypes::test_filtered_world_view_creation PASSED [ 21%]
tests/test_schemas.py::TestTurnBriefTypes::test_knowledge_fragment_creation PASSED [ 21%]
tests/test_schemas.py::TestTurnBriefTypes::test_contextual_prompt_creation PASSED [ 21%]
tests/test_schemas.py::TestTurnBriefTypes::test_contextual_prompt_compilation PASSED [ 21%]
tests/test_schemas.py::TestTurnBriefTypes::test_turn_brief_creation PASSED [ 21%]
tests/test_schemas.py::TestSimulationTypes::test_simulation_config_defaults PASSED [ 21%]
tests/test_schemas.py::TestSimulationTypes::test_simulation_config_validation PASSED [ 21%]
tests/test_schemas.py::TestSimulationTypes::test_simulation_state_creation PASSED [ 21%]
tests/test_schemas.py::TestSimulationTypes::test_turn_result_creation PASSED [ 21%]
tests/test_schemas.py::TestAPITypes::test_api_response_success PASSED    [ 21%]
tests/test_schemas.py::TestAPITypes::test_api_response_error PASSED      [ 21%]
tests/test_schemas.py::TestAPITypes::test_system_status_creation PASSED  [ 21%]
tests/test_schemas.py::TestAPITypes::test_system_status_validation PASSED [ 21%]
tests/test_schemas.py::TestPerformanceTypes::test_cache_entry_creation PASSED [ 21%]
tests/test_schemas.py::TestPerformanceTypes::test_cache_entry_expiration PASSED [ 21%]
tests/test_schemas.py::TestPerformanceTypes::test_performance_metrics_creation PASSED [ 21%]
tests/test_schemas.py::TestPerformanceTypes::test_performance_metrics_validation PASSED [ 21%]
tests/test_schemas.py::TestConsistencyTypes::test_state_hash_creation PASSED [ 21%]
tests/test_schemas.py::TestConsistencyTypes::test_state_hash_validation PASSED [ 21%]
tests/test_schemas.py::TestConsistencyTypes::test_consistency_check_creation PASSED [ 21%]
tests/test_schemas.py::TestModelRegistry::test_model_registry_contains_expected_models PASSED [ 21%]
tests/test_schemas.py::TestModelRegistry::test_model_registry_types_are_pydantic_models PASSED [ 21%]
tests/test_schemas.py::TestModelRegistry::test_model_creation_from_registry PASSED [ 22%]
tests/test_schemas.py::TestJSONSerialization::test_character_data_json_roundtrip PASSED [ 22%]
tests/test_schemas.py::TestJSONSerialization::test_world_state_json_serialization PASSED [ 22%]
tests/test_schemas.py::TestJSONSerialization::test_iron_laws_report_json_serialization PASSED [ 22%]
tests/test_security_framework.py::TestSecurityService::test_user_registration FAILED [ 22%]
tests/test_security_framework.py::TestSecurityService::test_duplicate_user_registration FAILED [ 22%]
tests/test_security_framework.py::TestSecurityService::test_user_authentication FAILED [ 22%]
tests/test_security_framework.py::TestSecurityService::test_account_lockout FAILED [ 22%]
tests/test_security_framework.py::TestSecurityService::test_token_creation_and_refresh FAILED [ 22%]
tests/test_security_framework.py::TestSecurityService::test_role_permissions PASSED [ 22%]
tests/test_security_framework.py::TestSecurityService::test_api_key_generation FAILED [ 22%]
tests/test_security_framework.py::TestInputValidator::test_sql_injection_detection PASSED [ 22%]
tests/test_security_framework.py::TestInputValidator::test_xss_detection PASSED [ 22%]
tests/test_security_framework.py::TestInputValidator::test_command_injection_detection PASSED [ 22%]
tests/test_security_framework.py::TestInputValidator::test_path_traversal_detection PASSED [ 22%]
tests/test_security_framework.py::TestInputValidator::test_valid_input_passes FAILED [ 22%]
tests/test_security_framework.py::TestInputValidator::test_json_validation PASSED [ 22%]
tests/test_security_framework.py::TestRateLimiter::test_rate_limiting_allows_normal_requests FAILED [ 22%]
tests/test_security_framework.py::TestRateLimiter::test_rate_limiting_blocks_excessive_requests PASSED [ 22%]
tests/test_security_framework.py::TestRateLimiter::test_threat_detection FAILED [ 22%]
tests/test_security_framework.py::TestRateLimiter::test_ip_blacklist PASSED [ 22%]
tests/test_security_framework.py::TestRateLimiter::test_ip_whitelist PASSED [ 22%]
tests/test_security_framework.py::TestSecurityHeaders::test_csp_header_construction PASSED [ 22%]
tests/test_security_framework.py::TestSecurityHeaders::test_security_headers_application PASSED [ 23%]
tests/test_security_framework.py::TestSecurityHeaders::test_hsts_header_construction PASSED [ 23%]
tests/test_security_framework.py::TestSecurityHeaders::test_permissions_policy_construction PASSED [ 23%]
tests/test_security_framework.py::TestDataProtection::test_encryption_service PASSED [ 23%]
tests/test_security_framework.py::TestDataProtection::test_dictionary_encryption PASSED [ 23%]
tests/test_security_framework.py::TestDataProtection::test_consent_management FAILED [ 23%]
tests/test_security_framework.py::TestDataProtection::test_data_encryption_by_type FAILED [ 23%]
tests/test_security_framework.py::TestDataProtection::test_data_retention_scheduling FAILED [ 23%]
tests/test_security_framework.py::TestSecurityLogging::test_security_event_logging FAILED [ 23%]
tests/test_security_framework.py::TestSecurityLogging::test_security_statistics FAILED [ 23%]
tests/test_security_framework.py::TestSecurityLogging::test_threat_detection_logging FAILED [ 23%]
tests/test_security_framework.py::TestIntegratedSecurity::test_end_to_end_security_flow PASSED [ 23%]
tests/test_security_framework.py::TestIntegratedSecurity::test_security_middleware_integration PASSED [ 23%]
tests/test_security_framework.py::test_performance_under_load FAILED     [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_startup_guard_initialization PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_configuration_success PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_configuration_missing_file PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_configuration_invalid_yaml PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_configuration_missing_sections PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_configuration_iron_laws_disabled PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_legal_compliance_success PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_legal_compliance_missing_legal_file PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_legal_compliance_missing_notice_file PASSED [ 23%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_legal_compliance_fan_mode_registry_creation PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_file_structure_creates_directories FAILED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_file_structure_missing_required_files PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_file_structure_creates_private_gitignore PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_external_dependencies_missing_packages FAILED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_external_dependencies_with_api_keys FAILED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_knowledge_base_creates_structure PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_api_readiness_success PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_api_readiness_cors_warning PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_all_success FAILED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_validate_all_failure PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuard::test_get_system_status PASSED [ 24%]
tests/test_startup_guards.py::TestKnowledgeBaseBuilder::test_knowledge_base_builder_initialization PASSED [ 24%]
tests/test_startup_guards.py::TestKnowledgeBaseBuilder::test_build_kb_success FAILED [ 24%]
tests/test_startup_guards.py::TestKnowledgeBaseBuilder::test_create_iron_laws_template PASSED [ 24%]
tests/test_startup_guards.py::TestKnowledgeBaseBuilder::test_create_fog_of_war_template PASSED [ 24%]
tests/test_startup_guards.py::TestKnowledgeBaseBuilder::test_create_narrative_templates PASSED [ 24%]
tests/test_startup_guards.py::TestStartupGuardIntegration::test_complete_system_validation FAILED [ 24%]
tests/test_startup_guards.py::TestStartupGuardIntegration::test_system_validation_with_warnings FAILED [ 24%]
tests/test_startup_guards.py::TestStartupGuardIntegration::test_startup_guard_error_recovery PASSED [ 24%]
tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_chronicler_initialization FAILED [ 24%]
tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_narrative_templates_debranded FAILED [ 24%]
tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_faction_descriptions_generic FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_narrative_style_management FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_campaign_log_parsing FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_narrative_segment_generation FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_length_adequacy FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_structure_coherence FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_character_integration_in_stories FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_atmosphere_consistency FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_readability FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestDebrandingValidation::test_no_branded_content_in_generated_stories FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestDebrandingValidation::test_generic_faction_usage_in_stories FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestDebrandingValidation::test_sci_fi_theme_replacement FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestNarrativeStyleAndTone::test_sci_fi_dramatic_style FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestNarrativeStyleAndTone::test_tactical_style FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestNarrativeStyleAndTone::test_philosophical_style FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestCharacterIntegration::test_multiple_character_story_generation FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestCharacterIntegration::test_character_faction_integration FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestTemplateAndPatternSystems::test_response_template_variety FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestTemplateAndPatternSystems::test_narrative_opening_templates FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestPerformanceAndScalability::test_story_generation_performance FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestPerformanceAndScalability::test_large_log_handling FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_empty_log_handling FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_malformed_log_handling FAILED [ 25%]
tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_nonexistent_log_handling FAILED [ 26%]
tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_corrupted_log_recovery FAILED [ 26%]
tests/test_term_guard.py::TestFilterRule::test_filter_rule_creation PASSED [ 26%]
tests/test_term_guard.py::TestFilterRule::test_filter_rule_defaults PASSED [ 26%]
tests/test_term_guard.py::TestIPViolation::test_ip_violation_creation PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_term_guard_initialization PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_term_guard_default_initialization PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_analyze_content_basic PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_analyze_content_whitelist PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_clean_content_replace PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_clean_content_block PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_clean_content_analyze_only PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_generic_replacement_generation PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_compliance_report_generation PASSED [ 26%]
tests/test_term_guard.py::TestTermGuard::test_compliance_report_empty PASSED [ 26%]
tests/test_term_guard.py::TestTermGuardIntegration::test_complex_content_cleaning PASSED [ 26%]
tests/test_term_guard.py::TestTermGuardIntegration::test_configuration_error_handling PASSED [ 26%]
tests/test_term_guard.py::TestTermGuardIntegration::test_regex_error_handling PASSED [ 26%]
tests/test_term_guard.py::TestTermGuardCLI::test_cli_analyze_only PASSED [ 26%]
tests/test_term_guard.py::TestTermGuardCLI::test_cli_clean_with_output PASSED [ 26%]
tests/test_term_guard.py::TestTermGuardCLI::test_cli_compliance_report PASSED [ 26%]
tests/test_term_guard.py::TestTermGuardCLI::test_cli_file_not_found PASSED [ 26%]
tests/test_user_stories.py::TestUserStories::test_story_1_character_creation_basic ERROR [ 26%]
tests/test_user_stories.py::TestUserStories::test_story_1_character_customization ERROR [ 27%]
tests/test_user_stories.py::TestUserStories::test_story_1_validation_requirements ERROR [ 27%]
tests/test_user_stories.py::TestUserStories::test_story_2_interaction_initiation ERROR [ 27%]
tests/test_user_stories.py::TestUserStories::test_story_2_real_time_monitoring ERROR [ 27%]
tests/test_user_stories.py::TestUserStories::test_story_3_memory_formation FAILED [ 27%]
tests/test_user_stories.py::TestUserStories::test_story_3_relationship_evolution FAILED [ 27%]
tests/test_user_stories.py::TestUserStories::test_system_health_and_metrics ERROR [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentComponents::test_agent_lifecycle_manager_agent_registration PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentComponents::test_agent_lifecycle_manager_initialization PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentComponents::test_campaign_logging_service PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentComponents::test_configuration_service PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentComponents::test_error_handler PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentComponents::test_world_state_manager_initialization PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentComponents::test_world_state_manager_save_load PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentIntegration::test_async_director_creation PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentIntegration::test_backward_compatibility_interface PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentIntegration::test_component_access_properties PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentIntegration::test_director_agent_creation PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentIntegration::test_director_agent_factory_functions PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestDirectorAgentIntegration::test_enhanced_interface_methods PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestSystemResilience::test_component_failure_isolation PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestSystemResilience::test_error_recovery PASSED [ 27%]
tests/unit/agents/test_director_refactored.py::TestSystemResilience::test_initialization_resilience PASSED [ 28%]
tests/unit/agents/test_persona_modular.py::test_persona_agent_initialization PASSED [ 28%]
tests/unit/agents/test_persona_modular.py::test_decision_making PASSED   [ 28%]
tests/unit/agents/test_persona_modular.py::test_response_generation PASSED [ 28%]
tests/unit/agents/test_persona_modular.py::test_world_event_processing PASSED [ 28%]
tests/unit/agents/test_persona_modular.py::test_data_access_methods PASSED [ 28%]
tests/unit/agents/test_persona_modular.py::test_integration_statistics PASSED [ 28%]
tests/unit/agents/test_persona_modular.py::test_factory_function PASSED  [ 28%]
tests/unit/agents/test_persona_modular.py::test_backward_compatibility PASSED [ 28%]
tests/unit/agents/test_persona_modular.py::test_error_handling PASSED    [ 28%]
tests/unit/agents/test_persona_refactored.py::test_persona_core PASSED   [ 28%]
tests/unit/agents/test_persona_refactored.py::test_character_context_manager PASSED [ 28%]
tests/unit/agents/test_persona_refactored.py::test_decision_engine PASSED [ 28%]
tests/unit/agents/test_persona_refactored.py::test_refactored_persona_agent PASSED [ 28%]
tests/unit/agents/test_persona_refactored.py::test_performance_improvements PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionConfig::test_default_config_creation PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionConfig::test_custom_config_creation PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionResult::test_basic_result_creation PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionResult::test_result_with_all_parameters PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionResult::test_total_tokens_property PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionResult::test_total_tokens_property_empty PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionResult::test_total_cost_property PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestLLMExecutionResult::test_total_cost_property_no_cost_entry PASSED [ 28%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_router_initialization PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_register_provider PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_register_multiple_providers PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_get_provider_existing PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_get_provider_non_existing PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_select_provider_for_model_preferred PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_select_provider_for_model_fallback_to_any PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_select_provider_for_model_with_fallback PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_select_provider_for_model_no_match PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_can_handle_model_true PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_can_handle_model_false PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_is_provider_healthy_true PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_is_provider_healthy_false_not_available PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_is_provider_healthy_false_too_many_failures PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestProviderRouter::test_is_provider_healthy_unknown_provider PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceInitialization::test_initialization_minimal PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceInitialization::test_initialization_with_all_dependencies PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceInitialization::test_register_provider PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_successful_flow PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_cache_hit PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_rate_limited PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_budget_exceeded PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_no_provider_available PASSED [ 29%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_without_retry_policy PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_with_exception PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_caching_disabled PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_rate_limiting_disabled PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_budget_enforcement_disabled PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceExecution::test_execute_async_post_execution_processing PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStreamingExecution::test_execute_stream_async_successful PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStreamingExecution::test_execute_stream_async_rate_limited PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStreamingExecution::test_execute_stream_async_no_provider PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStreamingExecution::test_execute_stream_async_provider_exception PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStreamingExecution::test_execute_stream_async_rate_limiting_disabled PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStatisticsAndMetrics::test_get_execution_stats_async_with_requests PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStatisticsAndMetrics::test_get_execution_stats_async_no_requests PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStatisticsAndMetrics::test_estimate_request_cost_with_model_pricing PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStatisticsAndMetrics::test_estimate_request_cost_no_pricing PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStatisticsAndMetrics::test_estimate_request_cost_no_max_tokens PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceStatisticsAndMetrics::test_record_cached_usage PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceIntegration::test_minimal_execution_flow PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceIntegration::test_provider_selection_with_preferences PASSED [ 30%]
tests/unit/contexts/ai/application/test_execute_llm_service.py::TestExecuteLLMServiceIntegration::test_error_handling_and_statistics PASSED [ 30%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderTypeEnum::test_all_provider_types_exist PASSED [ 30%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderTypeEnum::test_provider_type_string_values PASSED [ 30%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderTypeEnum::test_provider_type_str_method PASSED [ 30%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderTypeEnum::test_provider_type_uniqueness PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderTypeEnum::test_provider_type_membership PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelCapabilityEnum::test_all_model_capabilities_exist PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelCapabilityEnum::test_model_capability_string_values PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelCapabilityEnum::test_model_capability_str_method PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelCapabilityEnum::test_model_capability_uniqueness PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelCapabilityEnum::test_model_capability_membership PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdCreation::test_create_minimal_provider_id PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdCreation::test_create_full_provider_id PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdCreation::test_create_provider_id_with_string_key PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdCreation::test_frozen_dataclass_immutability PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_empty_provider_name_raises_error PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_invalid_provider_name_length_raises_errors PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_invalid_provider_name_characters_raise_errors PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_valid_provider_name_characters PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_invalid_provider_type_raises_error PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_invalid_api_version_format_raises_error PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_valid_api_version_formats PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_invalid_region_code_raises_errors PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdValidation::test_valid_region_codes PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdFactoryMethods::test_create_openai_default PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdFactoryMethods::test_create_openai_custom_params PASSED [ 31%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdFactoryMethods::test_create_anthropic_default PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdFactoryMethods::test_create_anthropic_custom_params PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdFactoryMethods::test_create_custom_provider PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdMethods::test_is_official_provider PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdMethods::test_supports_region PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdMethods::test_get_display_name PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestProviderIdMethods::test_str_representation PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdCreation::test_create_minimal_model_id PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdCreation::test_create_full_model_id PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdCreation::test_frozen_dataclass_immutability PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_empty_model_name_raises_error PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_invalid_model_name_length_raises_errors PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_invalid_model_name_characters_raise_errors PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_valid_model_name_characters PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_invalid_provider_id_raises_error PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_invalid_token_limits_raise_errors PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_invalid_costs_raise_errors PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdValidation::test_invalid_capabilities_raise_error PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdFactoryMethods::test_create_gpt4 PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdFactoryMethods::test_create_claude_default PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdFactoryMethods::test_create_claude_opus PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdFactoryMethods::test_create_claude_unknown_variant_uses_default PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdMethods::test_supports_capability PASSED [ 32%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdMethods::test_estimate_cost PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdMethods::test_estimate_cost_zero_tokens PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdMethods::test_can_handle_context PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdMethods::test_get_effective_context_limit PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdMethods::test_is_deprecated PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestModelIdMethods::test_str_representation PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetCreation::test_create_minimal_token_budget PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetCreation::test_create_full_token_budget PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetCreation::test_frozen_dataclass_immutability PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_empty_budget_id_raises_error PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_invalid_budget_id_length_raises_errors PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_invalid_budget_id_characters_raise_error PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_valid_budget_id_characters PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_invalid_token_values_raise_errors PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_token_budget_over_allocation_allowed PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_invalid_cost_values_raise_errors PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetValidation::test_invalid_priority_raises_error PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetFactoryMethods::test_create_daily_budget_default PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetFactoryMethods::test_create_daily_budget_with_cost_limit PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetFactoryMethods::test_create_project_budget PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_get_available_tokens PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_get_available_tokens_negative_protected PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_get_utilization_percentage PASSED [ 33%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_get_utilization_percentage_zero_allocation PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_get_cost_utilization_percentage PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_get_cost_utilization_percentage_zero_limit PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_can_reserve_tokens PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_can_afford_cost PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_reserve_tokens PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_reserve_tokens_insufficient_budget PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_consume_tokens PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_consume_tokens_more_than_reserved PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_consume_tokens_exceeds_budget PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_consume_tokens_exceeds_cost_limit PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_is_exhausted PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_is_near_exhaustion PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_get_budget_summary PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetMethods::test_str_representation PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetEquality::test_equality_same_values PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetEquality::test_inequality_different_values PASSED [ 34%]
tests/unit/contexts/ai/domain/test_common_value_objects.py::TestTokenBudgetEquality::test_equality_in_collections PASSED [ 34%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestTypeEnum::test_all_request_types_exist PASSED [ 34%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestTypeEnum::test_request_type_string_values PASSED [ 34%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestTypeEnum::test_request_type_str_method PASSED [ 34%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestTypeEnum::test_request_type_uniqueness PASSED [ 34%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseStatusEnum::test_all_response_statuses_exist PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseStatusEnum::test_response_status_string_values PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseStatusEnum::test_response_status_str_method PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_basic_request_creation PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_creation_with_all_parameters PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_request_id PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_request_type PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_model_id PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_empty_prompt PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_temperature PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_top_p PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_penalties PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_max_tokens PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_max_tokens_exceeds_model_limit PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_invalid_timeout PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestCreation::test_request_validation_duplicate_stop_sequences PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestFactoryMethods::test_create_chat_request_basic PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestFactoryMethods::test_create_chat_request_with_system_prompt PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestFactoryMethods::test_create_chat_request_with_custom_metadata PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestFactoryMethods::test_create_completion_request_basic PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestFactoryMethods::test_create_completion_request_with_parameters PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_estimate_input_tokens PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_estimate_input_tokens_no_system_prompt PASSED [ 35%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_get_effective_max_tokens_with_limit PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_get_effective_max_tokens_no_limit PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_get_effective_max_tokens_exceeds_model_limit PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_is_compatible_with_model_compatible PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_is_compatible_with_model_unsupported_capability PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMRequestBusinessMethods::test_is_compatible_with_model_context_too_large PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_basic_response_creation PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_creation_with_all_parameters PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_validation_invalid_request_id PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_validation_invalid_response_id PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_validation_invalid_status PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_validation_successful_without_content PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_validation_failed_without_error_details PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_validation_invalid_usage_stats PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseCreation::test_response_validation_invalid_cost_estimate PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseFactoryMethods::test_create_success_response PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseFactoryMethods::test_create_success_response_custom_finish_reason PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseFactoryMethods::test_create_error_response PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseFactoryMethods::test_create_error_response_with_model PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseBusinessMethods::test_is_successful_for_success_status PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseBusinessMethods::test_is_successful_for_partial_success_status PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseBusinessMethods::test_is_successful_for_error_status PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseBusinessMethods::test_get_total_tokens PASSED [ 36%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseBusinessMethods::test_get_input_tokens PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseBusinessMethods::test_get_output_tokens PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMResponseBusinessMethods::test_token_methods_with_empty_stats PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMProviderErrorHierarchy::test_base_llm_provider_error PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMProviderErrorHierarchy::test_base_error_without_optional_parameters PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMProviderErrorHierarchy::test_rate_limit_error PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMProviderErrorHierarchy::test_quota_exceeded_error PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMProviderErrorHierarchy::test_model_unavailable_error PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestLLMProviderErrorHierarchy::test_invalid_request_error PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_provider_properties PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_generate_async PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_generate_sync_wrapper PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_generate_stream_async PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_estimate_tokens PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_validate_request_valid PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_validate_request_invalid PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_get_model_info_existing PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_get_model_info_non_existing PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_health_check_async PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_health_check_sync_wrapper PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_supports_streaming_default PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_supports_function_calling PASSED [ 37%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_get_rate_limits_default PASSED [ 38%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_get_pricing_info PASSED [ 38%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderInterface::test_string_representation PASSED [ 38%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderWithBudget::test_generate_async_with_budget PASSED [ 38%]
tests/unit/contexts/ai/domain/test_llm_provider_interface.py::TestILLMProviderWithBudget::test_generate_stream_async_with_budget PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_age_consistency_validation PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_cache_clearing PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_cache_expiration PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_caching_functionality PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_character_id_length_security PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_character_identifier_validation_and_sanitization PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_circuit_breaker_blocks_requests_when_open PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_circuit_breaker_failure_accumulation PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_circuit_breaker_opens_on_threshold PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_circuit_breaker_recovery PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_concurrent_load_limit PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_directory_structure_validation_missing_directory PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_directory_structure_validation_partial PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_directory_structure_validation_success PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_empty_yaml_handling PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_file_size_limit_enforcement PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_invalid_character_security_check PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_invalid_context_type PASSED [ 38%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_load_complete_character_context PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_load_partial_character_context PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_load_timeout_handling PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_malformed_markdown_handling PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_markdown_parsing_memory PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_markdown_parsing_objectives PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_markdown_parsing_profile PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_name_consistency_validation PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_nonexistent_character_directory PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_path_traversal_protection PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_service_health_status_determination PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_service_statistics_collection PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_unicode_character_handling PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_yaml_parsing_empty_file PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_yaml_parsing_invalid_yaml PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderService::test_yaml_parsing_valid_data PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderServiceIntegration::test_load_aria_shadowbane_context PASSED [ 39%]
tests/unit/contexts/character/application/services/test_context_loader.py::TestContextLoaderPerformance::test_concurrent_loading_performance PASSED [ 39%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_initialization_success PASSED [ 39%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_validation_invalid_level PASSED [ 39%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_validation_insufficient_health PASSED [ 39%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_validation_racial_abilities PASSED [ 39%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_validation_class_skills PASSED [ 39%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_validation_age_consistency PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_profile_success PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_profile_validation_failure_rollback PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_stats_success PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_stats_excessive_health_loss_fails PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_stats_exceed_maximum_values_fails PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_stats_rollback_on_validation_failure PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_level_up_success PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_level_up_at_maximum_level_fails PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_heal_success PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_heal_to_maximum_health PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_heal_zero_amount_fails PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_heal_at_full_health_no_change PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_take_damage_success PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_take_damage_with_reduction PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_take_damage_minimum_one PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_take_damage_zero_amount_fails PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_take_damage_to_zero_health PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_is_alive_when_alive PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_is_alive_when_dead PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_can_level_up_with_sufficient_xp PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_can_level_up_insufficient_xp PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_can_level_up_at_max_level PASSED [ 40%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_get_character_summary PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_create_new_character_success PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_create_new_character_appropriate_health_mana PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_domain_events_creation PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_domain_events_profile_update PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_domain_events_stats_change PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_get_events PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_clear_events PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_skills_success PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_update_skills_validation_failure_rollback PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_version_consistency PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_timestamp_updates PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_complete_character_lifecycle PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_aggregate.py::TestCharacterAggregate::test_character_business_rules_consistency PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_creation_success PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_creation_minimal PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_height_validation_too_short PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_height_validation_too_tall PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_height_validation_boundary_values PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_weight_validation_too_light PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_weight_validation_too_heavy PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPhysicalTraits::test_physical_traits_weight_validation_boundary_values PASSED [ 41%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_creation_success PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_creation_minimal PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_empty_traits_fails PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_invalid_score_too_low PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_invalid_score_too_high PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_boundary_scores PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_empty_trait_name_fails PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_personality_traits_whitespace_trait_name_fails PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_get_trait_score_existing_trait PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_get_trait_score_missing_trait_returns_default PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_get_trait_score_case_insensitive PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_has_trait_existing PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_has_trait_missing PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestPersonalityTraits::test_has_trait_case_insensitive PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_background_creation_success PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_background_creation_minimal PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_has_education_with_education PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_has_education_without_education PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_has_education_with_empty_education PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_has_family_connections_with_family PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_has_family_connections_without_family PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestBackground::test_has_family_connections_with_empty_family PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_creation_success PASSED [ 42%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_creation_minimal PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_empty_name_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_whitespace_name_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_name_too_long_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_negative_age_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_age_too_high_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_level_too_low_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_level_too_high_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_too_many_languages_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_empty_language_fails PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_is_adult_human_adult PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_is_adult_human_child PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_is_adult_elf_adult PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_is_adult_elf_child PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_is_adult_dwarf_adult PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_is_adult_boundary_values PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_get_full_title_with_title PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_get_full_title_without_title PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_get_character_summary_with_affiliation PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_get_character_summary_without_affiliation PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_speaks_language_with_languages_list PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_speaks_language_case_insensitive PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_speaks_language_without_languages_list PASSED [ 43%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_has_trait_above_threshold_true PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_has_trait_above_threshold_false PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_has_trait_above_missing_trait PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_get_personality_summary_strong_traits PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_get_personality_summary_no_strong_traits PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_get_personality_summary_empty_traits PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_immutability PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_physical_traits_immutability PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_personality_traits_immutability PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_background_immutability PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_with_all_enum_values PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_racial_age_combinations PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_profile_value_object.py::TestCharacterProfile::test_character_profile_boundary_validations PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_core_abilities_creation_success PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_core_abilities_validation_too_low PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_core_abilities_validation_too_high PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_core_abilities_boundary_values PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_get_ability_score PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_get_ability_modifier PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_get_ability_modifier_extreme_values PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_get_all_modifiers PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_is_exceptional_ability PASSED [ 44%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_get_strongest_ability PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_get_weakest_ability PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCoreAbilities::test_get_strongest_weakest_tie_handling PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_creation_success PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_validation_max_health_zero_fails PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_validation_current_health_exceeds_max_fails PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_validation_current_health_negative_fails PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_validation_max_mana_negative_fails PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_validation_current_mana_exceeds_max_fails PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_validation_armor_class_too_high_fails PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_validation_speed_too_high_fails PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_vital_stats_boundary_values PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_alive_with_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_alive_without_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_unconscious_at_zero_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_unconscious_with_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_healthy_at_full_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_healthy_not_at_full_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_wounded_below_half_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_wounded_above_half_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_critically_wounded_below_quarter_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_is_critically_wounded_above_quarter_health PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_health_percentage PASSED [ 45%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_mana_percentage_with_mana PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_mana_percentage_no_mana PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_stamina_percentage_with_stamina PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_stamina_percentage_no_stamina PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_get_condition_summary_perfect_health PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_get_condition_summary_lightly_wounded PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_get_condition_summary_moderately_wounded PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_get_condition_summary_heavily_wounded PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_get_condition_summary_critically_wounded PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestVitalStats::test_get_condition_summary_unconscious PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_combat_stats_creation_success PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_combat_stats_validation_attack_bonus_too_low_fails PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_combat_stats_validation_attack_bonus_too_high_fails PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_combat_stats_validation_initiative_modifier_too_low_fails PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_combat_stats_validation_critical_chance_too_high_fails PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_combat_stats_validation_critical_multiplier_too_low_fails PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_combat_stats_boundary_values PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_has_spell_resistance_with_resistance PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_has_spell_resistance_without_resistance PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_has_damage_reduction_with_reduction PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_has_damage_reduction_without_reduction PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_is_fast_positive_initiative PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_is_fast_zero_initiative PASSED [ 46%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_is_fast_negative_initiative PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_get_combat_summary_expert_level PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_get_combat_summary_novice_level PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCombatStats::test_get_combat_summary_average_level PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_creation_success PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_validation_negative_experience_fails PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_validation_negative_skill_points_fails PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_validation_experience_too_high_fails PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_validation_skill_points_too_high_fails PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_boundary_values PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_get_ability_modifier PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_is_alive_when_alive PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_is_alive_when_dead PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_can_cast_spells_with_mana PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_can_cast_spells_without_mana PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_get_overall_power_level_calculations PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_needs_rest_low_health PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_needs_rest_low_mana PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_needs_rest_low_stamina PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_needs_rest_good_condition PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_get_stats_summary PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_immutability PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_core_abilities_immutability PASSED [ 47%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_vital_stats_immutability PASSED [ 48%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_combat_stats_immutability PASSED [ 48%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_ability_modifier_calculation_precision PASSED [ 48%]
tests/unit/contexts/character/domain/test_character_stats_value_object.py::TestCharacterStats::test_character_stats_edge_case_combinations PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestProficiencyLevel::test_proficiency_level_values PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestProficiencyLevel::test_proficiency_level_ordering PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillCategory::test_skill_category_values PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillCategory::test_skill_category_uniqueness PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_creation_success PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_creation_minimal PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_empty_name_fails PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_whitespace_name_fails PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_name_too_long_fails PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_modifier_too_low_fails PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_modifier_too_high_fails PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_description_too_long_fails PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_skill_boundary_values PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_get_total_modifier PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_get_total_modifier_untrained PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_get_total_modifier_negative PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_is_trained_true PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_is_trained_false PASSED [ 48%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_is_expert_level_true PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_is_expert_level_false PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_is_master_level_true PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_is_master_level_false PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkill::test_get_proficiency_description PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_skill_group_creation_success PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_skill_group_empty_name_fails PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_skill_group_base_modifier_too_low_fails PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_skill_group_base_modifier_too_high_fails PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_skill_group_empty_skills_fails PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_skill_group_mismatched_category_fails PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_get_skill_existing PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_get_skill_case_insensitive PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_get_skill_nonexistent PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_has_skill_existing PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_has_skill_nonexistent PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_get_average_proficiency PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_get_average_proficiency_empty_group PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_get_expert_skills PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_count_trained_skills PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkillGroup::test_count_trained_skills_with_untrained PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_creation_success PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_creation_minimal PASSED [ 49%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_empty_skill_groups_fails PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_empty_language_name_fails PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_language_name_too_long_fails PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_empty_specialization_name_fails PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_specialization_bonus_too_low_fails PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_specialization_bonus_too_high_fails PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_by_name_found PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_by_name_case_insensitive PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_by_name_not_found PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_by_category_found PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_by_category_wrong_category PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_has_skill_sufficient_proficiency PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_has_skill_insufficient_proficiency PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_has_skill_default_proficiency PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_has_skill_nonexistent_skill PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_modifier_existing_skill PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_modifier_with_specialization PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_modifier_without_specialization PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_modifier_nonexistent_skill PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skills_by_category_existing PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skills_by_category_nonexistent PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_expert_skills PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_master_skills PASSED [ 50%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_all_skills PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_count_trained_skills PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_speaks_language_existing PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_speaks_language_case_insensitive PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_speaks_language_unknown PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_strongest_category PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_strongest_category_empty_skills PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_is_specialist_true PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_is_specialist_false PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_can_perform_action_success PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_can_perform_action_failure PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_can_perform_action_nonexistent_skill PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_summary PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_get_skill_summary_top_skills_ordering PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_create_basic_skills PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_create_basic_skills_with_level PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_immutability PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skill_immutability PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skill_group_immutability PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_with_overlapping_specializations PASSED [ 51%]
tests/unit/contexts/character/domain/test_skills_value_object.py::TestSkills::test_skills_boundary_values_comprehensive PASSED [ 51%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestInteractionApplicationServiceInitialization::test_initialization_with_all_dependencies PASSED [ 51%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestInteractionApplicationServiceInitialization::test_initialization_with_minimal_dependencies PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestInteractionApplicationServiceInitialization::test_command_handler_initialization PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationSessionOperations::test_create_negotiation_session_success PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationSessionOperations::test_create_negotiation_session_with_defaults PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationSessionOperations::test_add_party_to_negotiation_success PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationSessionOperations::test_add_party_insufficient_parties PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationSessionOperations::test_advance_negotiation_phase_success PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationSessionOperations::test_advance_negotiation_phase_forced PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestProposalOperations::test_submit_proposal_success PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestProposalOperations::test_submit_proposal_response_success PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestProposalOperations::test_submit_proposal_response_negative_momentum PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationCompletion::test_complete_negotiation_success PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestNegotiationCompletion::test_complete_negotiation_with_conflicts PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestAnalyticalOperations::test_get_negotiation_insights_comprehensive PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestAnalyticalOperations::test_get_negotiation_insights_low_compatibility PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestProposalOptimization::test_optimize_active_proposals_success FAILED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestProposalOptimization::test_optimize_active_proposals_session_not_found PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestProposalOptimization::test_optimize_active_proposals_no_proposals PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestSessionHealthMonitoring::test_monitor_session_health_healthy_session PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestSessionHealthMonitoring::test_monitor_session_health_unhealthy_session PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestSessionHealthMonitoring::test_monitor_session_health_session_not_found PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestPrivateHelperMethods::test_calculate_success_probability PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestPrivateHelperMethods::test_generate_recommendations PASSED [ 52%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestPrivateHelperMethods::test_calculate_health_score PASSED [ 53%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestPrivateHelperMethods::test_get_health_status PASSED [ 53%]
tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestPrivateHelperMethods::test_generate_health_recommendations PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdCreation::test_create_with_uuid PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdCreation::test_create_with_specific_uuid PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdCreation::test_frozen_dataclass_immutability PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdValidation::test_invalid_uuid_type_string PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdValidation::test_invalid_uuid_type_integer PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdValidation::test_invalid_uuid_type_none PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdValidation::test_invalid_uuid_type_dict PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdValidation::test_invalid_uuid_type_list PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_generate_creates_unique_ids PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_valid_uuid PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_uppercase_uuid PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_without_dashes PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_invalid_format FAILED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_none PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_non_string_type FAILED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdStringRepresentation::test_str_representation PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdStringRepresentation::test_str_representation_generated PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdStringRepresentation::test_repr_not_implemented PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEquality::test_equality_same_uuid PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEquality::test_equality_different_uuids PASSED [ 53%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEquality::test_equality_with_non_interaction_id PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEquality::test_equality_reflexive PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEquality::test_equality_symmetric PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEquality::test_equality_transitive PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdHashing::test_hash_consistency PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdHashing::test_hash_equality_implies_same_hash PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdHashing::test_hash_different_for_different_uuids PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdHashing::test_usable_as_dict_key PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdHashing::test_usable_in_set PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdRoundTripConversion::test_generate_to_string_to_from_string PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdRoundTripConversion::test_from_string_to_string_consistency PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdRoundTripConversion::test_uuid_to_interaction_id_to_string PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdRoundTripConversion::test_multiple_round_trips PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEdgeCases::test_nil_uuid PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEdgeCases::test_max_uuid PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEdgeCases::test_uuid_versions PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEdgeCases::test_case_insensitive_from_string PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEdgeCases::test_compact_uuid_string PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdEdgeCases::test_memory_efficiency PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdCollections::test_list_operations PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdCollections::test_set_operations PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdCollections::test_dict_key_operations PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdCollections::test_sorting PASSED [ 54%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationEnums::test_negotiation_phase_values PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationEnums::test_negotiation_outcome_values PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationEnums::test_termination_reason_values PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusCreation::test_minimal_status_creation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusCreation::test_full_status_creation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusCreation::test_frozen_dataclass_immutability PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_timezone_validation_started_at PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_timezone_validation_last_activity_at PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_timezone_validation_expected_completion_at PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_timezone_validation_actual_completion_at PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_started_at_after_last_activity_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_started_at_after_expected_completion_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_started_at_after_actual_completion_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_terminated_phase_with_pending_outcome_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_terminated_phase_without_termination_reason_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_terminated_phase_without_actual_completion_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_agreement_outcome_phase_consistency_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusValidation::test_partial_agreement_outcome_phase_consistency_validation PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusFactoryMethods::test_create_initial_default_time PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusFactoryMethods::test_create_initial_specific_time PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusFactoryMethods::test_create_initial_with_expected_completion PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusPhaseTransitions::test_valid_phase_transitions PASSED [ 55%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusPhaseTransitions::test_invalid_phase_transitions PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusPhaseTransitions::test_advance_to_phase_success PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusPhaseTransitions::test_advance_to_phase_default_time PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusPhaseTransitions::test_advance_to_phase_invalid_transition PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusCompletion::test_complete_with_outcome_success PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusCompletion::test_complete_with_outcome_default_time PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusCompletion::test_complete_different_outcomes PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusActivityUpdate::test_update_last_activity_specific_time PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusActivityUpdate::test_update_last_activity_default_time PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusProperties::test_is_active_property PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusProperties::test_is_completed_property PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusProperties::test_duration_property PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusProperties::test_time_since_last_activity_property PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEquality::test_equality_same_values PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEquality::test_equality_different_phases PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEquality::test_equality_different_timestamps PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEquality::test_equality_with_non_negotiation_status PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusStringRepresentation::test_str_representation PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusStringRepresentation::test_str_representation_completed PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEdgeCases::test_same_start_and_activity_time PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEdgeCases::test_immediate_completion PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEdgeCases::test_very_long_negotiation PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEdgeCases::test_microsecond_precision_timestamps PASSED [ 56%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEdgeCases::test_phase_transition_edge_cases PASSED [ 57%]
tests/unit/contexts/interactions/domain/test_negotiation_status_value_object.py::TestNegotiationStatusEdgeCases::test_outcome_phase_consistency_edge_cases PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestNarrativeArcApplicationServiceInitialization::test_initialization_with_required_repository PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestNarrativeArcApplicationServiceInitialization::test_initialization_with_all_dependencies PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestNarrativeArcApplicationServiceInitialization::test_default_service_initialization PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestNarrativeArcApplicationServiceInitialization::test_initialization_logging PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestArcLifecycleManagement::test_create_narrative_arc_minimal_params PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestArcLifecycleManagement::test_create_narrative_arc_full_params PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestArcLifecycleManagement::test_get_narrative_arc PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestArcLifecycleManagement::test_get_narrative_arc_not_found PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestArcLifecycleManagement::test_update_narrative_arc PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestArcLifecycleManagement::test_start_narrative_arc PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestArcLifecycleManagement::test_complete_narrative_arc PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPlotPointManagement::test_add_plot_point_minimal_params PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPlotPointManagement::test_add_plot_point_full_params PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPlotPointManagement::test_get_plot_point PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPlotPointManagement::test_get_plot_points_in_sequence PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPlotPointManagement::test_update_plot_point PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPlotPointManagement::test_update_plot_point_partial PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPlotPointManagement::test_remove_plot_point PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestThemeManagement::test_add_theme_minimal_params PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestThemeManagement::test_add_theme_full_params PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestThemeManagement::test_get_theme PASSED [ 57%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestThemeManagement::test_get_themes_at_sequence PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestThemeManagement::test_develop_theme PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPacingManagement::test_add_pacing_segment_minimal_params PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestPacingManagement::test_add_pacing_segment_full_params PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestContextManagement::test_add_narrative_context_minimal_params PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestContextManagement::test_add_narrative_context_full_params PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestContextManagement::test_activate_context PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestContextManagement::test_deactivate_context PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestCharacterManagement::test_add_character_to_arc PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestCharacterManagement::test_add_character_to_arc_minimal PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestAnalysisAndOptimization::test_analyze_narrative_flow PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestAnalysisAndOptimization::test_optimize_sequence PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestAnalysisAndOptimization::test_establish_causal_link PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestAnalysisAndOptimization::test_analyze_causality PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestComprehensiveAnalysis::test_get_arc_metrics PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestComprehensiveAnalysis::test_get_arc_summary PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestSearchAndDiscovery::test_search_narrative_arcs_minimal_params PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestSearchAndDiscovery::test_search_narrative_arcs_full_params PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestSearchAndDiscovery::test_get_arcs_by_type PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestSearchAndDiscovery::test_get_arcs_by_type_minimal_params PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestErrorHandling::test_command_handler_exception_propagation PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestErrorHandling::test_query_handler_exception_propagation PASSED [ 58%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestErrorHandling::test_decimal_conversion_handling PASSED [ 59%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestIntegrationScenarios::test_complete_arc_creation_workflow PASSED [ 59%]
tests/unit/contexts/narratives/application/test_narrative_arc_application_service.py::TestIntegrationScenarios::test_analysis_workflow PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalRelationTypeEnum::test_all_relation_types_exist PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalRelationTypeEnum::test_relation_type_string_values PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalRelationTypeEnum::test_relation_type_uniqueness PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalRelationTypeEnum::test_relation_type_membership PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalStrengthEnum::test_all_strength_levels_exist PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalStrengthEnum::test_strength_string_values PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalStrengthEnum::test_strength_logical_ordering PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCreation::test_create_minimal_causal_node PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCreation::test_create_causal_node_with_only_description PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCreation::test_create_comprehensive_causal_node PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCreation::test_default_values_initialization PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCreation::test_frozen_dataclass_immutability PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_empty_node_id_validation PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_whitespace_only_node_id_validation PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_missing_title_and_description_validation PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_whitespace_only_title_and_description_validation FAILED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_valid_with_only_title PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_valid_with_only_description PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_occurrence_probability_below_minimum_validation PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_occurrence_probability_above_maximum_validation PASSED [ 59%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_causal_certainty_boundary_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_valid_probability_boundary_values PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_narrative_importance_below_minimum_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_narrative_importance_above_maximum_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_character_impact_boundary_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_story_arc_impact_boundary_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_valid_impact_boundary_values PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_negative_sequence_order_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_zero_sequence_order_allowed PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_negative_temporal_delay_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_zero_temporal_delay_allowed PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_zero_duration_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_negative_duration_validation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_positive_duration_allowed PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_string_length_validations PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_valid_string_length_boundaries PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_total_causes_calculation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_total_effects_calculation PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_has_causes_with_direct_causes PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_has_causes_with_indirect_causes PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_has_causes_with_both_types PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_has_causes_false PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_has_effects_with_direct_effects PASSED [ 60%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_has_effects_with_indirect_effects PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_has_effects_false PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_is_isolated_true PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_is_isolated_false_with_causes PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_is_isolated_false_with_effects PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeProperties::test_is_isolated_false_with_both PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalComplexityScore::test_base_complexity_only PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalComplexityScore::test_complexity_with_special_node_types PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalComplexityScore::test_complexity_with_conditions PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalComplexityScore::test_complexity_comprehensive_calculation PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalComplexityScore::test_complexity_isolated_node PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestOverallImpactScore::test_impact_score_default_values PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestOverallImpactScore::test_impact_score_maximum_values PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestOverallImpactScore::test_impact_score_minimum_values PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestOverallImpactScore::test_impact_score_weighted_calculation PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_causes_node_direct_effect PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_causes_node_indirect_effect PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_causes_node_both_types PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_caused_by_node_direct_cause PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_caused_by_node_indirect_cause PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_directly_causes_node PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_directly_caused_by_node PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_get_relationship_info_existing PASSED [ 61%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_get_relationship_info_non_existing PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_get_relationship_type_existing PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_get_relationship_type_non_existing PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_get_relationship_strength_existing PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_get_relationship_strength_non_existing PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_has_prerequisite_condition_true PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_has_blocking_condition_true PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeInstanceMethods::test_get_causal_context PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeFactoryMethods::test_with_additional_cause_direct_cause PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeFactoryMethods::test_with_additional_cause_non_direct_relationship PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeFactoryMethods::test_with_additional_cause_immutability PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeFactoryMethods::test_with_additional_cause_collections_copied PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeFactoryMethods::test_with_additional_cause_first_cause_makes_convergence PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeFactoryMethods::test_with_additional_cause_preserves_metadata PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeStringRepresentation::test_str_representation_with_title PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeStringRepresentation::test_str_representation_no_title PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeStringRepresentation::test_repr_representation PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeStringRepresentation::test_string_representations_different PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeEdgeCasesAndBoundaryConditions::test_creation_with_fixed_timestamp PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeEdgeCasesAndBoundaryConditions::test_large_collections_handling PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeEdgeCasesAndBoundaryConditions::test_decimal_precision_handling PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeEdgeCasesAndBoundaryConditions::test_unicode_text_handling PASSED [ 62%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeEdgeCasesAndBoundaryConditions::test_complex_metadata_handling PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_nodes_in_list PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_nodes_sorting_by_complexity_score PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_node_equality_identity PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_node_inequality PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_node_hashing_consistency FAILED [ 63%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_nodes_in_set FAILED [ 63%]
tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_nodes_as_dict_keys FAILED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextScopeEnum::test_all_scope_levels_exist PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextScopeEnum::test_scope_string_values PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextScopeEnum::test_scope_logical_ordering PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextScopeEnum::test_scope_uniqueness PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextScopeEnum::test_scope_membership PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextTypeEnum::test_all_context_types_exist PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextTypeEnum::test_context_type_string_values PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextTypeEnum::test_context_type_uniqueness PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextTypeEnum::test_context_type_membership PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCreation::test_create_minimal_narrative_context PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCreation::test_create_comprehensive_narrative_context PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCreation::test_default_values_initialization PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCreation::test_frozen_dataclass_immutability PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_empty_context_id_validation PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_whitespace_only_context_id_validation PASSED [ 63%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_empty_name_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_whitespace_only_name_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_empty_description_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_whitespace_only_description_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_invalid_sequence_range_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_valid_sequence_range_equal_values PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_valid_sequence_range_proper_order PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_narrative_importance_below_minimum_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_narrative_importance_above_maximum_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_visibility_level_boundary_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_complexity_level_boundary_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_valid_decimal_boundary_values PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_evolution_rate_below_minimum_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_evolution_rate_above_maximum_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_stability_boundary_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_valid_rate_boundary_values PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_influence_values_below_minimum_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_influence_values_above_maximum_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_pacing_effects_boundary_validation PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_valid_influence_boundary_values PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_string_length_validations PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextValidation::test_valid_string_length_boundaries PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_sequence_range_with_from_sequence PASSED [ 64%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_sequence_range_with_to_sequence PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_sequence_range_with_both_sequences PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_sequence_range_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_is_temporal_context_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_is_temporal_context_false_persistent PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_is_temporal_context_false_no_range PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_affects_characters_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_affects_characters_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_hidden_information_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_hidden_information_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_narrative_constraints_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_narrative_constraints_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_influences_mood_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_influences_mood_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_influences_pacing_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_influences_pacing_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_prerequisites_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_prerequisites_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_conflicts_true PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextProperties::test_has_conflicts_false PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestOverallInfluenceStrength::test_influence_strength_base_calculation PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestOverallInfluenceStrength::test_influence_strength_with_influences PASSED [ 65%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestOverallInfluenceStrength::test_influence_strength_capped_at_ten PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestOverallInfluenceStrength::test_influence_strength_bonus_capped PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextualComplexityScore::test_complexity_score_base_only PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextualComplexityScore::test_complexity_score_with_relationships PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextualComplexityScore::test_complexity_score_with_information_layers PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextualComplexityScore::test_complexity_score_comprehensive PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestContextualComplexityScore::test_complexity_score_capped_at_ten PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_applies_at_sequence_persistent_no_range PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_applies_at_sequence_non_persistent_no_range PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_applies_at_sequence_with_range PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_applies_at_sequence_from_only PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_applies_at_sequence_to_only PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_affects_character_true PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_character_knows_context_true PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_get_character_reaction_existing PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_conflicts_with_context_true PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_reinforces_context_true PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_requires_context_true PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_get_mood_influence_existing PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_get_mood_influence_default PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_get_tension_modifier_existing PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_get_pacing_effect_existing PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextInstanceMethods::test_get_contextual_summary PASSED [ 66%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextStringRepresentation::test_str_representation PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextStringRepresentation::test_repr_representation PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextStringRepresentation::test_string_representations_different PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextEdgeCasesAndBoundaryConditions::test_creation_with_fixed_timestamp PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextEdgeCasesAndBoundaryConditions::test_large_collections_handling PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextEdgeCasesAndBoundaryConditions::test_decimal_precision_handling PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextEdgeCasesAndBoundaryConditions::test_unicode_text_handling PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextEdgeCasesAndBoundaryConditions::test_complex_metadata_handling PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_contexts_in_list PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_contexts_sorting_by_influence_strength PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_context_equality_identity PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_context_inequality PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_context_hashing_consistency FAILED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_contexts_in_set FAILED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_contexts_as_dict_keys FAILED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCreation::test_create_with_uuid PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCreation::test_create_with_specific_uuid PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCreation::test_frozen_dataclass_immutability PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCreation::test_class_metadata PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdValidation::test_invalid_uuid_type_string PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdValidation::test_invalid_uuid_type_integer PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdValidation::test_invalid_uuid_type_none PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdValidation::test_invalid_uuid_type_dict PASSED [ 67%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdValidation::test_invalid_uuid_type_list PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_generate_creates_unique_ids PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_valid_uuid PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_uppercase_uuid PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_without_dashes PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_invalid_format FAILED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_none FAILED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_non_string_type FAILED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdStringRepresentation::test_str_representation PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdStringRepresentation::test_str_representation_generated PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdStringRepresentation::test_repr_representation PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdStringRepresentation::test_to_string_method PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEquality::test_equality_same_uuid PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEquality::test_equality_different_uuids PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEquality::test_equality_with_non_narrative_id PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEquality::test_equality_reflexive PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEquality::test_equality_symmetric PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEquality::test_equality_transitive PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdHashing::test_hash_consistency PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdHashing::test_hash_equality_implies_same_hash PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdHashing::test_hash_different_for_different_uuids PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdHashing::test_usable_as_dict_key PASSED [ 68%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdHashing::test_usable_in_set PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdRoundTripConversion::test_generate_to_string_to_from_string PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdRoundTripConversion::test_from_string_to_string_consistency PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdRoundTripConversion::test_uuid_to_narrative_id_to_string PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdRoundTripConversion::test_multiple_round_trips PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEdgeCases::test_nil_uuid PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEdgeCases::test_max_uuid PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEdgeCases::test_uuid_versions PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEdgeCases::test_case_insensitive_from_string PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEdgeCases::test_compact_uuid_string PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdEdgeCases::test_memory_efficiency PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCollections::test_list_operations PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCollections::test_set_operations PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCollections::test_dict_key_operations PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdCollections::test_sorting PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdContextMetadata::test_context_name_metadata PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdContextMetadata::test_type_name_metadata PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdContextMetadata::test_metadata_is_class_variable PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdContextMetadata::test_metadata_immutability PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThemeTypeEnum::test_all_theme_types_exist PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThemeTypeEnum::test_theme_type_string_values PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThemeTypeEnum::test_theme_type_uniqueness PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThemeTypeEnum::test_theme_type_membership PASSED [ 69%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThemeIntensityEnum::test_all_intensity_levels_exist PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThemeIntensityEnum::test_intensity_string_values PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThemeIntensityEnum::test_intensity_logical_ordering PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCreation::test_create_minimal_narrative_theme PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCreation::test_create_comprehensive_narrative_theme PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCreation::test_default_values_initialization PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCreation::test_frozen_dataclass_immutability PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_empty_name_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_whitespace_only_name_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_empty_description_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_whitespace_only_description_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_negative_sequence_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_zero_sequence_allowed PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_moral_complexity_below_minimum_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_moral_complexity_above_maximum_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_emotional_resonance_boundary_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_universal_appeal_boundary_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_valid_decimal_boundary_values PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_audience_relevance_boundary_validation PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_valid_audience_relevance_boundaries PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_string_length_validations PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeValidation::test_valid_string_length_boundaries PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_is_major_theme_for_major_intensities PASSED [ 70%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_is_major_theme_false_for_minor_intensities PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_is_central_theme_true_for_central PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_is_central_theme_false_for_non_central PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_has_symbolic_representation_with_elements PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_has_symbolic_representation_with_flag PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_has_symbolic_representation_false PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_has_character_expression_with_arc_flag PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_has_character_expression_with_archetypes PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_has_character_expression_false PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_spans_full_narrative_true PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_spans_full_narrative_false_missing_intro PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_spans_full_narrative_false_missing_resolution PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeProperties::test_spans_full_narrative_false_both_none PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThematicComplexityScore::test_base_complexity_only PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThematicComplexityScore::test_complexity_with_expression_methods PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThematicComplexityScore::test_complexity_with_theme_relationships PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThematicComplexityScore::test_complexity_with_all_bonuses PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestThematicComplexityScore::test_complexity_capping_at_ten PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeImpactScore::test_impact_score_subtle_intensity FAILED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeImpactScore::test_impact_score_central_intensity FAILED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeImpactScore::test_impact_score_overwhelming_intensity PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeImpactScore::test_impact_score_all_intensities PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_conflicts_with_theme_true PASSED [ 71%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_reinforces_theme_true PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_has_symbolic_element_true PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_has_related_motif_true PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_uses_archetype_true PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_get_audience_relevance_existing PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_get_audience_relevance_default PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_get_thematic_context FAILED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeFactoryMethods::test_with_updated_intensity_change_intensity PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeFactoryMethods::test_with_updated_intensity_immutability PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeFactoryMethods::test_with_updated_intensity_collections_copied PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeFactoryMethods::test_with_updated_intensity_preserves_metadata PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeStringRepresentation::test_str_representation PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeStringRepresentation::test_repr_representation PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeStringRepresentation::test_string_representations_different PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeEdgeCasesAndBoundaryConditions::test_creation_with_fixed_timestamp PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeEdgeCasesAndBoundaryConditions::test_large_collections_handling PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeEdgeCasesAndBoundaryConditions::test_decimal_precision_handling PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeEdgeCasesAndBoundaryConditions::test_unicode_text_handling PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeEdgeCasesAndBoundaryConditions::test_complex_metadata_handling PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_themes_in_list PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_themes_sorting_by_impact_score PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_theme_equality_identity PASSED [ 72%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_theme_inequality PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_theme_hashing_consistency FAILED [ 73%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_themes_in_set FAILED [ 73%]
tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_themes_as_dict_keys FAILED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointTypeEnum::test_all_enum_values_exist PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointTypeEnum::test_enum_string_values PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointTypeEnum::test_enum_uniqueness PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointTypeEnum::test_enum_membership PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointImportanceEnum::test_all_importance_levels_exist PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointImportanceEnum::test_importance_string_values PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointImportanceEnum::test_importance_ordering_concept PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCreation::test_create_minimal_plot_point PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCreation::test_create_plot_point_with_all_fields PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCreation::test_default_values_initialization PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCreation::test_frozen_dataclass_immutability PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_empty_title_validation PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_whitespace_only_title_validation PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_empty_description_validation PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_whitespace_only_description_validation PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_negative_sequence_order_validation PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_zero_sequence_order_allowed PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_negative_estimated_duration_validation PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_zero_estimated_duration_validation PASSED [ 73%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_none_estimated_duration_allowed PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_emotional_intensity_below_minimum_validation PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_emotional_intensity_above_maximum_validation PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_dramatic_tension_boundary_validation PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_story_significance_boundary_validation PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_valid_intensity_boundary_values PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_plot_point_id_max_length_validation PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_title_max_length_validation PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_description_max_length_validation PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointValidation::test_valid_max_length_boundaries PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_is_major_plot_point_critical PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_is_major_plot_point_major PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_is_major_plot_point_false_for_lower_importance PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_is_climactic_true_for_climax PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_is_climactic_false_for_non_climax PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_is_turning_point_for_turning_point_types PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_is_turning_point_false_for_non_turning_point_types PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_has_prerequisites_with_events PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_has_prerequisites_without_events PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_has_consequences_with_events PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_has_consequences_without_events PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_affects_characters_with_characters PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointProperties::test_affects_characters_without_characters PASSED [ 74%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointOverallImpactScore::test_critical_importance_impact_score PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointOverallImpactScore::test_major_importance_impact_score PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointOverallImpactScore::test_supplemental_importance_impact_score FAILED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointOverallImpactScore::test_impact_score_boundary_values PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointInstanceMethods::test_involves_character_true PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointInstanceMethods::test_affects_theme_true PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointInstanceMethods::test_has_tag_true PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointInstanceMethods::test_get_narrative_context PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_updated_intensity_single_value PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_updated_intensity_multiple_values PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_updated_intensity_none_values PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_updated_intensity_immutability PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_additional_characters_add_characters PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_additional_characters_duplicate_characters PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_additional_characters_empty_set PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointFactoryMethods::test_with_additional_characters_immutability PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointStringRepresentation::test_str_representation PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointStringRepresentation::test_repr_representation PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointStringRepresentation::test_string_representations_different PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointEdgeCasesAndBoundaryConditions::test_creation_with_mock_timestamp PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointEdgeCasesAndBoundaryConditions::test_large_collections_handling PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointEdgeCasesAndBoundaryConditions::test_decimal_precision_handling PASSED [ 75%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointEdgeCasesAndBoundaryConditions::test_unicode_text_handling PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointEdgeCasesAndBoundaryConditions::test_complex_metadata_handling PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_points_in_list PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_points_sorting_by_sequence PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_points_sorting_by_impact_score PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_point_equality_identity PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_point_inequality PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_point_hashing_consistency FAILED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_points_in_set FAILED [ 76%]
tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_points_as_dict_keys FAILED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingTypeEnum::test_all_pacing_types_exist PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingTypeEnum::test_pacing_type_string_values PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingTypeEnum::test_pacing_type_uniqueness PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingTypeEnum::test_pacing_type_membership PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingIntensityEnum::test_all_intensity_levels_exist PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingIntensityEnum::test_intensity_string_values PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingIntensityEnum::test_intensity_logical_ordering PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingIntensityEnum::test_intensity_uniqueness PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestPacingIntensityEnum::test_intensity_membership PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingCreation::test_create_minimal_story_pacing PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingCreation::test_create_full_story_pacing PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingCreation::test_automatic_timestamp_generation PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingCreation::test_frozen_dataclass_immutability PASSED [ 76%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_empty_pacing_id_raises_error PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_sequence_numbers_raise_errors PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_ratios_raise_errors FAILED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_valid_ratio_sum_tolerance PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_scale_values_raise_errors PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_frequency_and_intensity_values_raise_errors PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_negative_count_values_raise_errors PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_tension_curve_values_raise_errors PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_peak_positions_raise_errors PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_rest_positions_raise_errors PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_string_length_constraints PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_segment_length_property PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_boolean_properties PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_intensity_classification_properties PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_tension_properties_with_empty_curve PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_tension_properties_with_curve PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_tension_properties_single_value PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_pacing_complexity_score PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingProperties::test_engagement_score PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_contains_sequence PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_get_tension_at_sequence_no_curve PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_get_tension_at_sequence_outside_range PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_get_tension_at_sequence_single_value PASSED [ 77%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_get_tension_at_sequence_interpolation FAILED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_is_emotional_peak PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_is_rest_period PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_get_pacing_context PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingStringRepresentation::test_str_representation_with_segment_name PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingStringRepresentation::test_str_representation_without_segment_name PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingStringRepresentation::test_repr_representation PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEquality::test_equality_same_values FAILED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEquality::test_inequality_different_values FAILED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEquality::test_equality_in_collections FAILED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEdgeCases::test_minimum_valid_segment PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEdgeCases::test_large_segment PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEdgeCases::test_extreme_ratio_values PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEdgeCases::test_extreme_scale_values PASSED [ 78%]
tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEdgeCases::test_complex_tension_curve_interpolation PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestSubjectiveApplicationServiceInitialization::test_initialization_with_all_dependencies PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestSubjectiveApplicationServiceInitialization::test_initialization_with_minimal_dependencies PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestSubjectiveApplicationServiceInitialization::test_command_handler_registry_initialization PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_create_turn_brief_for_entity_success PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_create_turn_brief_with_minimal_parameters PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_create_turn_brief_command_handler_exception PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_get_turn_brief_by_entity_id_found PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_get_turn_brief_by_entity_id_not_found PASSED [ 78%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_delete_turn_brief_success PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_delete_turn_brief_not_found PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestTurnBriefOperations::test_delete_turn_brief_repository_failure PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestPerceptionOperations::test_update_perception_capabilities_success PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestPerceptionOperations::test_update_perception_capabilities_entity_not_found PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestPerceptionOperations::test_add_perception_success PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestPerceptionOperations::test_add_perception_minimal_parameters PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestPerceptionOperations::test_add_perception_entity_not_found PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestPerceptionOperations::test_add_perception_invalid_command PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestAwarenessOperations::test_update_awareness_state_success PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestFogOfWarOperations::test_update_fog_of_war_success PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestErrorHandling::test_repository_exception_propagation PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestErrorHandling::test_command_handler_exception_propagation PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestErrorHandling::test_invalid_parameter_handling PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestIntegrationScenarios::test_entity_lifecycle_scenario PASSED [ 79%]
tests/unit/contexts/subjective/application/test_subjective_application_service.py::TestIntegrationScenarios::test_error_recovery_scenario PASSED [ 79%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateCreation::test_minimal_awareness_state_creation PASSED [ 79%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateCreation::test_full_awareness_state_creation PASSED [ 79%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateCreation::test_awareness_modifiers_none_initialization PASSED [ 79%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateCreation::test_awareness_modifiers_list_conversion PASSED [ 79%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_invalid_awareness_modifier_type PASSED [ 79%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_invalid_modifier_value_type PASSED [ 79%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_modifier_value_out_of_range_positive PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_modifier_value_out_of_range_negative PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_fatigue_level_negative PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_fatigue_level_too_high PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_stress_level_negative PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_stress_level_too_high PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_target_specific_focus_requires_target PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestAwarenessStateValidation::test_target_specific_focus_with_target_succeeds PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_no_modifiers_returns_current_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_fatigue_reduces_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_stress_moderate_increases_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_stress_extreme_decreases_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_positive_modifiers_increase_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_negative_modifiers_decrease_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_fear_positive_increases_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_fear_negative_decreases_alertness PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_alertness_clamping_maximum PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCalculateEffectiveAlertness::test_alertness_clamping_minimum PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_unconscious_severe_penalty PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_sleeping_heavy_penalty PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_relaxed_neutral_bonus PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_vigilant_high_bonus PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_target_specific_focus_bonus PASSED [ 80%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_task_focused_penalty PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_environmental_focus_bonus PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestPerceptionBonus::test_combined_alertness_and_focus_bonus PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestReactionTimeModifier::test_unconscious_no_reaction PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestReactionTimeModifier::test_sleeping_very_slow_reaction PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestReactionTimeModifier::test_vigilant_fast_reaction PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestReactionTimeModifier::test_fatigue_penalty_on_reaction_time PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestReactionTimeModifier::test_optimal_stress_level_reaction PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestStealthDetection::test_unconscious_cannot_detect_stealth PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestStealthDetection::test_sleeping_cannot_detect_stealth PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestStealthDetection::test_threat_scanning_can_detect_stealth PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestStealthDetection::test_environmental_focus_can_detect_stealth PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestStealthDetection::test_high_alertness_can_detect_stealth PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestStealthDetection::test_low_alertness_cannot_detect_stealth_normally PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCombatSurprise::test_unconscious_always_surprised PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCombatSurprise::test_sleeping_always_surprised PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCombatSurprise::test_task_focused_more_likely_surprised PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCombatSurprise::test_only_drowsy_surprised_when_not_task_focused PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestCombatSurprise::test_high_alertness_not_surprised PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestImmutableOperations::test_with_modified_alertness_creates_new_instance PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestImmutableOperations::test_with_focus_change_creates_new_instance PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestImmutableOperations::test_with_added_modifier_creates_new_instance PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestImmutableOperations::test_with_added_modifier_overwrites_existing PASSED [ 81%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestComplexScenarios::test_exhausted_guard_scenario PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestComplexScenarios::test_enhanced_sentinel_scenario PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestComplexScenarios::test_terrified_civilian_scenario PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestComplexScenarios::test_focused_researcher_scenario PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestEdgeCases::test_all_modifier_types_combined PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestEdgeCases::test_boundary_modifier_values PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestEdgeCases::test_empty_string_focus_target PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestEdgeCases::test_very_long_focus_target PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestEquality::test_identical_states_are_equal PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestEquality::test_different_alertness_not_equal PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_awareness_value_object.py::TestEquality::test_different_modifiers_not_equal PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemCreation::test_minimal_knowledge_item_creation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemCreation::test_full_knowledge_item_creation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemCreation::test_tags_none_initialization PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemCreation::test_tags_list_conversion PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemValidation::test_empty_subject_validation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemValidation::test_whitespace_subject_validation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemValidation::test_empty_information_validation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemValidation::test_whitespace_information_validation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemValidation::test_expiration_before_acquisition_validation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemValidation::test_expiration_equal_to_acquisition_validation PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_is_current_no_expiration PASSED [ 82%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_is_current_before_expiration PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_is_current_after_expiration PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_is_current_default_time PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_get_reliability_score_absolute_direct PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_get_reliability_score_high_certainty_ally_report PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_get_reliability_score_low_certainty_enemy_report PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_get_reliability_score_unknown_certainty PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_has_tag_existing PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_has_tag_nonexistent PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemBusinessLogic::test_has_tag_empty_tags PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemImmutableOperations::test_with_updated_certainty_creates_new_instance PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeItemImmutableOperations::test_with_updated_certainty_and_source PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseCreation::test_empty_knowledge_base_creation PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseCreation::test_knowledge_base_with_items PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseValidation::test_invalid_knowledge_items_type PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseValidation::test_invalid_subject_items_type PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseValidation::test_invalid_knowledge_item_type PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseValidation::test_knowledge_item_subject_mismatch PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_get_knowledge_about_existing_subject PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_get_knowledge_about_nonexistent_subject PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_get_knowledge_about_with_min_reliability PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_get_knowledge_about_sorting PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_get_most_reliable_knowledge_existing PASSED [ 83%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_get_most_reliable_knowledge_nonexistent PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_has_knowledge_about_with_sufficient_certainty PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_has_knowledge_about_insufficient_certainty PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseQuerying::test_has_knowledge_about_nonexistent PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseFiltering::test_get_subjects_by_type PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseFiltering::test_get_subjects_by_tag PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseFiltering::test_get_knowledge_by_source PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseFiltering::test_get_stale_knowledge PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseImmutableOperations::test_add_knowledge_creates_new_instance PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseImmutableOperations::test_add_knowledge_to_existing_subject PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseImmutableOperations::test_update_knowledge PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseImmutableOperations::test_update_knowledge_subject_mismatch PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseStatistics::test_get_total_knowledge_count PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseStatistics::test_get_subjects_count PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestKnowledgeBaseStatistics::test_empty_knowledge_base_statistics PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestComplexScenarios::test_intelligence_gathering_scenario PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_knowledge_level_value_object.py::TestComplexScenarios::test_information_expiry_scenario PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeCreation::test_minimal_perception_range_creation PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeCreation::test_full_perception_range_creation PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeCreation::test_zero_ranges_allowed PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_negative_base_range_validation PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_negative_effective_range_validation PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_accuracy_modifier_below_zero PASSED [ 84%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_accuracy_modifier_above_one PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_empty_environmental_modifier_name PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_whitespace_environmental_modifier_name PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_non_string_environmental_modifier_name PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_non_numeric_environmental_modifier_value PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeValidation::test_boundary_accuracy_modifier_values PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestVisibilityCalculation::test_visibility_at_zero_distance PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestVisibilityCalculation::test_visibility_beyond_effective_range PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestVisibilityCalculation::test_visibility_within_range_perfect_conditions PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestVisibilityCalculation::test_visibility_with_environmental_degradation PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestVisibilityCalculation::test_visibility_with_low_accuracy PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestVisibilityCalculation::test_visibility_level_thresholds PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeUtilityMethods::test_is_within_range_true PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeUtilityMethods::test_is_within_range_false PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeUtilityMethods::test_apply_environmental_modifier_creates_new_instance PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionRangeUtilityMethods::test_apply_environmental_modifier_overwrites_existing PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesCreation::test_minimal_perception_capabilities_creation PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesCreation::test_full_perception_capabilities_creation PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesValidation::test_empty_perception_ranges_validation PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesValidation::test_invalid_perception_type_key PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesValidation::test_invalid_perception_range_value PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesValidation::test_perception_type_mismatch PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesValidation::test_negative_passive_awareness_bonus PASSED [ 85%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesValidation::test_zero_focused_perception_multiplier PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesValidation::test_negative_focused_perception_multiplier PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesBusinessLogic::test_get_best_visibility_no_focus PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesBusinessLogic::test_get_best_visibility_with_focus PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesBusinessLogic::test_get_best_visibility_beyond_all_ranges PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesBusinessLogic::test_get_maximum_range PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesBusinessLogic::test_get_maximum_range_empty_ranges PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesBusinessLogic::test_has_perception_type PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestPerceptionCapabilitiesBusinessLogic::test_get_perception_types PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestComplexPerceptionScenarios::test_stealth_detection_scenario PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestComplexPerceptionScenarios::test_environmental_adaptation_scenario PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestComplexPerceptionScenarios::test_focused_perception_effectiveness PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestComplexPerceptionScenarios::test_multi_sense_compensation_scenario PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestEdgeCasesAndBoundaryConditions::test_zero_effective_range_perception PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestEdgeCasesAndBoundaryConditions::test_zero_accuracy_perception PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestEdgeCasesAndBoundaryConditions::test_extreme_environmental_modifiers PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestEdgeCasesAndBoundaryConditions::test_very_large_distances PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestEdgeCasesAndBoundaryConditions::test_negative_distances PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_perception_range_value_object.py::TestEdgeCasesAndBoundaryConditions::test_focused_perception_on_nonexistent_type PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdCreation::test_create_with_uuid PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdCreation::test_create_with_specific_uuid PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdCreation::test_frozen_dataclass_immutability PASSED [ 86%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdValidation::test_invalid_uuid_type_string PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdValidation::test_invalid_uuid_type_integer PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdValidation::test_invalid_uuid_type_none PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdValidation::test_invalid_uuid_type_dict PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdValidation::test_invalid_uuid_type_list PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdFactoryMethods::test_generate_creates_unique_ids PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdFactoryMethods::test_from_string_valid_uuid PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdFactoryMethods::test_from_string_uppercase_uuid PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdFactoryMethods::test_from_string_without_dashes PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdFactoryMethods::test_from_string_invalid_format PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdFactoryMethods::test_from_string_none PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdFactoryMethods::test_from_string_non_string_type PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdStringRepresentation::test_str_representation PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdStringRepresentation::test_str_representation_generated PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdStringRepresentation::test_repr_not_implemented PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEquality::test_equality_same_uuid PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEquality::test_equality_different_uuids PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEquality::test_equality_with_non_subjective_id PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEquality::test_equality_reflexive PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEquality::test_equality_symmetric PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEquality::test_equality_transitive PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdHashing::test_hash_consistency PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdHashing::test_hash_equality_implies_same_hash PASSED [ 87%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdHashing::test_hash_different_for_different_uuids PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdHashing::test_usable_as_dict_key PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdHashing::test_usable_in_set PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdRoundTripConversion::test_generate_to_string_to_from_string PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdRoundTripConversion::test_from_string_to_string_consistency PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdRoundTripConversion::test_uuid_to_subjective_id_to_string PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdRoundTripConversion::test_multiple_round_trips PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEdgeCases::test_nil_uuid PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEdgeCases::test_max_uuid PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEdgeCases::test_uuid_versions PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEdgeCases::test_case_insensitive_from_string PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEdgeCases::test_compact_uuid_string PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdEdgeCases::test_memory_efficiency PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdCollections::test_list_operations PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdCollections::test_set_operations PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdCollections::test_dict_key_operations PASSED [ 88%]
tests/unit/contexts/subjective/domain/test_subjective_id_value_object.py::TestSubjectiveIdCollections::test_sorting PASSED [ 88%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_creation_success PASSED [ 88%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_creation_default_z PASSED [ 88%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_creation_default_precision PASSED [ 88%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_precision_rounding PASSED [ 88%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_validation_invalid_types PASSED [ 88%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_validation_nan_values PASSED [ 88%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_validation_infinite_values PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_validation_precision_invalid_type PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_validation_precision_out_of_range PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_coordinates_validation_extreme_values PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_to_3d PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_to_3d_with_z PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_to_same_point PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_to_invalid_type PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_to_2d PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_to_2d_same_point PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_to_2d_invalid_type PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_manhattan_distance_to PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_manhattan_distance_same_point PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_manhattan_distance_invalid_type PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_is_within_range_true PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_is_within_range_false PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_is_within_range_exact_boundary PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_is_within_range_negative_distance_fails PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_translate PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_translate_default_dz PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_midpoint PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_midpoint_same_point PASSED [ 89%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_midpoint_invalid_type PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_to_tuple PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_to_tuple_2d PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_to_dict PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_from_tuple_2d PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_from_tuple_3d PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_from_tuple_invalid_length PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_from_dict_complete PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_from_dict_minimal PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_from_dict_missing_required PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_origin_factory PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_origin_default_precision PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_addition PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_addition_invalid_type PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_subtraction PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_subtraction_invalid_type PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_multiplication_by_scalar PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_multiplication_by_integer PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_multiplication_invalid_type PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_right_multiplication PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_str_representation PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_repr_representation PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_immutability_frozen_dataclass PASSED [ 90%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_operations_create_new_instances PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_equality PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_equality_different_precision PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_hash_consistency PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_hashable_in_set PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_precision_zero PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_precision_maximum PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_very_small_coordinates PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_boundary_coordinate_values PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_distance_calculations_with_precision PASSED [ 91%]
tests/unit/contexts/world/domain/test_coordinates_value_object.py::TestCoordinatesValueObject::test_complex_mathematical_operations PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_world_state_initialization PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_world_state_auto_name_generation PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_world_state_validation_empty_name PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_world_state_validation_future_time PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_world_state_validation_entity_limit PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_activate_world_state PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_pause_world_state PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_pause_non_active_world_state PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_archive_world_state PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_add_entity_success PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_add_duplicate_entity_fails PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_remove_entity_success PASSED [ 91%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_remove_nonexistent_entity PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_move_entity_success PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_move_nonexistent_entity PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_update_entity_success PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_update_nonexistent_entity PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_entity_success PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_nonexistent_entity PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_entities_by_type PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_entities_in_area PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_entities_in_area_with_type_filter PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_entities_at_coordinates_exact PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_entities_at_coordinates_with_tolerance PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_advance_time_success PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_advance_time_backwards_fails PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_advance_time_same_time_fails PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_update_environment_success PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_update_environment_merge_properties PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_spatial_grid_key PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_spatial_grid_key_negative_coordinates PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_add_to_spatial_index PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_remove_from_spatial_index PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_remove_from_spatial_index_nonexistent PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_entities_from_spatial_index PASSED [ 92%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_create_snapshot PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_reset_state_preserve_entities PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_reset_state_clear_entities PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_get_statistics PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_domain_events_generation FAILED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_domain_events_clear PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_has_domain_events PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_entity_operations_empty_spatial_index PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_large_coordinate_values PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_boundary_spatial_grid PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_concurrent_entity_modifications PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_entity_id_consistency PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_world_state_version_consistency PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_complete_entity_lifecycle PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_spatial_query_integration PASSED [ 93%]
tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_environment_and_time_integration PASSED [ 93%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_factory_initialization_success PASSED [ 93%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_factory_initialization_no_event_bus FAILED [ 93%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_create_character_success FAILED [ 93%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_create_character_not_found FAILED [ 93%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_create_character_invalid_name FAILED [ 93%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_load_character_data_success FAILED [ 93%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_validate_character_directory_success FAILED [ 94%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_validate_character_directory_invalid FAILED [ 94%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_character_factory_error_handling FAILED [ 94%]
tests/unit/test_character_factory.py::TestCharacterFactory::test_multiple_character_creation FAILED [ 94%]
tests/unit/test_character_factory.py::TestCharacterFactoryConfiguration::test_factory_with_different_configurations PASSED [ 94%]
tests/unit/test_character_factory.py::TestCharacterFactoryConfiguration::test_factory_character_path_resolution FAILED [ 94%]
tests/unit/test_character_factory.py::TestCharacterFactoryPerformance::test_character_creation_performance FAILED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentKnowledgeSystem::test_retrieve_relevant_knowledge_rag_no_knowledge_base PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentKnowledgeSystem::test_create_default_knowledge_fragments PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentKnowledgeSystem::test_extract_rag_context_keywords PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentKnowledgeSystem::test_rank_knowledge_fragments PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentNarrativeEngine::test_narrative_resolver_initialization PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentNarrativeEngine::test_story_state_tracking FAILED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentNarrativeEngine::test_world_state_tracker_initialization FAILED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentNarrativeEngine::test_campaign_brief_integration PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentWorldStateManagement::test_world_state_data_initialization PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentWorldStateManagement::test_world_state_file_handling PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentWorldStateManagement::test_initialize_default_world_state PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentWorldStateManagement::test_world_state_persistence_methods PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_agent_registration_capacity PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_agent_validation_system PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_turn_orchestration_workflow PASSED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_error_tracking_system FAILED [ 94%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_simulation_state_tracking PASSED [ 95%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_configuration_driven_parameters FAILED [ 95%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentEventHandling::test_event_bus_integration PASSED [ 95%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentEventHandling::test_agent_action_handling PASSED [ 95%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentEventHandling::test_turn_start_event_emission PASSED [ 95%]
tests/unit/test_director_agent_advanced.py::TestDirectorAgentEventHandling::test_event_logging_integration PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentInitialization::test_initialization_with_valid_config FAILED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentInitialization::test_initialization_without_config FAILED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentInitialization::test_initialization_with_world_state_file PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentInitialization::test_initialization_with_campaign_brief PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentInitialization::test_initialization_event_bus_subscription PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_agent_success FAILED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_agent_validation_checks PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_multiple_agents FAILED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_agent_duplicate_handling PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_agent_character_data_validation FAILED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentTurnExecution::test_run_turn_with_registered_agents PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentTurnExecution::test_run_turn_no_agents PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentTurnExecution::test_run_turn_agent_error_handling PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentLogging::test_campaign_log_initialization PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentLogging::test_campaign_log_creation_with_existing_file PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentLogging::test_log_event_functionality PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentLogging::test_turn_logging_integration PASSED [ 95%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentWorldState::test_world_state_loading_existing_file PASSED [ 96%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentWorldState::test_world_state_initialization_missing_file PASSED [ 96%]
tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentWorldState::test_world_state_agent_specific_generation PASSED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentInitialization::test_initialization_with_valid_character_directory SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentInitialization::test_initialization_auto_generate_agent_id SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentInitialization::test_initialization_missing_character_directory SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentInitialization::test_initialization_empty_character_directory SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentInitialization::test_event_bus_subscription SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentCharacterLoading::test_character_data_parsing_basic_info SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentCharacterLoading::test_character_data_parsing_personality_traits SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentCharacterLoading::test_character_data_parsing_malformed_content SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentCharacterLoading::test_multiple_character_files_handling SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentDecisionMaking::test_handle_turn_start_basic_functionality SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentDecisionMaking::test_handle_turn_start_no_action SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentDecisionMaking::test_make_decision_with_valid_world_state SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentDecisionMaking::test_decision_making_error_handling SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentWorldInterpretation::test_subjective_worldview_initialization SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentWorldInterpretation::test_world_event_interpretation_methods SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentWorldInterpretation::test_threat_assessment_capability SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentAIIntegration::test_ai_api_key_validation SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentAIIntegration::test_ai_integration_fallback_behavior SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentAIIntegration::test_ai_request_handling_with_mock SKIPPED [ 96%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentMemoryAndEvolution::test_memory_system_initialization SKIPPED [ 97%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentMemoryAndEvolution::test_character_evolution_tracking SKIPPED [ 97%]
tests/unit/test_persona_agent_comprehensive.py::TestPersonaAgentMemoryAndEvolution::test_memory_persistence_capability SKIPPED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_root_endpoint_success PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_health_endpoint_success FAILED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_health_endpoint_config_error PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_characters_endpoint_empty_directory PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_characters_endpoint_populated_directory PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_characters_endpoint_directory_not_found PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_character_detail_endpoint_success FAILED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_character_detail_endpoint_not_found PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_valid_request PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_invalid_request_empty_characters PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_invalid_request_too_many_characters PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_character_not_found FAILED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_campaigns_endpoint_success PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_create_campaign_endpoint_success PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_health_endpoint_severe_error PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_characters_endpoint_permission_error PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_characters_endpoint_unexpected_error PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_empty_character_list PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_character_loading_failure PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_director_turn_failure PASSED [ 97%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_story_generation_failure FAILED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_character_detail_endpoint_unexpected_error FAILED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_campaigns_endpoint_file_system_error PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_create_campaign_endpoint_file_creation_failure PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerErrorHandling::test_404_endpoint_not_found FAILED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerErrorHandling::test_405_method_not_allowed PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerErrorHandling::test_422_validation_error PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerSecurity::test_cors_headers_present PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerSecurity::test_input_validation_sql_injection_attempt PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerSecurity::test_input_validation_xss_attempt FAILED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerSecurity::test_path_traversal_protection FAILED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerSecurity::test_large_payload_handling PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerPerformance::test_health_endpoint_response_time PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerPerformance::test_characters_endpoint_response_time PASSED [ 98%]
tests/unit/test_unit_api_server.py::TestAPIServerPerformance::test_concurrent_health_checks PASSED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_chronicler_initialization_success PASSED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_chronicler_initialization_no_event_bus PASSED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_chronicler_initialization_no_characters FAILED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_success FAILED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_file_not_found FAILED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_empty_file FAILED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_api_failure FAILED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_invalid_response FAILED [ 98%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_log_content_processing PASSED [ 99%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_character_name_integration FAILED [ 99%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentAdvanced::test_event_bus_integration PASSED [ 99%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentAdvanced::test_story_quality_validation FAILED [ 99%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentAdvanced::test_different_character_configurations PASSED [ 99%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentAdvanced::test_large_log_file_handling FAILED [ 99%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentPerformance::test_transcription_performance FAILED [ 99%]
tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentPerformance::test_multiple_transcriptions_performance FAILED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_director_initialization_success PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_director_initialization_no_event_bus FAILED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_register_agent_success FAILED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_register_multiple_agents FAILED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_register_agent_duplicate PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_register_agent_invalid_agent FAILED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_run_turn_success FAILED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_run_turn_no_agents PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_run_turn_agent_failure PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_campaign_logging PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgentAdvanced::test_event_bus_interaction PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgentAdvanced::test_director_state_management FAILED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgentAdvanced::test_director_configuration_handling PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgentPerformance::test_agent_registration_performance PASSED [ 99%]
tests/unit/test_unit_director_agent.py::TestDirectorAgentPerformance::test_turn_execution_performance PASSED [100%]

=================================== ERRORS ====================================
_ ERROR at setup of TestPerformanceValidation.test_response_time_requirements _
file D:\Code\Novel-Engine\tests\test_ai_intelligence_integration.py, line 502
      @pytest.mark.asyncio
      async def test_response_time_requirements(self, temp_database):
          """Test that response times meet performance requirements."""
          config = IntegrationConfig(
              integration_mode=IntegrationMode.AI_ENHANCED,
              performance_threshold=2.0,  # 2 second threshold
          )

          orchestrator = IntegrationOrchestrator(
              database_path=temp_database, integration_config=config
          )

          await orchestrator.startup()

          start_time = datetime.now()
          result = await orchestrator.process_character_action(
              agent_id="performance_test", action="test_action"
          )
          end_time = datetime.now()

          response_time = (end_time - start_time).total_seconds()

          assert result.success
          assert response_time < config.performance_threshold

          await orchestrator.shutdown()
E       fixture 'temp_database' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, characters_directory, class_mocker, clean_environment, cov, doctest_namespace, event_loop, event_loop_policy, mock_character_factory, mock_chronicler_agent, mock_config, mock_director_agent, mock_event_bus, mock_gemini_api_key, mock_gemini_response, mocker, module_mocker, monkeypatch, no_cover, package_mocker, project_root_path, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_api_response, sample_character_data, sample_characters_response, sample_simulation_request, sample_simulation_response, session_mocker, temp_dir, test_data_dir, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

D:\Code\Novel-Engine\tests\test_ai_intelligence_integration.py:502
____ ERROR at setup of TestPerformanceValidation.test_throughput_capacity _____
file D:\Code\Novel-Engine\tests\test_ai_intelligence_integration.py, line 529
      @pytest.mark.asyncio
      async def test_throughput_capacity(self, temp_database):
          """Test system throughput capacity."""
          orchestrator = IntegrationOrchestrator(database_path=temp_database)
          await orchestrator.startup()

          # Measure throughput over time period
          start_time = datetime.now()
          operation_count = 0

          # Run operations for 5 seconds
          while (datetime.now() - start_time).total_seconds() < 5:
              await orchestrator.process_character_action(
                  agent_id=f"throughput_agent_{operation_count}", action="throughput_test"
              )
              operation_count += 1

          end_time = datetime.now()
          duration = (end_time - start_time).total_seconds()
          operations_per_second = operation_count / duration

          # Should handle at least 1 operation per second
          assert operations_per_second >= 1.0

          await orchestrator.shutdown()
E       fixture 'temp_database' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, characters_directory, class_mocker, clean_environment, cov, doctest_namespace, event_loop, event_loop_policy, mock_character_factory, mock_chronicler_agent, mock_config, mock_director_agent, mock_event_bus, mock_gemini_api_key, mock_gemini_response, mocker, module_mocker, monkeypatch, no_cover, package_mocker, project_root_path, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_api_response, sample_character_data, sample_characters_response, sample_simulation_request, sample_simulation_response, session_mocker, temp_dir, test_data_dir, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

D:\Code\Novel-Engine\tests\test_ai_intelligence_integration.py:529
____ ERROR at setup of TestPerformanceValidation.test_resource_utilization ____
file D:\Code\Novel-Engine\tests\test_ai_intelligence_integration.py, line 555
      @pytest.mark.asyncio
      async def test_resource_utilization(self, temp_database):
          """Test resource utilization under load."""
          orchestrator = IntegrationOrchestrator(database_path=temp_database)
          await orchestrator.startup()

          await orchestrator._generate_integration_metrics()

          # Generate load
          tasks = []
          for i in range(50):
              task = orchestrator.process_character_action(
                  agent_id=f"load_agent_{i}", action="load_test"
              )
              tasks.append(task)

          results = await asyncio.gather(*tasks)

          final_metrics = await orchestrator._generate_integration_metrics()

          # Verify all operations succeeded
          assert all(result.success for result in results)

          # Check that system health remained good
          assert final_metrics.system_health_score > 0.5

          await orchestrator.shutdown()
E       fixture 'temp_database' not found
>       available fixtures: _class_scoped_runner, _function_scoped_runner, _module_scoped_runner, _package_scoped_runner, _session_scoped_runner, anyio_backend, anyio_backend_name, anyio_backend_options, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, characters_directory, class_mocker, clean_environment, cov, doctest_namespace, event_loop, event_loop_policy, mock_character_factory, mock_chronicler_agent, mock_config, mock_director_agent, mock_event_bus, mock_gemini_api_key, mock_gemini_response, mocker, module_mocker, monkeypatch, no_cover, package_mocker, project_root_path, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, sample_api_response, sample_character_data, sample_characters_response, sample_simulation_request, sample_simulation_response, session_mocker, temp_dir, test_data_dir, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory
>       use 'pytest --fixtures [testpath]' for help on them.

D:\Code\Novel-Engine\tests\test_ai_intelligence_integration.py:555
__ ERROR at setup of TestEnhancedMultiAgentBridge.test_bridge_initialization __
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_ ERROR at setup of TestEnhancedMultiAgentBridge.test_bridge_component_initialization _
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_ ERROR at setup of TestEnhancedMultiAgentBridge.test_enhanced_turn_execution_no_agents _
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_ ERROR at setup of TestEnhancedMultiAgentBridge.test_enhanced_turn_execution_with_agents _
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_ ERROR at setup of TestEnhancedMultiAgentBridge.test_request_priority_determination _
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
______ ERROR at setup of TestEnhancedMultiAgentBridge.test_bridge_status ______
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_ ERROR at setup of TestEnhancedMultiAgentBridge.test_execution_time_calculation _
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_____ ERROR at setup of TestEnhancedMultiAgentBridge.test_bridge_shutdown _____
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
____ ERROR at setup of TestEnhancedMultiAgentBridge.test_context_building _____
tests\test_enhanced_bridge.py:68: in bridge_config
    return BridgeConfiguration(max_concurrent_agents=5, turn_timeout_seconds=10)
           ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_ ERROR at setup of TestCompleteSystemIntegration.test_iron_laws_integration __
tests\test_integration_complete.py:123: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
___ ERROR at setup of TestIronLawsValidation.test_iron_laws_validation_core ___
tests\test_iron_laws.py:67: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
___ ERROR at setup of TestIronLawsValidation.test_causality_law_validation ____
tests\test_iron_laws.py:67: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
____ ERROR at setup of TestIronLawsValidation.test_resource_law_validation ____
tests\test_iron_laws.py:67: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
____ ERROR at setup of TestIronLawsValidation.test_physics_law_validation _____
tests\test_iron_laws.py:67: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
___ ERROR at setup of TestIronLawsValidation.test_narrative_law_validation ____
tests\test_iron_laws.py:67: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_____ ERROR at setup of TestIronLawsValidation.test_social_law_validation _____
tests\test_iron_laws.py:67: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
______ ERROR at setup of TestIronLawsRepairSystem.test_causality_repair _______
tests\test_iron_laws.py:378: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_______ ERROR at setup of TestIronLawsRepairSystem.test_resource_repair _______
tests\test_iron_laws.py:378: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_______ ERROR at setup of TestIronLawsRepairSystem.test_physics_repair ________
tests\test_iron_laws.py:378: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
______ ERROR at setup of TestIronLawsRepairSystem.test_narrative_repair _______
tests\test_iron_laws.py:378: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
________ ERROR at setup of TestIronLawsRepairSystem.test_social_repair ________
tests\test_iron_laws.py:378: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsRepairSystem.test_comprehensive_repair_attempt _
tests\test_iron_laws.py:378: in director_agent
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
__ ERROR at setup of TestIronLawsHelperMethods.test_group_violations_by_law ___
tests\test_iron_laws.py:675: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsHelperMethods.test_get_current_world_context __
tests\test_iron_laws.py:675: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsHelperMethods.test_determine_overall_validation_result _
tests\test_iron_laws.py:675: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsHelperMethods.test_calculate_action_stamina_cost _
tests\test_iron_laws.py:675: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsIntegration.test_iron_laws_during_turn_processing _
tests\test_iron_laws.py:815: in director_with_agents
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
___ ERROR at setup of TestIronLawsIntegration.test_iron_laws_error_handling ___
tests\test_iron_laws.py:815: in director_with_agents
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsIntegration.test_iron_laws_performance_tracking _
tests\test_iron_laws.py:815: in director_with_agents
    director = DirectorAgent(
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
____ ERROR at setup of TestIronLawsEdgeCases.test_invalid_action_handling _____
tests\test_iron_laws.py:927: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsEdgeCases.test_malformed_character_data_handling _
tests\test_iron_laws.py:927: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_ ERROR at setup of TestIronLawsEdgeCases.test_resource_calculation_edge_cases _
tests\test_iron_laws.py:927: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
____ ERROR at setup of TestIronLawsEdgeCases.test_repair_system_edge_cases ____
tests\test_iron_laws.py:927: in director_agent
    return DirectorAgent()
           ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
___ ERROR at setup of TestUserStories.test_story_1_character_creation_basic ___
tests\test_user_stories.py:77: in api_client
    app = create_app()
          ^^^^^^^^^^^^
src\api\main_api_server.py:342: in create_app
    rate_limit_strategy = RateLimitStrategy()
                          ^^^^^^^^^^^^^^^^^^^
E   TypeError: EnumType.__call__() missing 1 required positional argument: 'value'
___ ERROR at setup of TestUserStories.test_story_1_character_customization ____
tests\test_user_stories.py:77: in api_client
    app = create_app()
          ^^^^^^^^^^^^
src\api\main_api_server.py:342: in create_app
    rate_limit_strategy = RateLimitStrategy()
                          ^^^^^^^^^^^^^^^^^^^
E   TypeError: EnumType.__call__() missing 1 required positional argument: 'value'
___ ERROR at setup of TestUserStories.test_story_1_validation_requirements ____
tests\test_user_stories.py:77: in api_client
    app = create_app()
          ^^^^^^^^^^^^
src\api\main_api_server.py:342: in create_app
    rate_limit_strategy = RateLimitStrategy()
                          ^^^^^^^^^^^^^^^^^^^
E   TypeError: EnumType.__call__() missing 1 required positional argument: 'value'
____ ERROR at setup of TestUserStories.test_story_2_interaction_initiation ____
tests\test_user_stories.py:77: in api_client
    app = create_app()
          ^^^^^^^^^^^^
src\api\main_api_server.py:342: in create_app
    rate_limit_strategy = RateLimitStrategy()
                          ^^^^^^^^^^^^^^^^^^^
E   TypeError: EnumType.__call__() missing 1 required positional argument: 'value'
_____ ERROR at setup of TestUserStories.test_story_2_real_time_monitoring _____
tests\test_user_stories.py:77: in api_client
    app = create_app()
          ^^^^^^^^^^^^
src\api\main_api_server.py:342: in create_app
    rate_limit_strategy = RateLimitStrategy()
                          ^^^^^^^^^^^^^^^^^^^
E   TypeError: EnumType.__call__() missing 1 required positional argument: 'value'
______ ERROR at setup of TestUserStories.test_system_health_and_metrics _______
tests\test_user_stories.py:77: in api_client
    app = create_app()
          ^^^^^^^^^^^^
src\api\main_api_server.py:342: in create_app
    rate_limit_strategy = RateLimitStrategy()
                          ^^^^^^^^^^^^^^^^^^^
E   TypeError: EnumType.__call__() missing 1 required positional argument: 'value'
================================== FAILURES ===================================
______ TestCharacterContextIntegration.test_core_abilities_calculations _______
tests\integration\test_character_context_integration.py:175: in test_core_abilities_calculations
    modifier = abilities.get_ability_modifier(abilities.AbilityScore.STRENGTH)
                                              ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'CoreAbilities' object has no attribute 'AbilityScore'
_ TestCharacterContextIntegration.test_character_application_service_create_character _
tests\integration\test_character_context_integration.py:191: in test_character_application_service_create_character
    return_value=CharacterID()
                 ^^^^^^^^^^^^^
E   TypeError: CharacterID.__init__() missing 1 required positional argument: 'value'
________ TestCharacterContextIntegration.test_character_stats_updates _________
tests\integration\test_character_context_integration.py:259: in test_character_stats_updates
    character_id = str(CharacterID())
                       ^^^^^^^^^^^^^
E   TypeError: CharacterID.__init__() missing 1 required positional argument: 'value'
___________ TestCharacterContextIntegration.test_character_level_up ___________
tests\integration\test_character_context_integration.py:283: in test_character_level_up
    character_id = str(CharacterID())
                       ^^^^^^^^^^^^^
E   TypeError: CharacterID.__init__() missing 1 required positional argument: 'value'
______ TestCharacterContextIntegration.test_character_healing_and_damage ______
tests\integration\test_character_context_integration.py:301: in test_character_healing_and_damage
    character_id = str(CharacterID())
                       ^^^^^^^^^^^^^
E   TypeError: CharacterID.__init__() missing 1 required positional argument: 'value'
_______ TestCharacterContextIntegration.test_character_query_operations _______
tests\integration\test_character_context_integration.py:351: in test_character_query_operations
    class_results = await character_application_service.find_characters_by_class(
contexts\character\application\services\character_application_service.py:378: in find_characters_by_class
    char_class = CharacterClass(character_class.lower())
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\enum.py:757: in __call__
    return cls.__new__(cls, value)
           ^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\enum.py:1171: in __new__
    raise ve_exc
E   ValueError: 'warrior' is not a valid CharacterClass
------------------------------ Captured log call ------------------------------
ERROR    contexts.character.application.services.character_application_service.CharacterApplicationService:character_application_service.py:381 Error finding characters by class 'warrior': 'warrior' is not a valid CharacterClass
________ TestCharacterContextIntegration.test_character_skills_system _________
tests\integration\test_character_context_integration.py:383: in test_character_skills_system
    proficiency_level=ProficiencyLevel.TRAINED,
                      ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'ProficiencyLevel' has no attribute 'TRAINED'. Did you mean: 'UNTRAINED'?
________ TestCharacterContextIntegration.test_character_domain_events _________
tests\integration\test_character_context_integration.py:415: in test_character_domain_events
    character_class=CharacterClass("mage"),
                    ^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\enum.py:757: in __call__
    return cls.__new__(cls, value)
           ^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\enum.py:1171: in __new__
    raise ve_exc
E   ValueError: 'mage' is not a valid CharacterClass
________ TestCharacterContextIntegration.test_character_business_rules ________
tests\integration\test_character_context_integration.py:459: in test_character_business_rules
    assert character.stats.vital_stats.current_health == initial_health
E   AssertionError: assert 34 == 0
E    +  where 34 = VitalStats(max_health=34, current_health=34, max_mana=5, current_mana=5, max_stamina=29, current_stamina=29, armor_class=11, speed=30).current_health
E    +    where VitalStats(max_health=34, current_health=34, max_mana=5, current_mana=5, max_stamina=29, current_stamina=29, armor_class=11, speed=30) = CharacterStats(core_abilities=CoreAbilities(strength=15, dexterity=12, constitution=14, intelligence=10, wisdom=11, charisma=13), vital_stats=VitalStats(max_health=34, current_health=34, max_mana=5, current_mana=5, max_stamina=29, current_stamina=29, armor_class=11, speed=30), combat_stats=CombatStats(base_attack_bonus=0, initiative_modifier=1, damage_reduction=0, spell_resistance=0, critical_hit_chance=0.05, critical_damage_multiplier=2.0), experience_points=0, skill_points=5).vital_stats
E    +      where CharacterStats(core_abilities=CoreAbilities(strength=15, dexterity=12, constitution=14, intelligence=10, wisdom=11, charisma=13), vital_stats=VitalStats(max_health=34, current_health=34, max_mana=5, current_mana=5, max_stamina=29, current_stamina=29, armor_class=11, speed=30), combat_stats=CombatStats(base_attack_bonus=0, initiative_modifier=1, damage_reduction=0, spell_resistance=0, critical_hit_chance=0.05, critical_damage_multiplier=2.0), experience_points=0, skill_points=5) = Character(character_id=CharacterID('6e5bd9a7-f228-4c11-9c3f-b56899a7f361'), profile=CharacterProfile(name='Rules Test Character', gender=<Gender.NON_BINARY: 'non_binary'>, race=<CharacterRace.DWARF: 'dwarf'>, character_class=<CharacterClass.ROGUE: 'rogue'>, age=50, level=1, physical_traits=PhysicalTraits(height_cm=None, weight_kg=None, hair_color=None, eye_color=None, skin_tone=None, distinguishing_marks=None, physical_description=None), personality_traits=PersonalityTraits(traits={'courage': 0.5, 'intelligence': 0.5, 'charisma': 0.5, 'loyalty': 0.5}, alignment=None, motivations=None, fears=None, quirks=None, ideals=None, bonds=None, flaws=None), background=Background(backstory=None, homeland=None, family=None, education=None, previous_occupations=None, significant_events=None, reputation=None), title=None, affiliation=None, languages=None), stats=CharacterStats(core_abilities=CoreAbilities(strength=15, dexterity=12, constitution=14, intelligence=10, wisdom=11, charisma=13), vital_stats=VitalStats(max_health=34, current_health=34, max_mana=5, current_mana=5, max_stamina=29, current_stamina=29, armor_class=11, speed=30), combat_stats=CombatStats(base_attack_bonus=0, initiative_mod...D: 0>, modifier=0, description=None)})}, languages={'Common'}, specializations={}), created_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248), updated_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248), version=3, _events=[CharacterCreated(event_id='3277cd9b-42c0-4ca2-a7de-2e64ca4b06b0', character_id=CharacterID('6e5bd9a7-f228-4c11-9c3f-b56899a7f361'), occurred_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248), character_name='Rules Test Character', character_class='rogue', level=1, created_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248)), CharacterStatsChanged(event_id='4c433bc7-bb51-4c21-9127-b197eebbb11a', character_id=CharacterID('6e5bd9a7-f228-4c11-9c3f-b56899a7f361'), occurred_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248), old_health=34, new_health=0, old_mana=5, new_mana=5, changed_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248)), CharacterStatsChanged(event_id='658c1903-d534-4677-ae20-79d66533f0d6', character_id=CharacterID('6e5bd9a7-f228-4c11-9c3f-b56899a7f361'), occurred_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248), old_health=0, new_health=34, old_mana=5, new_mana=5, changed_at=datetime.datetime(2025, 9, 15, 13, 40, 11, 697248))]).stats
______ TestCharacterContextIntegration.test_character_export_import_data ______
tests\integration\test_character_context_integration.py:478: in test_character_export_import_data
    assert "name" in summary
E   AssertionError: assert 'name' in {'class': 'bard', 'created_at': '2025-09-15T13:40:11.986332', 'id': 'c502f244-28fa-4274-8a81-47e8bfe0ddc7', 'is_alive': True, ...}
________ TestTurnOrchestrationE2E.test_complete_turn_orchestration_e2e ________
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:101: in map_httpcore_exceptions
    yield
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:394: in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection_pool.py:216: in handle_async_request
    raise exc from None
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection_pool.py:196: in handle_async_request
    response = await connection.handle_async_request(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:99: in handle_async_request
    raise exc
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:76: in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:122: in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\auto.py:30: in connect_tcp
    return await self._backend.connect_tcp(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\anyio.py:115: in connect_tcp
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:158: in __exit__
    self.gen.throw(value)
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_exceptions.py:14: in map_exceptions
    raise to_exc(exc) from exc
E   httpcore.ConnectError: All connection attempts failed

The above exception was the direct cause of the following exception:
tests\integration\test_e2e_turn_orchestration.py:409: in test_complete_turn_orchestration_e2e
    response = await client.post(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1859: in post
    return await self.request(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:393: in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:158: in __exit__
    self.gen.throw(value)
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:118: in map_httpcore_exceptions
    raise mapped_exc(message) from exc
E   httpx.ConnectError: All connection attempts failed
___ TestTurnOrchestrationE2E.test_turn_orchestration_with_validation_errors ___
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:101: in map_httpcore_exceptions
    yield
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:394: in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection_pool.py:216: in handle_async_request
    raise exc from None
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection_pool.py:196: in handle_async_request
    response = await connection.handle_async_request(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:99: in handle_async_request
    raise exc
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:76: in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:122: in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\auto.py:30: in connect_tcp
    return await self._backend.connect_tcp(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\anyio.py:115: in connect_tcp
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:158: in __exit__
    self.gen.throw(value)
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_exceptions.py:14: in map_exceptions
    raise to_exc(exc) from exc
E   httpcore.ConnectError: All connection attempts failed

The above exception was the direct cause of the following exception:
tests\integration\test_e2e_turn_orchestration.py:457: in test_turn_orchestration_with_validation_errors
    response = await client.post(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1859: in post
    return await self.request(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:393: in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:158: in __exit__
    self.gen.throw(value)
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:118: in map_httpcore_exceptions
    raise mapped_exc(message) from exc
E   httpx.ConnectError: All connection attempts failed
______ TestTurnOrchestrationE2E.test_turn_orchestration_async_execution _______
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:101: in map_httpcore_exceptions
    yield
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:394: in handle_async_request
    resp = await self._pool.handle_async_request(req)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection_pool.py:216: in handle_async_request
    raise exc from None
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection_pool.py:196: in handle_async_request
    response = await connection.handle_async_request(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:99: in handle_async_request
    raise exc
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:76: in handle_async_request
    stream = await self._connect(request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_async\connection.py:122: in _connect
    stream = await self._network_backend.connect_tcp(**kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\auto.py:30: in connect_tcp
    return await self._backend.connect_tcp(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_backends\anyio.py:115: in connect_tcp
    with map_exceptions(exc_map):
         ^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:158: in __exit__
    self.gen.throw(value)
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpcore\_exceptions.py:14: in map_exceptions
    raise to_exc(exc) from exc
E   httpcore.ConnectError: All connection attempts failed

The above exception was the direct cause of the following exception:
tests\integration\test_e2e_turn_orchestration.py:487: in test_turn_orchestration_async_execution
    response = await client.post(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1859: in post
    return await self.request(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1540: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1629: in send
    response = await self._send_handling_auth(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1657: in _send_handling_auth
    response = await self._send_handling_redirects(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1694: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_client.py:1730: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:393: in handle_async_request
    with map_httpcore_exceptions():
         ^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:158: in __exit__
    self.gen.throw(value)
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\httpx\_transports\default.py:118: in map_httpcore_exceptions
    raise mapped_exc(message) from exc
E   httpx.ConnectError: All connection attempts failed
______________ TestWorldAPIIntegration.test_world_router_import _______________
tests\integration\test_world_api_integration.py:62: in test_world_router_import
    assert any(
E   AssertionError: Missing route: /{world_id}/history
E   assert False
E    +  where False = any(<generator object TestWorldAPIIntegration.test_world_router_import.<locals>.<genexpr> at 0x000001C77F322CF0>)
_________ TestWorldAPIIntegration.test_world_delta_endpoint_structure _________
tests\integration\test_world_api_integration.py:88: in test_world_delta_endpoint_structure
    assert response.status_code != 404, "World delta endpoint should exist"
E   AssertionError: World delta endpoint should exist
E   assert 404 != 404
E    +  where 404 = <Response [404 Not Found]>.status_code
_________ TestWorldAPIIntegration.test_world_slice_endpoint_structure _________
tests\integration\test_world_api_integration.py:107: in test_world_slice_endpoint_structure
    assert response.status_code != 404, "World slice endpoint should exist"
E   AssertionError: World slice endpoint should exist
E   assert 404 != 404
E    +  where 404 = <Response [404 Not Found]>.status_code
________ TestWorldAPIIntegration.test_world_summary_endpoint_structure ________
tests\integration\test_world_api_integration.py:127: in test_world_summary_endpoint_structure
    assert response.status_code != 404, "World summary endpoint should exist"
E   AssertionError: World summary endpoint should exist
E   assert 404 != 404
E    +  where 404 = <Response [404 Not Found]>.status_code
________ TestWorldAPIIntegration.test_world_history_endpoint_structure ________
tests\integration\test_world_api_integration.py:139: in test_world_history_endpoint_structure
    assert response.status_code != 404, "World history endpoint should exist"
E   AssertionError: World history endpoint should exist
E   assert 404 != 404
E    +  where 404 = <Response [404 Not Found]>.status_code
_______ TestWorldAPIIntegration.test_world_validate_endpoint_structure ________
tests\integration\test_world_api_integration.py:157: in test_world_validate_endpoint_structure
    assert response.status_code != 404, "World validate endpoint should exist"
E   AssertionError: World validate endpoint should exist
E   assert 404 != 404
E    +  where 404 = <Response [404 Not Found]>.status_code
__________ TestWorldAPIIntegration.test_world_endpoints_http_methods __________
tests\integration\test_world_api_integration.py:183: in test_world_endpoints_http_methods
    assert response.status_code == 405, "Delta endpoint should reject GET"
E   AssertionError: Delta endpoint should reject GET
E   assert 404 == 405
E    +  where 404 = <Response [404 Not Found]>.status_code
________________ TestAuthentication.test_jwt_token_validation _________________
tests\security\test_comprehensive_security.py:126: in test_jwt_token_validation
    auth_manager = security_suite.auth_manager
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'auth_manager'
___________ TestAuthentication.test_password_security_requirements ____________
tests\security\test_comprehensive_security.py:147: in test_password_security_requirements
    auth_manager = security_suite.auth_manager
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'auth_manager'
_______________ TestAuthentication.test_brute_force_protection ________________
tests\security\test_comprehensive_security.py:169: in test_brute_force_protection
    auth_manager = security_suite.auth_manager
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'auth_manager'
__________________ TestAuthentication.test_token_expiration ___________________
tests\security\test_comprehensive_security.py:188: in test_token_expiration
    auth_manager = security_suite.auth_manager
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'auth_manager'
______________ TestAuthorization.test_role_based_access_control _______________
tests\security\test_comprehensive_security.py:220: in test_role_based_access_control
    auth_manager = security_suite.auth_manager
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'auth_manager'
___________ TestAuthorization.test_permission_escalation_prevention ___________
tests\security\test_comprehensive_security.py:239: in test_permission_escalation_prevention
    auth_manager = security_suite.auth_manager
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'auth_manager'
________________ TestRateLimiting.test_rate_limit_enforcement _________________
tests\security\test_comprehensive_security.py:352: in test_rate_limit_enforcement
    backend = rate_limiter.backend
              ^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'coroutine' object has no attribute 'backend'
____________________ TestRateLimiting.test_ddos_detection _____________________
tests\security\test_comprehensive_security.py:373: in test_ddos_detection
    ddos_detector = rate_limiter.ddos_detector
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'coroutine' object has no attribute 'ddos_detector'
_____________________ TestRateLimiting.test_ip_whitelist ______________________
tests\security\test_comprehensive_security.py:389: in test_ip_whitelist
    whitelist = rate_limiter.whitelist
                ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'coroutine' object has no attribute 'whitelist'
___________ TestSecurityHeaders.test_security_headers_configuration ___________
tests\security\test_comprehensive_security.py:411: in test_security_headers_configuration
    csp_header = headers.get_header("Content-Security-Policy")
                 ^^^^^^^^^^^^^^^^^^
E   AttributeError: 'SecurityHeaders' object has no attribute 'get_header'
__________ TestVulnerabilityAssessment.test_owasp_top_10_protection ___________
tests\security\test_comprehensive_security.py:446: in test_owasp_top_10_protection
    response = await security_suite.client.get("/")
                     ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'client'
_____ TestVulnerabilityAssessment.test_information_disclosure_prevention ______
tests\security\test_comprehensive_security.py:477: in test_information_disclosure_prevention
    response = await security_suite.client.get("/nonexistent-endpoint")
                     ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'client'
______________ TestVulnerabilityAssessment.test_session_security ______________
tests\security\test_comprehensive_security.py:489: in test_session_security
    auth_manager = security_suite.auth_manager
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'auth_manager'
___________ TestSecurityPerformance.test_rate_limiting_performance ____________
tests\security\test_comprehensive_security.py:534: in test_rate_limiting_performance
    from src.security.rate_limiting import RateLimit
E   ImportError: cannot import name 'RateLimit' from 'src.security.rate_limiting' (D:\Code\Novel-Engine\src\security\rate_limiting.py)
__________ TestSecurityPerformance.test_input_validation_performance __________
tests\security\test_comprehensive_security.py:573: in test_input_validation_performance
    assert duration < 0.5  # Less than 500ms for 1000 validations
    ^^^^^^^^^^^^^^^^^^^^^
E   assert 2.9635839462280273 < 0.5
____________ TestSecurityIntegration.test_end_to_end_security_flow ____________
tests\security\test_comprehensive_security.py:592: in test_end_to_end_security_flow
    user_data = security_suite.test_users["creator_user"]
                ^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'test_users'
_ TestAIIntelligenceIntegration.test_character_action_processing_traditional __
tests\test_ai_intelligence_integration.py:173: in test_character_action_processing_traditional
    assert result.success
E   assert False
E    +  where False = StandardResponse(success=False, data=None, error=ErrorInfo(code='AGENT_CONTEXT_CREATION_FAILED', message='Agent context creation failed', details={'agent_id': 'test_agent', 'exception': "CharacterPersona.__init__() got an unexpected keyword argument 'character_name'"}, recoverable=True, standard_guidance=None), metadata={}, timestamp=datetime.datetime(2025, 9, 15, 13, 41, 13, 158615)).success
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for test_agent: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmpjz3ojx7j.db
_ TestAIIntelligenceIntegration.test_character_action_processing_ai_enhanced __
tests\test_ai_intelligence_integration.py:184: in test_character_action_processing_ai_enhanced
    with patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <src.ai_intelligence.agent_coordination_engine.AgentCoordinationEngine object at 0x000001C77EDE0860> does not have the attribute 'coordinate_agent_action'
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmpdlknt1z7.db
___ TestAIIntelligenceIntegration.test_character_action_fallback_mechanism ____
tests\test_ai_intelligence_integration.py:208: in test_character_action_fallback_mechanism
    with patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <src.ai_intelligence.agent_coordination_engine.AgentCoordinationEngine object at 0x000001C77EE2C050> does not have the attribute 'coordinate_agent_action'
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmpn921hb21.db
_______ TestAIIntelligenceIntegration.test_story_generation_traditional _______
tests\test_ai_intelligence_integration.py:240: in test_story_generation_traditional
    assert result.success
E   assert False
E    +  where False = StandardResponse(success=False, data=None, error=ErrorInfo(code='STORY_GENERATION_ERROR', message='Story generation failed', details={'prompt': 'Generate a science fiction story', 'exception': "'AIIntelligenceOrchestrator' object has no attribute 'story_quality_engine'"}, recoverable=True, standard_guidance=None), metadata={}, timestamp=datetime.datetime(2025, 9, 15, 13, 41, 18, 698781)).success
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:421 Error generating story content: 'AIIntelligenceOrchestrator' object has no attribute 'story_quality_engine'
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmpede_q97_.db
_______ TestAIIntelligenceIntegration.test_story_generation_ai_enhanced _______
tests\test_ai_intelligence_integration.py:251: in test_story_generation_ai_enhanced
    integration_orchestrator.ai_orchestrator.story_quality_engine,
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AIIntelligenceOrchestrator' object has no attribute 'story_quality_engine'
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmp8qxs668q.db
_____________ TestAIIntelligenceIntegration.test_timeout_handling _____________
tests\test_ai_intelligence_integration.py:429: in test_timeout_handling
    assert result.success
E   assert False
E    +  where False = StandardResponse(success=False, data=None, error=ErrorInfo(code='AGENT_CONTEXT_CREATION_FAILED', message='Agent context creation failed', details={'agent_id': 'timeout_test', 'exception': "CharacterPersona.__init__() got an unexpected keyword argument 'character_name'"}, recoverable=True, standard_guidance=None), metadata={}, timestamp=datetime.datetime(2025, 9, 15, 13, 41, 35, 756141)).success
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
WARNING  src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:567 AI processing timeout for timeout_test, falling back to traditional
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for timeout_test: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmps2csv42e.db
__________ TestAIIntelligenceIntegration.test_analytics_integration ___________
tests\test_ai_intelligence_integration.py:437: in test_analytics_integration
    integration_orchestrator.ai_orchestrator.analytics_platform,
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'AIIntelligenceOrchestrator' object has no attribute 'analytics_platform'
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmp1ft5m6ie.db
__________ TestAIIntelligenceIntegration.test_concurrent_operations ___________
tests\test_ai_intelligence_integration.py:471: in test_concurrent_operations
    assert all(result.success for result in results)
E   assert False
E    +  where False = all(<generator object TestAIIntelligenceIntegration.test_concurrent_operations.<locals>.<genexpr> at 0x000001C77F365540>)
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_0: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_1: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_2: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_3: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_4: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_5: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_6: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_7: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_8: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for concurrent_agent_9: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_6: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_4: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_3: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_0: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_1: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_8: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_5: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_9: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_7: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for concurrent_agent_2: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmp8op4aoqq.db
____________ TestAIIntelligenceIntegration.test_memory_and_cleanup ____________
tests\test_ai_intelligence_integration.py:487: in test_memory_and_cleanup
    assert len(integration_orchestrator.metrics_history) > 0
E   assert 0 > 0
E    +  where 0 = len([])
E    +    where [] = <src.ai_intelligence.integration_orchestrator.IntegrationOrchestrator object at 0x000001C77F398BF0>.metrics_history
------------------------------ Captured log call ------------------------------
ERROR    src.core.emergent_narrative:emergent_narrative.py:1417 AgentNegotiationEngine not properly initialized
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_0: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_0: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_1: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_1: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_2: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_2: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_3: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_3: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_4: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_4: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_5: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_5: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_6: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_6: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_7: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_7: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_8: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_8: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_9: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_9: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_10: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_10: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_11: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_11: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_12: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_12: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_13: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_13: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_14: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_14: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_15: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_15: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_16: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_16: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_17: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_17: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_18: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_18: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
ERROR    src.ai_intelligence.integration_orchestrator:integration_orchestrator.py:572 Hybrid processing error for memory_test_19: 'AgentCoordinationEngine' object has no attribute 'coordinate_agent_action'
ERROR    src.core.system_orchestrator:system_orchestrator.py:515 Error creating agent context for memory_test_19: CharacterPersona.__init__() got an unexpected keyword argument 'character_name'
-------------------------- Captured stdout teardown ---------------------------
Warning: Error during orchestrator cleanup: no running event loop
Warning: Could not delete temporary database C:\Users\k7407\AppData\Local\Temp\tmpvsdmk2nd.db
___________ TestCharacterEndpoints.test_character_detail_scientist ____________
tests\test_api_endpoints_comprehensive.py:118: in test_character_detail_scientist
    assert "Xenobiology Research" in data["narrative_context"]
E   AssertionError: assert 'Xenobiology Research' in 'Dr. Maya Patel. Lead Xenobiologist. Scientific Research Institute'
___________ TestCharacterEndpoints.test_enhanced_character_endpoint ___________
tests\test_api_endpoints_comprehensive.py:158: in test_enhanced_character_endpoint
    assert "enhanced_context" in data
E   AssertionError: assert 'enhanced_context' in {'backstory': '', 'description': 'Enhanced character profile for pilot', 'enhanced': True, 'goals': [], ...}
____________ TestSimulationEndpoints.test_simulation_story_quality ____________
tests\test_api_endpoints_comprehensive.py:244: in test_simulation_story_quality
    assert story.count(".") > 3  # Multiple sentences
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 2 > 3
E    +  where 2 = <built-in method count of str object at 0x000001C77EA5F4B0>('.')
E    +    where <built-in method count of str object at 0x000001C77EA5F4B0> = 'In the vast expanse of the cosmos, a story unfolds.\n\nA noteworthy event occurred: Turn 1 begins\n\nA noteworthy event occurred: Turn 2 begins\n\nA noteworthy event occurred: Turn 3 begins\n\nThus concludes this chapter of the saga.'.count
------------------------------ Captured log call ------------------------------
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134141: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134141: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134141: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134141: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134141: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134141: 'dict' object has no attribute 'action_type'
___________ TestCharacterLoading.test_character_directory_structure ___________
tests\test_character_system_comprehensive.py:53: in test_character_directory_structure
    assert char_dir.exists(), f"Character directory {char_name} does not exist"
E   AssertionError: Character directory pilot does not exist
E   assert False
E    +  where False = exists()
E    +    where exists = WindowsPath('E:/Code/Novel-Engine/characters/pilot').exists
___________ TestCharacterLoading.test_character_metadata_validation ___________
tests\test_character_system_comprehensive.py:68: in test_character_metadata_validation
    with open(yaml_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
__________ TestGenericCharacterProfiles.test_pilot_character_profile __________
tests\test_character_system_comprehensive.py:172: in test_pilot_character_profile
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
________ TestGenericCharacterProfiles.test_scientist_character_profile ________
tests\test_character_system_comprehensive.py:199: in test_scientist_character_profile
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\scientist\\stats.yaml'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
________ TestGenericCharacterProfiles.test_engineer_character_profile _________
tests\test_character_system_comprehensive.py:227: in test_engineer_character_profile
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\engineer\\stats.yaml'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
__________ TestGenericCharacterProfiles.test_test_character_profile ___________
tests\test_character_system_comprehensive.py:255: in test_test_character_profile
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\test\\stats.yaml'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
_____________ TestCharacterStatistics.test_combat_stats_validity ______________
tests\test_character_system_comprehensive.py:275: in test_combat_stats_validity
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
_________ TestCharacterStatistics.test_psychological_profile_validity _________
tests\test_character_system_comprehensive.py:297: in test_psychological_profile_validity
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
_____________ TestCharacterStatistics.test_equipment_completeness _____________
tests\test_character_system_comprehensive.py:320: in test_equipment_completeness
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
____________ TestCharacterStatistics.test_character_relationships _____________
tests\test_character_system_comprehensive.py:342: in test_character_relationships
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
___________ TestCharacterFactory.test_character_template_validation ___________
tests\test_character_system_comprehensive.py:411: in test_character_template_validation
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
_______ TestCharacterMemorySystem.test_character_memory_initialization ________
tests\test_character_system_comprehensive.py:434: in test_character_memory_initialization
    agent.update_memory("test_event", "Test memory entry")
E   TypeError: PersonaAgent.update_memory() takes 2 positional arguments but 3 were given
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
______ TestCharacterMemorySystem.test_memory_persistence_across_sessions ______
tests\test_character_system_comprehensive.py:446: in test_memory_persistence_across_sessions
    agent1.update_memory("session1", "First session data")
E   TypeError: PersonaAgent.update_memory() takes 2 positional arguments but 3 were given
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
______________ TestCharacterMemorySystem.test_memory_log_format _______________
tests\test_character_system_comprehensive.py:460: in test_memory_log_format
    agent.update_memory("experiment_1", "Conducted xenobiology research")
E   TypeError: PersonaAgent.update_memory() takes 2 positional arguments but 3 were given
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
__________ TestCharacterInteractions.test_character_decision_making ___________
tests\test_character_system_comprehensive.py:476: in test_character_decision_making
    decision = agent.decision_loop("Navigate through asteroid field")
               ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaAgent' object has no attribute 'decision_loop'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
______ TestCharacterInteractions.test_character_personality_consistency _______
tests\test_character_system_comprehensive.py:504: in test_character_personality_consistency
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
__________ TestCharacterInteractions.test_multi_character_simulation __________
tests\test_character_system_comprehensive.py:522: in test_multi_character_simulation
    director = DirectorAgent()
               ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_____ TestPerformanceAndScalability.test_concurrent_character_operations ______
tests\test_character_system_comprehensive.py:591: in test_concurrent_character_operations
    assert agent.character_name in GENERIC_CHARACTERS
E   AssertionError: assert 'Alex Chen' in ['pilot', 'scientist', 'engineer', 'test']
E    +  where 'Alex Chen' = <src.persona_agent_integrated.PersonaAgent object at 0x000001C77F980470>.character_name
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
___________ TestCharacterValidation.test_character_data_consistency ___________
tests\test_character_system_comprehensive.py:605: in test_character_data_consistency
    with open(md_file, "r", encoding="utf-8") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\character_pilot.md'
__________ TestCharacterValidation.test_character_balance_validation __________
tests\test_character_system_comprehensive.py:634: in test_character_balance_validation
    with open(stats_file, "r") as f:
         ^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\stats.yaml'
____________ TestCharacterValidation.test_sci_fi_theme_consistency ____________
tests\test_character_system_comprehensive.py:675: in test_sci_fi_theme_consistency
    with open(md_file, "r", encoding="utf-8") as f:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'E:\\Code\\Novel-Engine\\characters\\pilot\\character_pilot.md'
_________________ TestDirectorAgent.test_handle_agent_action __________________
C:\Python312\Lib\unittest\mock.py:926: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'mock' to have been called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\test_director_agent.py:56: in test_handle_agent_action
    self.director.log_event.assert_called_once()
E   AssertionError: Expected 'mock' to have been called once. Called 0 times.
------------------------------ Captured log call ------------------------------
WARNING  src.turn_orchestrator:turn_orchestrator.py:345 No active turn state when handling agent action
__________ TestDirectorAgent.test_handle_agent_action_with_no_action __________
C:\Python312\Lib\unittest\mock.py:926: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'mock' to have been called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\test_director_agent.py:67: in test_handle_agent_action_with_no_action
    self.director.log_event.assert_called_once()
E   AssertionError: Expected 'mock' to have been called once. Called 0 times.
------------------------------ Captured log call ------------------------------
WARNING  src.turn_orchestrator:turn_orchestrator.py:345 No active turn state when handling agent action
_________________ TestDirectorAgent.test_run_turn_emits_event _________________
C:\Python312\Lib\unittest\mock.py:958: in assert_called_once_with
    raise AssertionError(msg)
E   AssertionError: Expected 'emit' to be called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\test_director_agent.py:34: in test_run_turn_emits_event
    self.event_bus.emit.assert_called_once_with(
E   AssertionError: Expected 'emit' to be called once. Called 0 times.
------------------------------ Captured log call ------------------------------
ERROR    director_agent_integrated:director_agent_integrated.py:306 Error executing turn: There is no current event loop in thread 'MainThread'.
______________ TestBridgeConfiguration.test_custom_configuration ______________
tests\test_enhanced_bridge.py:43: in test_custom_configuration
    config = BridgeConfiguration(
             ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
____________ TestBridgeFactory.test_create_enhanced_bridge_success ____________
tests\test_enhanced_bridge.py:252: in test_create_enhanced_bridge_success
    config = BridgeConfiguration()
             ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
____________ TestBridgeFactory.test_create_enhanced_bridge_failure ____________
tests\test_enhanced_bridge.py:267: in test_create_enhanced_bridge_failure
    with patch(
C:\Python312\Lib\unittest\mock.py:1445: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
C:\Python312\Lib\pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1324: in _find_and_load_unlocked
    ???
E   ModuleNotFoundError: No module named 'enhanced_multi_agent_bridge_refactored'
___________ TestBridgeIntegration.test_dialogue_manager_integration ___________
tests\test_enhanced_bridge.py:290: in test_dialogue_manager_integration
    config = BridgeConfiguration(enable_dialogue_system=True)
             ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
______________ TestBridgeIntegration.test_performance_monitoring ______________
tests\test_enhanced_bridge.py:318: in test_performance_monitoring
    config = BridgeConfiguration(enable_performance_monitoring=True)
             ^^^^^^^^^^^^^^^^^^^
E   NameError: name 'BridgeConfiguration' is not defined
_______________ TestEventIntegration.test_full_turn_event_flow ________________
C:\Python312\Lib\unittest\mock.py:926: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'mock' to have been called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\test_event_integration.py:48: in test_full_turn_event_flow
    agent.handle_turn_start.assert_called_once()
E   AssertionError: Expected 'mock' to have been called once. Called 0 times.
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
ERROR    director_agent_integrated:director_agent_integrated.py:306 Error executing turn: There is no current event loop in thread 'MainThread'.
________ TestFullSystemIntegration.test_end_to_end_simulation_workflow ________
tests\test_integration_comprehensive.py:84: in test_end_to_end_simulation_workflow
    assert has_sci_fi, "Story should contain sci-fi elements"
E   AssertionError: Story should contain sci-fi elements
E   assert False
------------------------------ Captured log call ------------------------------
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134156: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134156: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134156: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134156: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134156: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134156: 'dict' object has no attribute 'action_type'
_______ TestFullSystemIntegration.test_multi_user_concurrent_simulation _______
tests\test_integration_comprehensive.py:171: in test_multi_user_concurrent_simulation
    assert (
E   AssertionError: Concurrent simulations should produce different stories
E   assert 1 >= 2
E    +  where 1 = len({'In the vast expanse of the cosmos, a story unfolds.\n\nA noteworthy event occurred: Turn 1 begins\n\nA noteworthy event occurred: Turn 2 begins\n\nA noteworthy event occurred: Turn 3 begins\n\nThus concludes this chapter of the saga.'})
E    +    where {'In the vast expanse of the cosmos, a story unfolds.\n\nA noteworthy event occurred: Turn 1 begins\n\nA noteworthy event occurred: Turn 2 begins\n\nA noteworthy event occurred: Turn 3 begins\n\nThus concludes this chapter of the saga.'} = set(['In the vast expanse of the cosmos, a story unfolds.\n\nA noteworthy event occurred: Turn 1 begins\n\nA noteworthy event occurred: Turn 2 begins\n\nA noteworthy event occurred: Turn 3 begins\n\nThus concludes this chapter of the saga.', 'In the vast expanse of the cosmos, a story unfolds.\n\nA noteworthy event occurred: Turn 1 begins\n\nA noteworthy event occurred: Turn 2 begins\n\nA noteworthy event occurred: Turn 3 begins\n\nThus concludes this chapter of the saga.', 'In the vast expanse of the cosmos, a story unfolds.\n\nA noteworthy event occurred: Turn 1 begins\n\nA noteworthy event occurred: Turn 2 begins\n\nA noteworthy event occurred: Turn 3 begins\n\nThus concludes this chapter of the saga.'])
------------------------------ Captured log call ------------------------------
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from engineer_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from engineer_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from test_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from engineer_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from test_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from engineer_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from engineer_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from test_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134157: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from engineer_134157: 'dict' object has no attribute 'action_type'
__ TestAPIBackendIntegration.test_api_character_loading_backend_integration ___
tests\test_integration_comprehensive.py:200: in test_api_character_loading_backend_integration
    assert (
E   AssertionError: Character pilot should have substantial context
E   assert 58 > 100
E    +  where 58 = len('Alex Chen. Elite Starfighter Pilot. Galactic Defense Force')
_ TestCharacterSimulationIntegration.test_character_loading_simulation_execution _
tests\test_integration_comprehensive.py:256: in test_character_loading_simulation_execution
    pilot = PersonaAgent(character_name="pilot")
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: PersonaAgent.__init__() got an unexpected keyword argument 'character_name'
_ TestCharacterSimulationIntegration.test_character_attributes_simulation_behavior _
tests\test_integration_comprehensive.py:281: in test_character_attributes_simulation_behavior
    pilot = PersonaAgent(character_name="pilot")
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: PersonaAgent.__init__() got an unexpected keyword argument 'character_name'
_ TestCharacterSimulationIntegration.test_multi_character_interaction_simulation _
tests\test_integration_comprehensive.py:303: in test_multi_character_interaction_simulation
    char_agent = PersonaAgent(character_name=char_name)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: PersonaAgent.__init__() got an unexpected keyword argument 'character_name'
________ TestStoryGenerationPipeline.test_simulation_to_story_pipeline ________
tests\test_integration_comprehensive.py:327: in test_simulation_to_story_pipeline
    director = DirectorAgent()
               ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
____ TestStoryGenerationPipeline.test_character_context_story_integration _____
tests\test_integration_comprehensive.py:359: in test_character_context_story_integration
    director = DirectorAgent()
               ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
_____ TestStoryGenerationPipeline.test_narrative_style_story_consistency ______
tests\test_integration_comprehensive.py:392: in test_narrative_style_story_consistency
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_ TestMultiComponentWorkflows.test_character_creation_to_simulation_workflow __
tests\test_integration_comprehensive.py:427: in test_character_creation_to_simulation_workflow
    char_agent = PersonaAgent(character_name=char_name)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: PersonaAgent.__init__() got an unexpected keyword argument 'character_name'
__ TestMultiComponentWorkflows.test_error_recovery_multi_component_workflow ___
tests\test_integration_comprehensive.py:466: in test_error_recovery_multi_component_workflow
    director = DirectorAgent()
               ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
__ TestMultiComponentWorkflows.test_performance_multi_component_integration ___
tests\test_integration_comprehensive.py:492: in test_performance_multi_component_integration
    director = DirectorAgent()
               ^^^^^^^^^^^^^^^
E   TypeError: DirectorAgent.__init__() missing 1 required positional argument: 'event_bus'
__________ TestPerformanceIntegration.test_memory_usage_integration ___________
tests\test_integration_comprehensive.py:558: in test_memory_usage_integration
    char_agent = PersonaAgent(character_name=char_name)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: PersonaAgent.__init__() got an unexpected keyword argument 'character_name'
_ TestErrorPropagationAndRecovery.test_story_generation_error_handling_integration _
tests\test_integration_comprehensive.py:623: in test_story_generation_error_handling_integration
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_ TestSecurityValidationIntegration.test_brand_content_validation_integration _
tests\test_integration_comprehensive.py:706: in test_brand_content_validation_integration
    assert has_sci_fi, "Story should contain generic sci-fi content"
E   AssertionError: Story should contain generic sci-fi content
E   assert False
------------------------------ Captured log call ------------------------------
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134203: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134203: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134203: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134203: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from pilot_134203: 'dict' object has no attribute 'action_type'
ERROR    src.turn_orchestrator:turn_orchestrator.py:403 Error handling agent action from scientist_134203: 'dict' object has no attribute 'action_type'
_ TestLLMIntegration.test_llm_decision_making_handles_api_failure_and_uses_fallback _
C:\Python312\Lib\unittest\mock.py:1390: in patched
    with self.decoration_helper(patched,
C:\Python312\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1372: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'src.persona_agent' from 'D:\\Code\\Novel-Engine\\src\\persona_agent.py'> does not have the attribute '_make_gemini_api_request'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
____ TestLLMIntegration.test_llm_decision_making_handles_invalid_response _____
C:\Python312\Lib\unittest\mock.py:1390: in patched
    with self.decoration_helper(patched,
C:\Python312\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1372: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_call_llm'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
_____ TestLLMIntegration.test_llm_decision_making_handles_observe_action ______
C:\Python312\Lib\unittest\mock.py:1390: in patched
    with self.decoration_helper(patched,
C:\Python312\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1372: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'src.persona_agent' from 'D:\\Code\\Novel-Engine\\src\\persona_agent.py'> does not have the attribute '_make_gemini_api_request'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
_________ TestLLMIntegration.test_llm_decision_making_returns_action __________
C:\Python312\Lib\unittest\mock.py:1390: in patched
    with self.decoration_helper(patched,
C:\Python312\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1372: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'src.persona_agent' from 'D:\\Code\\Novel-Engine\\src\\persona_agent.py'> does not have the attribute '_make_gemini_api_request'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
__________ TestLLMIntegration.test_llm_uses_fallback_when_no_api_key __________
C:\Python312\Lib\unittest\mock.py:1390: in patched
    with self.decoration_helper(patched,
C:\Python312\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1372: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'src.persona_agent' from 'D:\\Code\\Novel-Engine\\src\\persona_agent.py'> does not have the attribute '_generate_fallback_response'
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
_______ TestWebSocketOptimizations.test_story_generation_api_semaphore ________
tests\test_performance_optimizations.py:74: in test_story_generation_api_semaphore
    assert api.generation_semaphore.acquire(blocking=False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: Semaphore.acquire() got an unexpected keyword argument 'blocking'
____________ TestPersonaAgent.test_handle_turn_start_emits_action _____________
C:\Python312\Lib\unittest\mock.py:958: in assert_called_once_with
    raise AssertionError(msg)
E   AssertionError: Expected 'mock' to be called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\test_persona_agent.py:43: in test_handle_turn_start_emits_action
    self.agent._make_decision.assert_called_once_with(world_state_update)
E   AssertionError: Expected 'mock' to be called once. Called 0 times.
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
ERROR    src.decision_engine:decision_engine.py:541 Error selecting best action: CharacterAction.__init__() got an unexpected keyword argument 'action_id'
___________ TestPersonaAgent.test_handle_turn_start_with_no_action ____________
C:\Python312\Lib\unittest\mock.py:958: in assert_called_once_with
    raise AssertionError(msg)
E   AssertionError: Expected 'mock' to be called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\test_persona_agent.py:57: in test_handle_turn_start_with_no_action
    self.agent._make_decision.assert_called_once_with(world_state_update)
E   AssertionError: Expected 'mock' to be called once. Called 0 times.
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
ERROR    src.decision_engine:decision_engine.py:541 Error selecting best action: CharacterAction.__init__() got an unexpected keyword argument 'action_id'
________ TestPersonaAgent.test_initialization_subscribes_to_turn_start ________
C:\Python312\Lib\unittest\mock.py:947: in assert_called_with
    raise AssertionError(_error_message()) from cause
E   AssertionError: expected call not found.
E   Expected: subscribe('TURN_START', <bound method PersonaAgent.handle_turn_start of <src.persona_agent_integrated.PersonaAgent object at 0x000001C705A423F0>>)
E     Actual: subscribe('TURN_START', <bound method PersonaAgentCore.handle_turn_start of <src.persona_agent_core.PersonaAgentCore object at 0x000001C705A42360>>)

During handling of the above exception, another exception occurred:
C:\Python312\Lib\unittest\mock.py:959: in assert_called_once_with
    return self.assert_called_with(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: expected call not found.
E   Expected: subscribe('TURN_START', <bound method PersonaAgent.handle_turn_start of <src.persona_agent_integrated.PersonaAgent object at 0x000001C705A423F0>>)
E     Actual: subscribe('TURN_START', <bound method PersonaAgentCore.handle_turn_start of <src.persona_agent_core.PersonaAgentCore object at 0x000001C705A42360>>)
E   
E   pytest introspection follows:
E   
E   Args:
E   assert ('TURN_START'...1C705A42360>>) == ('TURN_START'...1C705A423F0>>)
E     
E     At index 1 diff: <bound method PersonaAgentCore.handle_turn_start of <src.persona_agent_core.PersonaAgentCore object at 0x000001C705A42360>> != <bound method PersonaAgent.handle_turn_start of <src.persona_agent_integrated.PersonaAgent object at 0x000001C705A423F0>>
E     
E     Full diff:
E       (
E           'TURN_START',
E     -     <bound method PersonaAgent.handle_turn_start of <src.persona_agent_integrated.PersonaAgent object at 0x000001C705A423F0>>,...
E     
E     ...Full output truncated (4 lines hidden), use '-vv' to show

During handling of the above exception, another exception occurred:
tests\test_persona_agent.py:29: in test_initialization_subscribes_to_turn_start
    self.event_bus.subscribe.assert_called_once_with(
E   AssertionError: expected call not found.
E   Expected: subscribe('TURN_START', <bound method PersonaAgent.handle_turn_start of <src.persona_agent_integrated.PersonaAgent object at 0x000001C705A423F0>>)
E     Actual: subscribe('TURN_START', <bound method PersonaAgentCore.handle_turn_start of <src.persona_agent_core.PersonaAgentCore object at 0x000001C705A42360>>)
E   
E   pytest introspection follows:
E   
E   Args:
E   assert ('TURN_START'...1C705A42360>>) == ('TURN_START'...1C705A423F0>>)
E     
E     At index 1 diff: <bound method PersonaAgentCore.handle_turn_start of <src.persona_agent_core.PersonaAgentCore object at 0x000001C705A42360>> != <bound method PersonaAgent.handle_turn_start of <src.persona_agent_integrated.PersonaAgent object at 0x000001C705A423F0>>
E     
E     Full diff:
E       (
E           'TURN_START',
E     -     <bound method PersonaAgent.handle_turn_start of <src.persona_agent_integrated.PersonaAgent object at 0x000001C705A423F0>>,...
E     
E     ...Full output truncated (4 lines hidden), use '-vv' to show
------------------------------ Captured log call ------------------------------
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
_________ TestPersonaAgentCharacterLoading.test_character_properties __________
tests\test_persona_agent.py:157: in test_character_properties
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_______ TestPersonaAgentCharacterLoading.test_derive_agent_id_from_path _______
tests\test_persona_agent.py:217: in test_derive_agent_id_from_path
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
________ TestPersonaAgentCharacterLoading.test_estimate_trait_strength ________
tests\test_persona_agent.py:248: in test_estimate_trait_strength
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_ TestPersonaAgentCharacterLoading.test_load_character_context_missing_directory _
tests\test_persona_agent.py:144: in test_load_character_context_missing_directory
    with self.assertRaises(FileNotFoundError):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: FileNotFoundError not raised
------------------------------ Captured log call ------------------------------
ERROR    src.character_interpreter:character_interpreter.py:146 Failed to load character context: Character directory not found: nonexistent/path
ERROR    src.persona_agent_integrated:persona_agent_integrated.py:169 Error loading character data: Character directory not found: nonexistent/path
WARNING  src.persona_agent_integrated:persona_agent_integrated.py:122 Failed to initialize context loading: no running event loop
____ TestPersonaAgentCharacterLoading.test_load_character_context_success _____
tests\test_persona_agent.py:118: in test_load_character_context_success
    with patch.object(PersonaAgent, "_extract_core_identity"), patch.object(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_____ TestPersonaAgentCharacterLoading.test_parse_character_sheet_content _____
tests\test_persona_agent.py:298: in test_parse_character_sheet_content
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
___________ TestPersonaAgentCharacterLoading.test_read_cached_file ____________
tests\test_persona_agent.py:188: in test_read_cached_file
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
________ TestPersonaAgentDecisionMaking.test_assess_current_situation _________
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
__________ TestPersonaAgentDecisionMaking.test_assess_threat_levels ___________
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_______ TestPersonaAgentDecisionMaking.test_decision_weight_application _______
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_________ TestPersonaAgentDecisionMaking.test_evaluate_action_option __________
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_______ TestPersonaAgentDecisionMaking.test_identify_available_actions ________
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
________ TestPersonaAgentDecisionMaking.test_make_decision_ai_fallback ________
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_____ TestPersonaAgentDecisionMaking.test_make_decision_with_world_state ______
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
___________ TestPersonaAgentDecisionMaking.test_parse_llm_response ____________
tests\test_persona_agent.py:334: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_________ TestPersonaAgentWorldInterpretation.test_memory_integration _________
tests\test_persona_agent.py:553: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_ TestPersonaAgentWorldInterpretation.test_subjective_worldview_initialization _
tests\test_persona_agent.py:553: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_______ TestPersonaAgentWorldInterpretation.test_world_event_processing _______
tests\test_persona_agent.py:553: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_______ TestPersonaAgentAIIntegration.test_ai_query_with_valid_api_key ________
tests\test_persona_agent.py:634: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_________ TestPersonaAgentAIIntegration.test_ai_query_without_api_key _________
tests\test_persona_agent.py:634: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
____________ TestPersonaAgentAIIntegration.test_api_error_handling ____________
tests\test_persona_agent.py:634: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
___ TestPersonaAgentMemoryAndEvolution.test_long_term_memory_consolidation ____
tests\test_persona_agent.py:703: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_____ TestPersonaAgentMemoryAndEvolution.test_morale_and_status_tracking ______
tests\test_persona_agent.py:703: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_______ TestPersonaAgentMemoryAndEvolution.test_relationship_evolution ________
tests\test_persona_agent.py:703: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
____ TestPersonaAgentMemoryAndEvolution.test_short_term_memory_management _____
tests\test_persona_agent.py:703: in setUp
    ), patch.object(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <class 'src.persona_agent_integrated.PersonaAgent'> does not have the attribute '_extract_core_identity'
_______________ TestAgentIdentity.test_agent_identity_defaults ________________
tests\test_persona_core.py:45: in test_agent_identity_defaults
    identity = AgentIdentity(
E   TypeError: AgentIdentity.__init__() missing 3 required positional arguments: 'character_name', 'primary_faction', and 'character_sheet_path'
______________ TestPersonaCore.test_persona_core_initialization _______________
tests\test_persona_core.py:93: in test_persona_core_initialization
    assert persona_core.is_active is False
           ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaCore' object has no attribute 'is_active'
________________ TestPersonaCore.test_persona_core_activation _________________
tests\test_persona_core.py:102: in test_persona_core_activation
    await persona_core.activate()
          ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaCore' object has no attribute 'activate'
______________ TestPersonaCore.test_persona_core_file_operations ______________
tests\test_persona_core.py:112: in test_persona_core_file_operations
    content = await persona_core.read_character_file("character_sheet.md")
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaCore' object has no attribute 'read_character_file'. Did you mean: '_read_cached_file'?
__________________ TestPersonaCore.test_persona_core_status ___________________
tests\test_persona_core.py:118: in test_persona_core_status
    status = persona_core.get_status()
             ^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaCore' object has no attribute 'get_status'
______________ TestPersonaCore.test_persona_core_error_handling _______________
tests\test_persona_core.py:130: in test_persona_core_error_handling
    content = await persona_core.read_character_file("nonexistent.md")
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaCore' object has no attribute 'read_character_file'. Did you mean: '_read_cached_file'?
___________ TestPersonaCore.test_persona_core_component_integration ___________
tests\test_persona_core.py:136: in test_persona_core_component_integration
    assert hasattr(persona_core.memory, "agent_id")
                   ^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaCore' object has no attribute 'memory'
____________ TestPersonaCoreIntegration.test_event_bus_integration ____________
tests\test_persona_core.py:161: in test_event_bus_integration
    await persona_core.activate()
          ^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'PersonaCore' object has no attribute 'activate'
__________________ TestDataModels.test_world_state_creation ___________________
tests\test_quality_framework.py:55: in test_world_state_creation
    world_state = WorldState(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for WorldState
E   turn_number
E     Field required [type=missing, input_value={'current_location': 'Tes...{'temperature': 'warm'}}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
________ TestIntegrationScenarios.test_character_interaction_workflow _________
tests\test_quality_framework.py:467: in test_character_interaction_workflow
    "world_state": WorldState(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for WorldState
E   turn_number
E     Field required [type=missing, input_value={'current_location': 'For...visibility': 'limited'}}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
____________ TestErrorHandling.test_malformed_world_state_handling ____________
tests\test_quality_framework.py:544: in test_malformed_world_state_handling
    world_state = WorldState(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for WorldState
E   turn_number
E     Field required [type=missing, input_value={'current_location': 'Tes...ironmental_factors': {}}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
_________________ TestSecurityService.test_user_registration __________________
tests\test_security_framework.py:84: in test_user_registration
    user = await security_service.register_user(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'register_user'
____________ TestSecurityService.test_duplicate_user_registration _____________
tests\test_security_framework.py:105: in test_duplicate_user_registration
    await security_service.register_user(registration, "127.0.0.1", "test-agent")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'register_user'
________________ TestSecurityService.test_user_authentication _________________
tests\test_security_framework.py:123: in test_user_authentication
    await security_service.register_user(registration, "127.0.0.1", "test-agent")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'register_user'
__________________ TestSecurityService.test_account_lockout ___________________
tests\test_security_framework.py:152: in test_account_lockout
    await security_service.register_user(registration, "127.0.0.1", "test-agent")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'register_user'
_____________ TestSecurityService.test_token_creation_and_refresh _____________
tests\test_security_framework.py:179: in test_token_creation_and_refresh
    user = await security_service.register_user(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'register_user'
_________________ TestSecurityService.test_api_key_generation _________________
tests\test_security_framework.py:221: in test_api_key_generation
    user = await security_service.register_user(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'register_user'
_________________ TestInputValidator.test_valid_input_passes __________________
tests\test_security_framework.py:308: in test_valid_input_passes
    result = validator.validate_input(valid_input, input_type)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\security\input_validation.py:355: in validate_input
    raise ValidationError(
E   src.security.input_validation.ValidationError: Potential LDAP injection detected
------------------------------ Captured log call ------------------------------
WARNING  src.security.input_validation:input_validation.py:342 VALIDATION VIOLATION: ldap_injection_1 | Type: text | Severity: medium | Value: Hello, World!
__________ TestRateLimiter.test_rate_limiting_allows_normal_requests __________
tests\test_security_framework.py:357: in test_rate_limiting_allows_normal_requests
    result = await rate_limiter.check_rate_limit(mock_request)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\security\rate_limiting.py:419: in check_rate_limit
    raise RateLimitExceeded(
E   src.security.rate_limiting.RateLimitExceeded: Rate limit exceeded (per minute)
____________________ TestRateLimiter.test_threat_detection ____________________
tests\test_security_framework.py:382: in test_threat_detection
    await rate_limiter.check_rate_limit(mock_request)
src\security\rate_limiting.py:419: in check_rate_limit
    raise RateLimitExceeded(
E   src.security.rate_limiting.RateLimitExceeded: Rate limit exceeded (per minute)

During handling of the above exception, another exception occurred:
tests\test_security_framework.py:386: in test_threat_detection
    assert e.threat_level in [ThreatLevel.HIGH, ThreatLevel.CRITICAL]
E   AssertionError: assert <ThreatLevel.MEDIUM: 'medium'> in [<ThreatLevel.HIGH: 'high'>, <ThreatLevel.CRITICAL: 'critical'>]
E    +  where <ThreatLevel.MEDIUM: 'medium'> = RateLimitExceeded('Rate limit exceeded (per minute)').threat_level
_________________ TestDataProtection.test_consent_management __________________
tests\test_security_framework.py:546: in test_consent_management
    consent_record = await data_protection_service.record_consent(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'record_consent'
_______________ TestDataProtection.test_data_encryption_by_type _______________
tests\test_security_framework.py:576: in test_data_encryption_by_type
    encrypted_data = await data_protection_service.encrypt_personal_data(
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'encrypt_personal_data'
______________ TestDataProtection.test_data_retention_scheduling ______________
tests\test_security_framework.py:595: in test_data_retention_scheduling
    await data_protection_service.schedule_data_deletion(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'schedule_data_deletion'
_______________ TestSecurityLogging.test_security_event_logging _______________
tests\test_security_framework.py:637: in test_security_event_logging
    await security_logger.log_security_event(event)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'async_generator' object has no attribute 'log_security_event'
________________ TestSecurityLogging.test_security_statistics _________________
tests\test_security_framework.py:662: in test_security_statistics
    else SecurityEventSeverity.WARNING
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'SecurityEventSeverity' has no attribute 'WARNING'
______________ TestSecurityLogging.test_threat_detection_logging ______________
tests\test_security_framework.py:691: in test_threat_detection_logging
    severity=SecurityEventSeverity.WARNING,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: type object 'SecurityEventSeverity' has no attribute 'WARNING'
_________________________ test_performance_under_load _________________________
tests\test_security_framework.py:827: in test_performance_under_load
    await rate_limiter.check_rate_limit(mock_request)
src\security\rate_limiting.py:419: in check_rate_limit
    raise RateLimitExceeded(
E   src.security.rate_limiting.RateLimitExceeded: Rate limit exceeded (per minute)
______ TestStartupGuard.test_validate_file_structure_creates_directories ______
D:\Code\Novel-Engine\tests\test_startup_guards.py:269: in test_validate_file_structure_creates_directories
    assert result is True
E   assert False is True
____ TestStartupGuard.test_validate_external_dependencies_missing_packages ____
C:\Python312\Lib\unittest\mock.py:1390: in patched
    with self.decoration_helper(patched,
C:\Python312\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1372: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'scripts.build_kb' from 'D:\\Code\\Novel-Engine\\scripts\\build_kb.py'> does not have the attribute '__import__'
_____ TestStartupGuard.test_validate_external_dependencies_with_api_keys ______
D:\Code\Novel-Engine\tests\test_startup_guards.py:341: in test_validate_external_dependencies_with_api_keys
    with patch("scripts.build_kb.__import__") as mock_import:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'scripts.build_kb' from 'D:\\Code\\Novel-Engine\\scripts\\build_kb.py'> does not have the attribute '__import__'
_________________ TestStartupGuard.test_validate_all_success __________________
D:\Code\Novel-Engine\tests\test_startup_guards.py:418: in test_validate_all_success
    with patch("scripts.build_kb.__import__") as mock_import:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'scripts.build_kb' from 'D:\\Code\\Novel-Engine\\scripts\\build_kb.py'> does not have the attribute '__import__'
_______________ TestKnowledgeBaseBuilder.test_build_kb_success ________________
D:\Code\Novel-Engine\tests\test_startup_guards.py:487: in test_build_kb_success
    assert result is True
E   assert False is True
------------------------------ Captured log call ------------------------------
ERROR    KnowledgeBaseBuilder:build_kb.py:423 Knowledge base building error: [WinError 3] 系统找不到指定的路径。: 'private\\knowledge_base\\characters'
_________ TestStartupGuardIntegration.test_complete_system_validation _________
C:\Python312\Lib\unittest\mock.py:1390: in patched
    with self.decoration_helper(patched,
C:\Python312\Lib\contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1372: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\contextlib.py:526: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'scripts.build_kb' from 'D:\\Code\\Novel-Engine\\scripts\\build_kb.py'> does not have the attribute '__import__'
______ TestStartupGuardIntegration.test_system_validation_with_warnings _______
D:\Code\Novel-Engine\tests\test_startup_guards.py:676: in test_system_validation_with_warnings
    with patch("scripts.build_kb.__import__") as mock_import:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'scripts.build_kb' from 'D:\\Code\\Novel-Engine\\scripts\\build_kb.py'> does not have the attribute '__import__'
___________ TestChroniclerAgentCore.test_chronicler_initialization ____________
tests\test_story_generation_comprehensive.py:63: in test_chronicler_initialization
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_________ TestChroniclerAgentCore.test_narrative_templates_debranded __________
tests\test_story_generation_comprehensive.py:70: in test_narrative_templates_debranded
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
__________ TestChroniclerAgentCore.test_faction_descriptions_generic __________
tests\test_story_generation_comprehensive.py:88: in test_faction_descriptions_generic
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
___________ TestChroniclerAgentCore.test_narrative_style_management ___________
tests\test_story_generation_comprehensive.py:112: in test_narrative_style_management
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
______________ TestChroniclerAgentCore.test_campaign_log_parsing ______________
tests\test_story_generation_comprehensive.py:130: in test_campaign_log_parsing
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
__________ TestChroniclerAgentCore.test_narrative_segment_generation __________
tests\test_story_generation_comprehensive.py:168: in test_narrative_segment_generation
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_____________ TestStoryContentQuality.test_story_length_adequacy ______________
tests\test_story_generation_comprehensive.py:224: in test_story_length_adequacy
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
___________ TestStoryContentQuality.test_story_structure_coherence ____________
tests\test_story_generation_comprehensive.py:236: in test_story_structure_coherence
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
________ TestStoryContentQuality.test_character_integration_in_stories ________
tests\test_story_generation_comprehensive.py:254: in test_character_integration_in_stories
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
__________ TestStoryContentQuality.test_story_atmosphere_consistency __________
tests\test_story_generation_comprehensive.py:275: in test_story_atmosphere_consistency
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_______________ TestStoryContentQuality.test_story_readability ________________
tests\test_story_generation_comprehensive.py:301: in test_story_readability
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
____ TestDebrandingValidation.test_no_branded_content_in_generated_stories ____
tests\test_story_generation_comprehensive.py:335: in test_no_branded_content_in_generated_stories
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_______ TestDebrandingValidation.test_generic_faction_usage_in_stories ________
tests\test_story_generation_comprehensive.py:376: in test_generic_faction_usage_in_stories
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
___________ TestDebrandingValidation.test_sci_fi_theme_replacement ____________
tests\test_story_generation_comprehensive.py:405: in test_sci_fi_theme_replacement
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
____________ TestNarrativeStyleAndTone.test_sci_fi_dramatic_style _____________
tests\test_story_generation_comprehensive.py:452: in test_sci_fi_dramatic_style
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
________________ TestNarrativeStyleAndTone.test_tactical_style ________________
tests\test_story_generation_comprehensive.py:491: in test_tactical_style
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_____________ TestNarrativeStyleAndTone.test_philosophical_style ______________
tests\test_story_generation_comprehensive.py:519: in test_philosophical_style
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
______ TestCharacterIntegration.test_multiple_character_story_generation ______
tests\test_story_generation_comprehensive.py:549: in test_multiple_character_story_generation
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_________ TestCharacterIntegration.test_character_faction_integration _________
tests\test_story_generation_comprehensive.py:597: in test_character_faction_integration
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
________ TestTemplateAndPatternSystems.test_response_template_variety _________
tests\test_story_generation_comprehensive.py:638: in test_response_template_variety
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_______ TestTemplateAndPatternSystems.test_narrative_opening_templates ________
tests\test_story_generation_comprehensive.py:667: in test_narrative_opening_templates
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_______ TestPerformanceAndScalability.test_story_generation_performance _______
tests\test_story_generation_comprehensive.py:713: in test_story_generation_performance
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
____________ TestPerformanceAndScalability.test_large_log_handling ____________
tests\test_story_generation_comprehensive.py:751: in test_large_log_handling
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
____________ TestErrorHandlingAndEdgeCases.test_empty_log_handling ____________
tests\test_story_generation_comprehensive.py:789: in test_empty_log_handling
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
__________ TestErrorHandlingAndEdgeCases.test_malformed_log_handling __________
tests\test_story_generation_comprehensive.py:807: in test_malformed_log_handling
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
_________ TestErrorHandlingAndEdgeCases.test_nonexistent_log_handling _________
tests\test_story_generation_comprehensive.py:831: in test_nonexistent_log_handling
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
__________ TestErrorHandlingAndEdgeCases.test_corrupted_log_recovery __________
tests\test_story_generation_comprehensive.py:839: in test_corrupted_log_recovery
    chronicler = ChroniclerAgent()
                 ^^^^^^^^^^^^^^^^^
E   TypeError: ChroniclerAgent.__init__() missing 1 required positional argument: 'event_bus'
________________ TestUserStories.test_story_3_memory_formation ________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____________ TestUserStories.test_story_3_relationship_evolution _____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______ TestProposalOptimization.test_optimize_active_proposals_success _______
tests\unit\contexts\interactions\application\test_interaction_application_service.py:1042: in test_optimize_active_proposals_success
    assert result["average_viability"] == expected_avg
E   assert 0.7000000000000001 == 0.6999999999999998
_______ TestInteractionIdFactoryMethods.test_from_string_invalid_format _______
tests\unit\contexts\interactions\domain\test_interaction_id_value_object.py:137: in test_from_string_invalid_format
    with pytest.raises(ValueError, match="Invalid UUID string"):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE <class 'ValueError'>
______ TestInteractionIdFactoryMethods.test_from_string_non_string_type _______
tests\unit\contexts\interactions\domain\test_interaction_id_value_object.py:148: in test_from_string_non_string_type
    InteractionId.from_string(12345)
contexts\interactions\domain\value_objects\interaction_id.py:40: in from_string
    uuid_value = UUID(uuid_string)
                 ^^^^^^^^^^^^^^^^^
C:\Python312\Lib\uuid.py:175: in __init__
    hex = hex.replace('urn:', '').replace('uuid:', '')
          ^^^^^^^^^^^
E   AttributeError: 'int' object has no attribute 'replace'
_ TestCausalNodeValidation.test_whitespace_only_title_and_description_validation _
tests\unit\contexts\narratives\domain\test_causal_node_value_object.py:310: in test_whitespace_only_title_and_description_validation
    with pytest.raises(
E   Failed: DID NOT RAISE <class 'ValueError'>
____ TestCausalNodeCollectionsAndComparison.test_node_hashing_consistency _____
tests\unit\contexts\narratives\domain\test_causal_node_value_object.py:1465: in test_node_hashing_consistency
    assert hash(node1) == hash(node2)
           ^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
__________ TestCausalNodeCollectionsAndComparison.test_nodes_in_set ___________
tests\unit\contexts\narratives\domain\test_causal_node_value_object.py:1476: in test_nodes_in_set
    node_set = {node1, node2, node1_duplicate}
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
_______ TestCausalNodeCollectionsAndComparison.test_nodes_as_dict_keys ________
tests\unit\contexts\narratives\domain\test_causal_node_value_object.py:1490: in test_nodes_as_dict_keys
    node_dict = {node1: "first_node_data", node2: "second_node_data"}
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
_ TestNarrativeContextCollectionsAndComparison.test_context_hashing_consistency _
tests\unit\contexts\narratives\domain\test_narrative_context_value_object.py:1944: in test_context_hashing_consistency
    assert hash(context1) == hash(context2)
           ^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
______ TestNarrativeContextCollectionsAndComparison.test_contexts_in_set ______
tests\unit\contexts\narratives\domain\test_narrative_context_value_object.py:1973: in test_contexts_in_set
    context_set = {context1, context2, context1_duplicate}
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
___ TestNarrativeContextCollectionsAndComparison.test_contexts_as_dict_keys ___
tests\unit\contexts\narratives\domain\test_narrative_context_value_object.py:1999: in test_contexts_as_dict_keys
    context_dict = {context1: "historical_data", context2: "social_data"}
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
________ TestNarrativeIdFactoryMethods.test_from_string_invalid_format ________
tests\unit\contexts\narratives\domain\test_narrative_id_value_object.py:142: in test_from_string_invalid_format
    with pytest.raises(ValueError, match="Invalid UUID format for NarrativeId"):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE <class 'ValueError'>
_____________ TestNarrativeIdFactoryMethods.test_from_string_none _____________
tests\unit\contexts\narratives\domain\test_narrative_id_value_object.py:148: in test_from_string_none
    NarrativeId.from_string(None)
contexts\narratives\domain\value_objects\narrative_id.py:60: in from_string
    uuid_value = UUID(id_string)
                 ^^^^^^^^^^^^^^^
C:\Python312\Lib\uuid.py:172: in __init__
    raise TypeError('one of the hex, bytes, bytes_le, fields, '
E   TypeError: one of the hex, bytes, bytes_le, fields, or int arguments must be given
_______ TestNarrativeIdFactoryMethods.test_from_string_non_string_type ________
tests\unit\contexts\narratives\domain\test_narrative_id_value_object.py:153: in test_from_string_non_string_type
    NarrativeId.from_string(12345)
contexts\narratives\domain\value_objects\narrative_id.py:60: in from_string
    uuid_value = UUID(id_string)
                 ^^^^^^^^^^^^^^^
C:\Python312\Lib\uuid.py:175: in __init__
    hex = hex.replace('urn:', '').replace('uuid:', '')
          ^^^^^^^^^^^
E   AttributeError: 'int' object has no attribute 'replace'
_________ TestNarrativeImpactScore.test_impact_score_subtle_intensity _________
tests\unit\contexts\narratives\domain\test_narrative_theme_value_object.py:903: in test_impact_score_subtle_intensity
    assert theme.narrative_impact_score == expected_score
E   AssertionError: assert Decimal('1.260') == Decimal('1.2')
E    +  where Decimal('1.260') = NarrativeTheme(id='subtle-impact-test', type=environmental, intensity=subtle, name='Nature Connection').narrative_impact_score
________ TestNarrativeImpactScore.test_impact_score_central_intensity _________
tests\unit\contexts\narratives\domain\test_narrative_theme_value_object.py:921: in test_impact_score_central_intensity
    assert theme.narrative_impact_score == expected_score
E   AssertionError: assert Decimal('7.200') == Decimal('6.96')
E    +  where Decimal('7.200') = NarrativeTheme(id='central-impact-test', type=universal, intensity=central, name='Love Conquers All').narrative_impact_score
_________ TestNarrativeThemeInstanceMethods.test_get_thematic_context _________
tests\unit\contexts\narratives\domain\test_narrative_theme_value_object.py:1134: in test_get_thematic_context
    assert context["expression_methods"]["action"] is False
E   assert True is False
__ TestNarrativeThemeCollectionsAndComparison.test_theme_hashing_consistency __
tests\unit\contexts\narratives\domain\test_narrative_theme_value_object.py:1567: in test_theme_hashing_consistency
    assert hash(theme1) == hash(theme2)
           ^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
________ TestNarrativeThemeCollectionsAndComparison.test_themes_in_set ________
tests\unit\contexts\narratives\domain\test_narrative_theme_value_object.py:1596: in test_themes_in_set
    theme_set = {theme1, theme2, theme1_duplicate}
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
_____ TestNarrativeThemeCollectionsAndComparison.test_themes_as_dict_keys _____
tests\unit\contexts\narratives\domain\test_narrative_theme_value_object.py:1622: in test_themes_as_dict_keys
    theme_dict = {theme1: "coming_of_age_data", theme2: "redemption_data"}
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
__ TestPlotPointOverallImpactScore.test_supplemental_importance_impact_score __
tests\unit\contexts\narratives\domain\test_plot_point_value_object.py:800: in test_supplemental_importance_impact_score
    assert plot_point.overall_impact_score == expected_score
E   AssertionError: assert Decimal('0.600') == Decimal('0.64')
E    +  where Decimal('0.600') = PlotPoint(id='supplemental-impact-test', type=complication, importance=supplemental, title='Minor Complication', sequence_order=20).overall_impact_score
__ TestPlotPointCollectionsAndComparison.test_plot_point_hashing_consistency __
tests\unit\contexts\narratives\domain\test_plot_point_value_object.py:1469: in test_plot_point_hashing_consistency
    assert hash(plot1) == hash(plot2)
           ^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
________ TestPlotPointCollectionsAndComparison.test_plot_points_in_set ________
tests\unit\contexts\narratives\domain\test_plot_point_value_object.py:1501: in test_plot_points_in_set
    plot_set = {plot1, plot2, plot1_duplicate}
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
_____ TestPlotPointCollectionsAndComparison.test_plot_points_as_dict_keys _____
tests\unit\contexts\narratives\domain\test_plot_point_value_object.py:1529: in test_plot_points_as_dict_keys
    plot_dict = {plot1: "confrontation_data", plot2: "reconciliation_data"}
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'set'
_________ TestStoryPacingValidation.test_invalid_ratios_raise_errors __________
tests\unit\contexts\narratives\domain\test_story_pacing_value_object.py:351: in test_invalid_ratios_raise_errors
    StoryPacing(
<string>:31: in __init__
    ???
contexts\narratives\domain\value_objects\story_pacing.py:113: in __post_init__
    self._validate_constraints()
contexts\narratives\domain\value_objects\story_pacing.py:129: in _validate_constraints
    raise ValueError(
E   ValueError: Dialogue, action, and reflection ratios should sum to approximately 1.0

During handling of the above exception, another exception occurred:
tests\unit\contexts\narratives\domain\test_story_pacing_value_object.py:350: in test_invalid_ratios_raise_errors
    with pytest.raises(ValueError, match="dialogue_ratio must be between 0 and 1"):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: Regex pattern did not match.
E    Regex: 'dialogue_ratio must be between 0 and 1'
E    Input: 'Dialogue, action, and reflection ratios should sum to approximately 1.0'
______ TestStoryPacingMethods.test_get_tension_at_sequence_interpolation ______
tests\unit\contexts\narratives\domain\test_story_pacing_value_object.py:886: in test_get_tension_at_sequence_interpolation
    assert Decimal("2.0") < middle_tension < Decimal("8.0")
E   AssertionError: assert Decimal('8.00') < Decimal('8.0')
E    +  where Decimal('8.0') = Decimal('8.0')
______________ TestStoryPacingEquality.test_equality_same_values ______________
tests\unit\contexts\narratives\domain\test_story_pacing_value_object.py:1042: in test_equality_same_values
    assert hash(pacing1) == hash(pacing2)
           ^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'list'
__________ TestStoryPacingEquality.test_inequality_different_values ___________
tests\unit\contexts\narratives\domain\test_story_pacing_value_object.py:1063: in test_inequality_different_values
    assert hash(pacing1) != hash(pacing2)
           ^^^^^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'list'
____________ TestStoryPacingEquality.test_equality_in_collections _____________
tests\unit\contexts\narratives\domain\test_story_pacing_value_object.py:1083: in test_equality_in_collections
    pacing_set = {pacing1}
                 ^^^^^^^^^
<string>:3: in __hash__
    ???
E   TypeError: unhashable type: 'list'
____________ TestWorldStateAggregate.test_domain_events_generation ____________
tests\unit\contexts\world\domain\test_world_state_aggregate.py:732: in test_domain_events_generation
    assert event.correlation_id == world_state.id
E   AssertionError: assert 'ffbc1463-8ea...-a6d5ce7d5d91' == 'f3d672ba-699...-31ac1a6d7877'
E     
E     - f3d672ba-699b-451e-82d7-31ac1a6d7877
E     + ffbc1463-8ea9-488d-94d4-a6d5ce7d5d91
________ TestCharacterFactory.test_factory_initialization_no_event_bus ________
tests\unit\test_character_factory.py:45: in test_factory_initialization_no_event_bus
    with pytest.raises((TypeError, ValueError)):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE any of (<class 'TypeError'>, <class 'ValueError'>)
_____________ TestCharacterFactory.test_create_character_success ______________
tests\unit\test_character_factory.py:51: in test_create_character_success
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
____________ TestCharacterFactory.test_create_character_not_found _____________
tests\unit\test_character_factory.py:69: in test_create_character_not_found
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
___________ TestCharacterFactory.test_create_character_invalid_name ___________
tests\unit\test_character_factory.py:79: in test_create_character_invalid_name
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
____________ TestCharacterFactory.test_load_character_data_success ____________
tests\unit\test_character_factory.py:98: in test_load_character_data_success
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
_______ TestCharacterFactory.test_validate_character_directory_success ________
tests\unit\test_character_factory.py:123: in test_validate_character_directory_success
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
_______ TestCharacterFactory.test_validate_character_directory_invalid ________
tests\unit\test_character_factory.py:144: in test_validate_character_directory_invalid
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
_________ TestCharacterFactory.test_character_factory_error_handling __________
tests\unit\test_character_factory.py:159: in test_character_factory_error_handling
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
____________ TestCharacterFactory.test_multiple_character_creation ____________
tests\unit\test_character_factory.py:173: in test_multiple_character_creation
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
__ TestCharacterFactoryConfiguration.test_factory_character_path_resolution ___
tests\unit\test_character_factory.py:229: in test_factory_character_path_resolution
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
_____ TestCharacterFactoryPerformance.test_character_creation_performance _____
tests\unit\test_character_factory.py:269: in test_character_creation_performance
    with patch(
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'character_factory' from 'D:\\Code\\Novel-Engine\\character_factory.py'> does not have the attribute '_get_characters_directory_path'
_________ TestDirectorAgentNarrativeEngine.test_story_state_tracking __________
tests\unit\test_director_agent_advanced.py:196: in test_story_state_tracking
    assert hasattr(self.director, "story_state")
E   AssertionError: assert False
E    +  where False = hasattr(<director_agent_integrated.DirectorAgent object at 0x000001C70763E4B0>, 'story_state')
E    +    where <director_agent_integrated.DirectorAgent object at 0x000001C70763E4B0> = <tests.unit.test_director_agent_advanced.TestDirectorAgentNarrativeEngine object at 0x000001C77CBAEDE0>.director
__ TestDirectorAgentNarrativeEngine.test_world_state_tracker_initialization ___
tests\unit\test_director_agent_advanced.py:208: in test_world_state_tracker_initialization
    assert hasattr(self.director, "world_state_tracker")
E   AssertionError: assert False
E    +  where False = hasattr(<director_agent_integrated.DirectorAgent object at 0x000001C77CAFE360>, 'world_state_tracker')
E    +    where <director_agent_integrated.DirectorAgent object at 0x000001C77CAFE360> = <tests.unit.test_director_agent_advanced.TestDirectorAgentNarrativeEngine object at 0x000001C77CBAEFF0>.director
_______ TestDirectorAgentAgentOrchestration.test_error_tracking_system ________
tests\unit\test_director_agent_advanced.py:415: in test_error_tracking_system
    assert hasattr(self.director, "last_error_time")
E   AssertionError: assert False
E    +  where False = hasattr(<director_agent_integrated.DirectorAgent object at 0x000001C70755C770>, 'last_error_time')
E    +    where <director_agent_integrated.DirectorAgent object at 0x000001C70755C770> = <tests.unit.test_director_agent_advanced.TestDirectorAgentAgentOrchestration object at 0x000001C77CBC85C0>.director
__ TestDirectorAgentAgentOrchestration.test_configuration_driven_parameters ___
tests\unit\test_director_agent_advanced.py:439: in test_configuration_driven_parameters
    assert hasattr(self.director, "max_turn_history")
E   AssertionError: assert False
E    +  where False = hasattr(<director_agent_integrated.DirectorAgent object at 0x000001C706E44710>, 'max_turn_history')
E    +    where <director_agent_integrated.DirectorAgent object at 0x000001C706E44710> = <tests.unit.test_director_agent_advanced.TestDirectorAgentAgentOrchestration object at 0x000001C77CBC89E0>.director
____ TestDirectorAgentInitialization.test_initialization_with_valid_config ____
tests\unit\test_director_agent_comprehensive.py:53: in test_initialization_with_valid_config
    with patch("director_agent.get_config") as mock_get_config:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'director_agent' from 'D:\\Code\\Novel-Engine\\director_agent.py'> does not have the attribute 'get_config'
_____ TestDirectorAgentInitialization.test_initialization_without_config ______
tests\unit\test_director_agent_comprehensive.py:77: in test_initialization_without_config
    with patch("director_agent.get_config") as mock_get_config:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'director_agent' from 'D:\\Code\\Novel-Engine\\director_agent.py'> does not have the attribute 'get_config'
__________ TestDirectorAgentRegistration.test_register_agent_success __________
tests\unit\test_director_agent_comprehensive.py:196: in test_register_agent_success
    assert mock_agent in self.director.agents
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: argument of type 'AgentLifecycleManager' is not iterable
_________ TestDirectorAgentRegistration.test_register_multiple_agents _________
tests\unit\test_director_agent_comprehensive.py:231: in test_register_multiple_agents
    assert agent in self.director.agents
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: argument of type 'AgentLifecycleManager' is not iterable
_ TestDirectorAgentRegistration.test_register_agent_character_data_validation _
tests\unit\test_director_agent_comprehensive.py:272: in test_register_agent_character_data_validation
    assert result is False
E   assert True is False
_____________ TestAPIServerEndpoints.test_health_endpoint_success _____________
tests\unit\test_unit_api_server.py:50: in test_health_endpoint_success
    assert "api" in data
E   AssertionError: assert 'api' in {'config': 'loaded', 'message': 'System operational', 'status': 'healthy', 'timestamp': 1757907776.075452, ...}
________ TestAPIServerEndpoints.test_character_detail_endpoint_success ________
tests\unit\test_unit_api_server.py:137: in test_character_detail_endpoint_success
    assert "character_id" in data
E   AssertionError: assert 'character_id' in {'character_name': 'engineer', 'narrative_context': 'Jordan Kim. Chief Systems Engineer. Engineering Corps', 'structured_data': {'background': 'Character data could not be loaded', 'inventory': [], 'personality': 'Unknown', 'relationships': {}, ...}}
------------------------------ Captured log call ------------------------------
ERROR    api_server:api_server.py:527 Error loading character engineer: Factory error
____ TestAPIServerEndpoints.test_simulations_endpoint_character_not_found _____
tests\unit\test_unit_api_server.py:244: in test_simulations_endpoint_character_not_found
    assert response.status_code == 404
E   assert 400 == 404
E    +  where 400 = <Response [400 Bad Request]>.status_code
__ TestAPIServerEndpoints.test_simulations_endpoint_story_generation_failure __
tests\unit\test_unit_api_server.py:449: in test_simulations_endpoint_story_generation_failure
    assert (
E   AssertionError: assert 'was generated, but detailed transcription failed' in 'In the vast expanse of the cosmos, a compelling narrative unfolds. The story features engineer, pilot, each bringing their unique perspectives and abilities to the adventure. Through 1 turns of dynamic interaction, they navigated complex challenges and forged meaningful connections. Their journey showcased remarkable teamwork, strategic thinking, and individual growth. The characters demonstrated exceptional problem-solving skills while maintaining their distinct personalities. This tale represents a successful collaborative narrative that highlights the depth and complexity of interactive storytelling.'
------------------------------ Captured log call ------------------------------
ERROR    api_server:api_server.py:406 Story generation failed: Story generation failed
___ TestAPIServerEndpoints.test_character_detail_endpoint_unexpected_error ____
tests\unit\test_unit_api_server.py:472: in test_character_detail_endpoint_unexpected_error
    assert data["character_id"] == "engineer"
           ^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'character_id'
------------------------------ Captured log call ------------------------------
ERROR    api_server:api_server.py:527 Error loading character engineer: Unexpected character error
___________ TestAPIServerErrorHandling.test_404_endpoint_not_found ____________
tests\unit\test_unit_api_server.py:523: in test_404_endpoint_not_found
    assert response.status_code == 404
E   assert 405 == 404
E    +  where 405 = <Response [405 Method Not Allowed]>.status_code
___________ TestAPIServerSecurity.test_input_validation_xss_attempt ___________
tests\unit\test_unit_api_server.py:589: in test_input_validation_xss_attempt
    assert response.status_code == 404
E   assert 405 == 404
E    +  where 405 = <Response [405 Method Not Allowed]>.status_code
____________ TestAPIServerSecurity.test_path_traversal_protection _____________
tests\unit\test_unit_api_server.py:600: in test_path_traversal_protection
    assert response.status_code == 404
E   assert 405 == 404
E    +  where 405 = <Response [405 Method Not Allowed]>.status_code
______ TestChroniclerAgent.test_chronicler_initialization_no_characters _______
tests\unit\test_unit_chronicler_agent.py:89: in test_chronicler_initialization_no_characters
    with pytest.raises((ValueError, TypeError)):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE any of (<class 'ValueError'>, <class 'TypeError'>)
_______________ TestChroniclerAgent.test_transcribe_log_success _______________
tests\unit\test_unit_chronicler_agent.py:103: in test_transcribe_log_success
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
___________ TestChroniclerAgent.test_transcribe_log_file_not_found ____________
tests\unit\test_unit_chronicler_agent.py:125: in test_transcribe_log_file_not_found
    with pytest.raises(FileNotFoundError):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE <class 'FileNotFoundError'>
------------------------------ Captured log call ------------------------------
ERROR    chronicler_agent:chronicler_agent.py:300 Failed to transcribe campaign log nonexistent_log.md: Campaign log file not found: nonexistent_log.md
_____________ TestChroniclerAgent.test_transcribe_log_empty_file ______________
tests\unit\test_unit_chronicler_agent.py:140: in test_transcribe_log_empty_file
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
_____________ TestChroniclerAgent.test_transcribe_log_api_failure _____________
tests\unit\test_unit_chronicler_agent.py:162: in test_transcribe_log_api_failure
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
__________ TestChroniclerAgent.test_transcribe_log_invalid_response ___________
tests\unit\test_unit_chronicler_agent.py:175: in test_transcribe_log_invalid_response
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
_____________ TestChroniclerAgent.test_character_name_integration _____________
tests\unit\test_unit_chronicler_agent.py:220: in test_character_name_integration
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
__________ TestChroniclerAgentAdvanced.test_story_quality_validation __________
tests\unit\test_unit_chronicler_agent.py:299: in test_story_quality_validation
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
__________ TestChroniclerAgentAdvanced.test_large_log_file_handling ___________
tests\unit\test_unit_chronicler_agent.py:378: in test_large_log_file_handling
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
________ TestChroniclerAgentPerformance.test_transcription_performance ________
tests\unit\test_unit_chronicler_agent.py:427: in test_transcription_performance
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
___ TestChroniclerAgentPerformance.test_multiple_transcriptions_performance ___
tests\unit\test_unit_chronicler_agent.py:475: in test_multiple_transcriptions_performance
    with patch("chronicler_agent._make_gemini_api_request") as mock_gemini:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1461: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\unittest\mock.py:1434: in get_original
    raise AttributeError(
E   AttributeError: <module 'chronicler_agent' from 'D:\\Code\\Novel-Engine\\chronicler_agent.py'> does not have the attribute '_make_gemini_api_request'
_________ TestDirectorAgent.test_director_initialization_no_event_bus _________
tests\unit\test_unit_director_agent.py:59: in test_director_initialization_no_event_bus
    with pytest.raises((TypeError, ValueError)):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE any of (<class 'TypeError'>, <class 'ValueError'>)
------------------------------ Captured log call ------------------------------
ERROR    director_agent_integrated:director_agent_integrated.py:156 Error setting up component coordination: 'NoneType' object has no attribute 'subscribe'
________________ TestDirectorAgent.test_register_agent_success ________________
tests\unit\test_unit_director_agent.py:74: in test_register_agent_success
    assert mock_agent in self.director.agents
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: argument of type 'AgentLifecycleManager' is not iterable
------------------------------ Captured log call ------------------------------
ERROR    src.director_agent_base:director_agent_base.py:248 Invalid agent type: <class 'unittest.mock.Mock'>. Expected PersonaAgent instance
_______________ TestDirectorAgent.test_register_multiple_agents _______________
tests\unit\test_unit_director_agent.py:97: in test_register_multiple_agents
    assert agent in self.director.agents
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: argument of type 'AgentLifecycleManager' is not iterable
------------------------------ Captured log call ------------------------------
ERROR    src.director_agent_base:director_agent_base.py:248 Invalid agent type: <class 'unittest.mock.Mock'>. Expected PersonaAgent instance
ERROR    src.director_agent_base:director_agent_base.py:248 Invalid agent type: <class 'unittest.mock.Mock'>. Expected PersonaAgent instance
ERROR    src.director_agent_base:director_agent_base.py:248 Invalid agent type: <class 'unittest.mock.Mock'>. Expected PersonaAgent instance
_____________ TestDirectorAgent.test_register_agent_invalid_agent _____________
tests\unit\test_unit_director_agent.py:132: in test_register_agent_invalid_agent
    with pytest.raises((ValueError, TypeError, AttributeError)):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE any of (<class 'ValueError'>, <class 'TypeError'>, <class 'AttributeError'>)
------------------------------ Captured log call ------------------------------
ERROR    src.director_agent_base:director_agent_base.py:248 Invalid agent type: <class 'NoneType'>. Expected PersonaAgent instance
___________________ TestDirectorAgent.test_run_turn_success ___________________
C:\Python312\Lib\unittest\mock.py:916: in assert_called
    raise AssertionError(msg)
E   AssertionError: Expected 'act' to have been called.

During handling of the above exception, another exception occurred:
tests\unit\test_unit_director_agent.py:167: in test_run_turn_success
    mock_agent.act.assert_called()
E   AssertionError: Expected 'act' to have been called.
------------------------------ Captured log call ------------------------------
ERROR    src.director_agent_base:director_agent_base.py:248 Invalid agent type: <class 'unittest.mock.Mock'>. Expected PersonaAgent instance
ERROR    director_agent_integrated:director_agent_integrated.py:306 Error executing turn: There is no current event loop in thread 'MainThread'.
__________ TestDirectorAgentAdvanced.test_director_state_management ___________
tests\unit\test_unit_director_agent.py:300: in test_director_state_management
    initial_state["agents_count"] = len(self.director.agents)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object of type 'AgentLifecycleManager' has no len()
=========================== short test summary info ===========================
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_core_abilities_calculations
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_application_service_create_character
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_stats_updates
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_level_up
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_healing_and_damage
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_query_operations
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_skills_system
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_domain_events
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_business_rules
FAILED tests/integration/test_character_context_integration.py::TestCharacterContextIntegration::test_character_export_import_data
FAILED tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationE2E::test_complete_turn_orchestration_e2e
FAILED tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationE2E::test_turn_orchestration_with_validation_errors
FAILED tests/integration/test_e2e_turn_orchestration.py::TestTurnOrchestrationE2E::test_turn_orchestration_async_execution
FAILED tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_router_import
FAILED tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_delta_endpoint_structure
FAILED tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_slice_endpoint_structure
FAILED tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_summary_endpoint_structure
FAILED tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_history_endpoint_structure
FAILED tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_validate_endpoint_structure
FAILED tests/integration/test_world_api_integration.py::TestWorldAPIIntegration::test_world_endpoints_http_methods
FAILED tests/security/test_comprehensive_security.py::TestAuthentication::test_jwt_token_validation
FAILED tests/security/test_comprehensive_security.py::TestAuthentication::test_password_security_requirements
FAILED tests/security/test_comprehensive_security.py::TestAuthentication::test_brute_force_protection
FAILED tests/security/test_comprehensive_security.py::TestAuthentication::test_token_expiration
FAILED tests/security/test_comprehensive_security.py::TestAuthorization::test_role_based_access_control
FAILED tests/security/test_comprehensive_security.py::TestAuthorization::test_permission_escalation_prevention
FAILED tests/security/test_comprehensive_security.py::TestRateLimiting::test_rate_limit_enforcement
FAILED tests/security/test_comprehensive_security.py::TestRateLimiting::test_ddos_detection
FAILED tests/security/test_comprehensive_security.py::TestRateLimiting::test_ip_whitelist
FAILED tests/security/test_comprehensive_security.py::TestSecurityHeaders::test_security_headers_configuration
FAILED tests/security/test_comprehensive_security.py::TestVulnerabilityAssessment::test_owasp_top_10_protection
FAILED tests/security/test_comprehensive_security.py::TestVulnerabilityAssessment::test_information_disclosure_prevention
FAILED tests/security/test_comprehensive_security.py::TestVulnerabilityAssessment::test_session_security
FAILED tests/security/test_comprehensive_security.py::TestSecurityPerformance::test_rate_limiting_performance
FAILED tests/security/test_comprehensive_security.py::TestSecurityPerformance::test_input_validation_performance
FAILED tests/security/test_comprehensive_security.py::TestSecurityIntegration::test_end_to_end_security_flow
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_character_action_processing_traditional
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_character_action_processing_ai_enhanced
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_character_action_fallback_mechanism
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_story_generation_traditional
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_story_generation_ai_enhanced
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_timeout_handling
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_analytics_integration
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_concurrent_operations
FAILED tests/test_ai_intelligence_integration.py::TestAIIntelligenceIntegration::test_memory_and_cleanup
FAILED tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_character_detail_scientist
FAILED tests/test_api_endpoints_comprehensive.py::TestCharacterEndpoints::test_enhanced_character_endpoint
FAILED tests/test_api_endpoints_comprehensive.py::TestSimulationEndpoints::test_simulation_story_quality
FAILED tests/test_character_system_comprehensive.py::TestCharacterLoading::test_character_directory_structure
FAILED tests/test_character_system_comprehensive.py::TestCharacterLoading::test_character_metadata_validation
FAILED tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_pilot_character_profile
FAILED tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_scientist_character_profile
FAILED tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_engineer_character_profile
FAILED tests/test_character_system_comprehensive.py::TestGenericCharacterProfiles::test_test_character_profile
FAILED tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_combat_stats_validity
FAILED tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_psychological_profile_validity
FAILED tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_equipment_completeness
FAILED tests/test_character_system_comprehensive.py::TestCharacterStatistics::test_character_relationships
FAILED tests/test_character_system_comprehensive.py::TestCharacterFactory::test_character_template_validation
FAILED tests/test_character_system_comprehensive.py::TestCharacterMemorySystem::test_character_memory_initialization
FAILED tests/test_character_system_comprehensive.py::TestCharacterMemorySystem::test_memory_persistence_across_sessions
FAILED tests/test_character_system_comprehensive.py::TestCharacterMemorySystem::test_memory_log_format
FAILED tests/test_character_system_comprehensive.py::TestCharacterInteractions::test_character_decision_making
FAILED tests/test_character_system_comprehensive.py::TestCharacterInteractions::test_character_personality_consistency
FAILED tests/test_character_system_comprehensive.py::TestCharacterInteractions::test_multi_character_simulation
FAILED tests/test_character_system_comprehensive.py::TestPerformanceAndScalability::test_concurrent_character_operations
FAILED tests/test_character_system_comprehensive.py::TestCharacterValidation::test_character_data_consistency
FAILED tests/test_character_system_comprehensive.py::TestCharacterValidation::test_character_balance_validation
FAILED tests/test_character_system_comprehensive.py::TestCharacterValidation::test_sci_fi_theme_consistency
FAILED tests/test_director_agent.py::TestDirectorAgent::test_handle_agent_action
FAILED tests/test_director_agent.py::TestDirectorAgent::test_handle_agent_action_with_no_action
FAILED tests/test_director_agent.py::TestDirectorAgent::test_run_turn_emits_event
FAILED tests/test_enhanced_bridge.py::TestBridgeConfiguration::test_custom_configuration
FAILED tests/test_enhanced_bridge.py::TestBridgeFactory::test_create_enhanced_bridge_success
FAILED tests/test_enhanced_bridge.py::TestBridgeFactory::test_create_enhanced_bridge_failure
FAILED tests/test_enhanced_bridge.py::TestBridgeIntegration::test_dialogue_manager_integration
FAILED tests/test_enhanced_bridge.py::TestBridgeIntegration::test_performance_monitoring
FAILED tests/test_event_integration.py::TestEventIntegration::test_full_turn_event_flow
FAILED tests/test_integration_comprehensive.py::TestFullSystemIntegration::test_end_to_end_simulation_workflow
FAILED tests/test_integration_comprehensive.py::TestFullSystemIntegration::test_multi_user_concurrent_simulation
FAILED tests/test_integration_comprehensive.py::TestAPIBackendIntegration::test_api_character_loading_backend_integration
FAILED tests/test_integration_comprehensive.py::TestCharacterSimulationIntegration::test_character_loading_simulation_execution
FAILED tests/test_integration_comprehensive.py::TestCharacterSimulationIntegration::test_character_attributes_simulation_behavior
FAILED tests/test_integration_comprehensive.py::TestCharacterSimulationIntegration::test_multi_character_interaction_simulation
FAILED tests/test_integration_comprehensive.py::TestStoryGenerationPipeline::test_simulation_to_story_pipeline
FAILED tests/test_integration_comprehensive.py::TestStoryGenerationPipeline::test_character_context_story_integration
FAILED tests/test_integration_comprehensive.py::TestStoryGenerationPipeline::test_narrative_style_story_consistency
FAILED tests/test_integration_comprehensive.py::TestMultiComponentWorkflows::test_character_creation_to_simulation_workflow
FAILED tests/test_integration_comprehensive.py::TestMultiComponentWorkflows::test_error_recovery_multi_component_workflow
FAILED tests/test_integration_comprehensive.py::TestMultiComponentWorkflows::test_performance_multi_component_integration
FAILED tests/test_integration_comprehensive.py::TestPerformanceIntegration::test_memory_usage_integration
FAILED tests/test_integration_comprehensive.py::TestErrorPropagationAndRecovery::test_story_generation_error_handling_integration
FAILED tests/test_integration_comprehensive.py::TestSecurityValidationIntegration::test_brand_content_validation_integration
FAILED tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_handles_api_failure_and_uses_fallback
FAILED tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_handles_invalid_response
FAILED tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_handles_observe_action
FAILED tests/test_llm_integration.py::TestLLMIntegration::test_llm_decision_making_returns_action
FAILED tests/test_llm_integration.py::TestLLMIntegration::test_llm_uses_fallback_when_no_api_key
FAILED tests/test_performance_optimizations.py::TestWebSocketOptimizations::test_story_generation_api_semaphore
FAILED tests/test_persona_agent.py::TestPersonaAgent::test_handle_turn_start_emits_action
FAILED tests/test_persona_agent.py::TestPersonaAgent::test_handle_turn_start_with_no_action
FAILED tests/test_persona_agent.py::TestPersonaAgent::test_initialization_subscribes_to_turn_start
FAILED tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_character_properties
FAILED tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_derive_agent_id_from_path
FAILED tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_estimate_trait_strength
FAILED tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_load_character_context_missing_directory
FAILED tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_load_character_context_success
FAILED tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_parse_character_sheet_content
FAILED tests/test_persona_agent.py::TestPersonaAgentCharacterLoading::test_read_cached_file
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_assess_current_situation
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_assess_threat_levels
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_decision_weight_application
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_evaluate_action_option
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_identify_available_actions
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_make_decision_ai_fallback
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_make_decision_with_world_state
FAILED tests/test_persona_agent.py::TestPersonaAgentDecisionMaking::test_parse_llm_response
FAILED tests/test_persona_agent.py::TestPersonaAgentWorldInterpretation::test_memory_integration
FAILED tests/test_persona_agent.py::TestPersonaAgentWorldInterpretation::test_subjective_worldview_initialization
FAILED tests/test_persona_agent.py::TestPersonaAgentWorldInterpretation::test_world_event_processing
FAILED tests/test_persona_agent.py::TestPersonaAgentAIIntegration::test_ai_query_with_valid_api_key
FAILED tests/test_persona_agent.py::TestPersonaAgentAIIntegration::test_ai_query_without_api_key
FAILED tests/test_persona_agent.py::TestPersonaAgentAIIntegration::test_api_error_handling
FAILED tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_long_term_memory_consolidation
FAILED tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_morale_and_status_tracking
FAILED tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_relationship_evolution
FAILED tests/test_persona_agent.py::TestPersonaAgentMemoryAndEvolution::test_short_term_memory_management
FAILED tests/test_persona_core.py::TestAgentIdentity::test_agent_identity_defaults
FAILED tests/test_persona_core.py::TestPersonaCore::test_persona_core_initialization
FAILED tests/test_persona_core.py::TestPersonaCore::test_persona_core_activation
FAILED tests/test_persona_core.py::TestPersonaCore::test_persona_core_file_operations
FAILED tests/test_persona_core.py::TestPersonaCore::test_persona_core_status
FAILED tests/test_persona_core.py::TestPersonaCore::test_persona_core_error_handling
FAILED tests/test_persona_core.py::TestPersonaCore::test_persona_core_component_integration
FAILED tests/test_persona_core.py::TestPersonaCoreIntegration::test_event_bus_integration
FAILED tests/test_quality_framework.py::TestDataModels::test_world_state_creation
FAILED tests/test_quality_framework.py::TestIntegrationScenarios::test_character_interaction_workflow
FAILED tests/test_quality_framework.py::TestErrorHandling::test_malformed_world_state_handling
FAILED tests/test_security_framework.py::TestSecurityService::test_user_registration
FAILED tests/test_security_framework.py::TestSecurityService::test_duplicate_user_registration
FAILED tests/test_security_framework.py::TestSecurityService::test_user_authentication
FAILED tests/test_security_framework.py::TestSecurityService::test_account_lockout
FAILED tests/test_security_framework.py::TestSecurityService::test_token_creation_and_refresh
FAILED tests/test_security_framework.py::TestSecurityService::test_api_key_generation
FAILED tests/test_security_framework.py::TestInputValidator::test_valid_input_passes
FAILED tests/test_security_framework.py::TestRateLimiter::test_rate_limiting_allows_normal_requests
FAILED tests/test_security_framework.py::TestRateLimiter::test_threat_detection
FAILED tests/test_security_framework.py::TestDataProtection::test_consent_management
FAILED tests/test_security_framework.py::TestDataProtection::test_data_encryption_by_type
FAILED tests/test_security_framework.py::TestDataProtection::test_data_retention_scheduling
FAILED tests/test_security_framework.py::TestSecurityLogging::test_security_event_logging
FAILED tests/test_security_framework.py::TestSecurityLogging::test_security_statistics
FAILED tests/test_security_framework.py::TestSecurityLogging::test_threat_detection_logging
FAILED tests/test_security_framework.py::test_performance_under_load - src.se...
FAILED tests/test_startup_guards.py::TestStartupGuard::test_validate_file_structure_creates_directories
FAILED tests/test_startup_guards.py::TestStartupGuard::test_validate_external_dependencies_missing_packages
FAILED tests/test_startup_guards.py::TestStartupGuard::test_validate_external_dependencies_with_api_keys
FAILED tests/test_startup_guards.py::TestStartupGuard::test_validate_all_success
FAILED tests/test_startup_guards.py::TestKnowledgeBaseBuilder::test_build_kb_success
FAILED tests/test_startup_guards.py::TestStartupGuardIntegration::test_complete_system_validation
FAILED tests/test_startup_guards.py::TestStartupGuardIntegration::test_system_validation_with_warnings
FAILED tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_chronicler_initialization
FAILED tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_narrative_templates_debranded
FAILED tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_faction_descriptions_generic
FAILED tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_narrative_style_management
FAILED tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_campaign_log_parsing
FAILED tests/test_story_generation_comprehensive.py::TestChroniclerAgentCore::test_narrative_segment_generation
FAILED tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_length_adequacy
FAILED tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_structure_coherence
FAILED tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_character_integration_in_stories
FAILED tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_atmosphere_consistency
FAILED tests/test_story_generation_comprehensive.py::TestStoryContentQuality::test_story_readability
FAILED tests/test_story_generation_comprehensive.py::TestDebrandingValidation::test_no_branded_content_in_generated_stories
FAILED tests/test_story_generation_comprehensive.py::TestDebrandingValidation::test_generic_faction_usage_in_stories
FAILED tests/test_story_generation_comprehensive.py::TestDebrandingValidation::test_sci_fi_theme_replacement
FAILED tests/test_story_generation_comprehensive.py::TestNarrativeStyleAndTone::test_sci_fi_dramatic_style
FAILED tests/test_story_generation_comprehensive.py::TestNarrativeStyleAndTone::test_tactical_style
FAILED tests/test_story_generation_comprehensive.py::TestNarrativeStyleAndTone::test_philosophical_style
FAILED tests/test_story_generation_comprehensive.py::TestCharacterIntegration::test_multiple_character_story_generation
FAILED tests/test_story_generation_comprehensive.py::TestCharacterIntegration::test_character_faction_integration
FAILED tests/test_story_generation_comprehensive.py::TestTemplateAndPatternSystems::test_response_template_variety
FAILED tests/test_story_generation_comprehensive.py::TestTemplateAndPatternSystems::test_narrative_opening_templates
FAILED tests/test_story_generation_comprehensive.py::TestPerformanceAndScalability::test_story_generation_performance
FAILED tests/test_story_generation_comprehensive.py::TestPerformanceAndScalability::test_large_log_handling
FAILED tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_empty_log_handling
FAILED tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_malformed_log_handling
FAILED tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_nonexistent_log_handling
FAILED tests/test_story_generation_comprehensive.py::TestErrorHandlingAndEdgeCases::test_corrupted_log_recovery
FAILED tests/test_user_stories.py::TestUserStories::test_story_3_memory_formation
FAILED tests/test_user_stories.py::TestUserStories::test_story_3_relationship_evolution
FAILED tests/unit/contexts/interactions/application/test_interaction_application_service.py::TestProposalOptimization::test_optimize_active_proposals_success
FAILED tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_invalid_format
FAILED tests/unit/contexts/interactions/domain/test_interaction_id_value_object.py::TestInteractionIdFactoryMethods::test_from_string_non_string_type
FAILED tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeValidation::test_whitespace_only_title_and_description_validation
FAILED tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_node_hashing_consistency
FAILED tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_nodes_in_set
FAILED tests/unit/contexts/narratives/domain/test_causal_node_value_object.py::TestCausalNodeCollectionsAndComparison::test_nodes_as_dict_keys
FAILED tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_context_hashing_consistency
FAILED tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_contexts_in_set
FAILED tests/unit/contexts/narratives/domain/test_narrative_context_value_object.py::TestNarrativeContextCollectionsAndComparison::test_contexts_as_dict_keys
FAILED tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_invalid_format
FAILED tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_none
FAILED tests/unit/contexts/narratives/domain/test_narrative_id_value_object.py::TestNarrativeIdFactoryMethods::test_from_string_non_string_type
FAILED tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeImpactScore::test_impact_score_subtle_intensity
FAILED tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeImpactScore::test_impact_score_central_intensity
FAILED tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeInstanceMethods::test_get_thematic_context
FAILED tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_theme_hashing_consistency
FAILED tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_themes_in_set
FAILED tests/unit/contexts/narratives/domain/test_narrative_theme_value_object.py::TestNarrativeThemeCollectionsAndComparison::test_themes_as_dict_keys
FAILED tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointOverallImpactScore::test_supplemental_importance_impact_score
FAILED tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_point_hashing_consistency
FAILED tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_points_in_set
FAILED tests/unit/contexts/narratives/domain/test_plot_point_value_object.py::TestPlotPointCollectionsAndComparison::test_plot_points_as_dict_keys
FAILED tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingValidation::test_invalid_ratios_raise_errors
FAILED tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingMethods::test_get_tension_at_sequence_interpolation
FAILED tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEquality::test_equality_same_values
FAILED tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEquality::test_inequality_different_values
FAILED tests/unit/contexts/narratives/domain/test_story_pacing_value_object.py::TestStoryPacingEquality::test_equality_in_collections
FAILED tests/unit/contexts/world/domain/test_world_state_aggregate.py::TestWorldStateAggregate::test_domain_events_generation
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_factory_initialization_no_event_bus
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_create_character_success
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_create_character_not_found
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_create_character_invalid_name
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_load_character_data_success
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_validate_character_directory_success
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_validate_character_directory_invalid
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_character_factory_error_handling
FAILED tests/unit/test_character_factory.py::TestCharacterFactory::test_multiple_character_creation
FAILED tests/unit/test_character_factory.py::TestCharacterFactoryConfiguration::test_factory_character_path_resolution
FAILED tests/unit/test_character_factory.py::TestCharacterFactoryPerformance::test_character_creation_performance
FAILED tests/unit/test_director_agent_advanced.py::TestDirectorAgentNarrativeEngine::test_story_state_tracking
FAILED tests/unit/test_director_agent_advanced.py::TestDirectorAgentNarrativeEngine::test_world_state_tracker_initialization
FAILED tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_error_tracking_system
FAILED tests/unit/test_director_agent_advanced.py::TestDirectorAgentAgentOrchestration::test_configuration_driven_parameters
FAILED tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentInitialization::test_initialization_with_valid_config
FAILED tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentInitialization::test_initialization_without_config
FAILED tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_agent_success
FAILED tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_multiple_agents
FAILED tests/unit/test_director_agent_comprehensive.py::TestDirectorAgentRegistration::test_register_agent_character_data_validation
FAILED tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_health_endpoint_success
FAILED tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_character_detail_endpoint_success
FAILED tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_character_not_found
FAILED tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_simulations_endpoint_story_generation_failure
FAILED tests/unit/test_unit_api_server.py::TestAPIServerEndpoints::test_character_detail_endpoint_unexpected_error
FAILED tests/unit/test_unit_api_server.py::TestAPIServerErrorHandling::test_404_endpoint_not_found
FAILED tests/unit/test_unit_api_server.py::TestAPIServerSecurity::test_input_validation_xss_attempt
FAILED tests/unit/test_unit_api_server.py::TestAPIServerSecurity::test_path_traversal_protection
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_chronicler_initialization_no_characters
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_success
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_file_not_found
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_empty_file
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_api_failure
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_transcribe_log_invalid_response
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgent::test_character_name_integration
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentAdvanced::test_story_quality_validation
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentAdvanced::test_large_log_file_handling
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentPerformance::test_transcription_performance
FAILED tests/unit/test_unit_chronicler_agent.py::TestChroniclerAgentPerformance::test_multiple_transcriptions_performance
FAILED tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_director_initialization_no_event_bus
FAILED tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_register_agent_success
FAILED tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_register_multiple_agents
FAILED tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_register_agent_invalid_agent
FAILED tests/unit/test_unit_director_agent.py::TestDirectorAgent::test_run_turn_success
FAILED tests/unit/test_unit_director_agent.py::TestDirectorAgentAdvanced::test_director_state_management
ERROR tests/test_ai_intelligence_integration.py::TestPerformanceValidation::test_response_time_requirements
ERROR tests/test_ai_intelligence_integration.py::TestPerformanceValidation::test_throughput_capacity
ERROR tests/test_ai_intelligence_integration.py::TestPerformanceValidation::test_resource_utilization
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_initialization
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_component_initialization
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_enhanced_turn_execution_no_agents
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_enhanced_turn_execution_with_agents
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_request_priority_determination
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_status
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_execution_time_calculation
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_bridge_shutdown
ERROR tests/test_enhanced_bridge.py::TestEnhancedMultiAgentBridge::test_context_building
ERROR tests/test_integration_complete.py::TestCompleteSystemIntegration::test_iron_laws_integration
ERROR tests/test_iron_laws.py::TestIronLawsValidation::test_iron_laws_validation_core
ERROR tests/test_iron_laws.py::TestIronLawsValidation::test_causality_law_validation
ERROR tests/test_iron_laws.py::TestIronLawsValidation::test_resource_law_validation
ERROR tests/test_iron_laws.py::TestIronLawsValidation::test_physics_law_validation
ERROR tests/test_iron_laws.py::TestIronLawsValidation::test_narrative_law_validation
ERROR tests/test_iron_laws.py::TestIronLawsValidation::test_social_law_validation
ERROR tests/test_iron_laws.py::TestIronLawsRepairSystem::test_causality_repair
ERROR tests/test_iron_laws.py::TestIronLawsRepairSystem::test_resource_repair
ERROR tests/test_iron_laws.py::TestIronLawsRepairSystem::test_physics_repair
ERROR tests/test_iron_laws.py::TestIronLawsRepairSystem::test_narrative_repair
ERROR tests/test_iron_laws.py::TestIronLawsRepairSystem::test_social_repair
ERROR tests/test_iron_laws.py::TestIronLawsRepairSystem::test_comprehensive_repair_attempt
ERROR tests/test_iron_laws.py::TestIronLawsHelperMethods::test_group_violations_by_law
ERROR tests/test_iron_laws.py::TestIronLawsHelperMethods::test_get_current_world_context
ERROR tests/test_iron_laws.py::TestIronLawsHelperMethods::test_determine_overall_validation_result
ERROR tests/test_iron_laws.py::TestIronLawsHelperMethods::test_calculate_action_stamina_cost
ERROR tests/test_iron_laws.py::TestIronLawsIntegration::test_iron_laws_during_turn_processing
ERROR tests/test_iron_laws.py::TestIronLawsIntegration::test_iron_laws_error_handling
ERROR tests/test_iron_laws.py::TestIronLawsIntegration::test_iron_laws_performance_tracking
ERROR tests/test_iron_laws.py::TestIronLawsEdgeCases::test_invalid_action_handling
ERROR tests/test_iron_laws.py::TestIronLawsEdgeCases::test_malformed_character_data_handling
ERROR tests/test_iron_laws.py::TestIronLawsEdgeCases::test_resource_calculation_edge_cases
ERROR tests/test_iron_laws.py::TestIronLawsEdgeCases::test_repair_system_edge_cases
ERROR tests/test_user_stories.py::TestUserStories::test_story_1_character_creation_basic
ERROR tests/test_user_stories.py::TestUserStories::test_story_1_character_customization
ERROR tests/test_user_stories.py::TestUserStories::test_story_1_validation_requirements
ERROR tests/test_user_stories.py::TestUserStories::test_story_2_interaction_initiation
ERROR tests/test_user_stories.py::TestUserStories::test_story_2_real_time_monitoring
ERROR tests/test_user_stories.py::TestUserStories::test_system_health_and_metrics
= 264 failed, 1923 passed, 42 skipped, 1257 warnings, 42 errors in 283.69s (0:04:43) =
