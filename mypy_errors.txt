src\core\types\shared_types.py:58: error: Statement is unreachable  [unreachable]
src\core\types\shared_types.py:89: error: Statement is unreachable  [unreachable]
src\core\types\shared_types.py:96: error: Statement is unreachable  [unreachable]
contexts\subjective\domain\value_objects\awareness.py:67: error: Incompatible types in assignment (expression has type "None", variable has type "dict[AwarenessModifier, float]")  [assignment]
contexts\subjective\domain\value_objects\awareness.py:75: error: Statement is unreachable  [unreachable]
contexts\subjective\domain\value_objects\awareness.py:77: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\__init__.py:14: error: Need type annotation for "__all__" (hint: "__all__: List[<type>] = ...")  [var-annotated]
contexts\orchestration\__init__.py:35: error: Need type annotation for "__all__" (hint: "__all__: List[<type>] = ...")  [var-annotated]
contexts\character\domain\value_objects\skills.py:247: error: Need type annotation for "all_skills" (hint: "all_skills: List[<type>] = ...")  [var-annotated]
contexts\character\domain\value_objects\skills.py:280: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\character\domain\value_objects\skills.py:280: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\ai\domain\events\__init__.py:11: error: Need type annotation for "__all__" (hint: "__all__: List[<type>] = ...")  [var-annotated]
contexts\ai\domain\aggregates\__init__.py:11: error: Need type annotation for "__all__" (hint: "__all__: List[<type>] = ...")  [var-annotated]
src\core\types\__init__.py:23: error: Argument 1 to "module_from_spec" has incompatible type "ModuleSpec | None"; expected "ModuleSpec"  [arg-type]
src\core\types\__init__.py:26: error: Item "None" of "ModuleSpec | None" has no attribute "loader"  [union-attr]
src\core\types\__init__.py:26: error: Item "None" of "Loader | Any | None" has no attribute "exec_module"  [union-attr]
contexts\world\domain\value_objects\coordinates.py:62: error: Statement is unreachable  [unreachable]
contexts\character\domain\value_objects\character_stats.py:57: error: Variable "contexts.character.domain.value_objects.character_stats.CoreAbilities.AbilityScore" is not valid as a type  [valid-type]
contexts\character\domain\value_objects\character_stats.py:57: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
contexts\character\domain\value_objects\character_stats.py:69: error: Variable "contexts.character.domain.value_objects.character_stats.CoreAbilities.AbilityScore" is not valid as a type  [valid-type]
contexts\character\domain\value_objects\character_stats.py:69: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
contexts\character\domain\value_objects\character_stats.py:81: error: Variable "contexts.character.domain.value_objects.character_stats.CoreAbilities.AbilityScore" is not valid as a type  [valid-type]
contexts\character\domain\value_objects\character_stats.py:81: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
contexts\character\domain\value_objects\character_stats.py:85: error: Variable "contexts.character.domain.value_objects.character_stats.CoreAbilities.AbilityScore" is not valid as a type  [valid-type]
contexts\character\domain\value_objects\character_stats.py:85: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
contexts\character\domain\value_objects\character_stats.py:92: error: Variable "contexts.character.domain.value_objects.character_stats.CoreAbilities.AbilityScore" is not valid as a type  [valid-type]
contexts\character\domain\value_objects\character_stats.py:92: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
contexts\character\domain\value_objects\character_stats.py:356: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\character\domain\value_objects\character_stats.py:356: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\character\domain\value_objects\character_stats.py:361: error: AbilityScore? has no attribute "value"  [attr-defined]
contexts\character\domain\value_objects\character_stats.py:362: error: AbilityScore? has no attribute "value"  [attr-defined]
src\infrastructure\s3_manager.py:20: error: Library stubs not installed for "aiofiles"  [import-untyped]
src\infrastructure\s3_manager.py:224: error: Item "None" of "Any | None" has no attribute "head_bucket"  [union-attr]
src\infrastructure\s3_manager.py:231: error: Item "None" of "Any | None" has no attribute "create_bucket"  [union-attr]
src\infrastructure\s3_manager.py:238: error: Item "None" of "Any | None" has no attribute "create_bucket"  [union-attr]
src\infrastructure\s3_manager.py:257: error: Item "None" of "Any | None" has no attribute "put_bucket_versioning"  [union-attr]
src\infrastructure\s3_manager.py:283: error: Item "None" of "Any | None" has no attribute "put_bucket_encryption"  [union-attr]
src\infrastructure\s3_manager.py:321: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:332: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:374: error: Function "builtins.callable" is not valid as a type  [valid-type]
src\infrastructure\s3_manager.py:374: note: Perhaps you meant "typing.Callable" instead of "callable"?
src\infrastructure\s3_manager.py:400: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str")  [assignment]
src\infrastructure\s3_manager.py:414: error: Statement is unreachable  [unreachable]
src\infrastructure\s3_manager.py:420: error: Item "None" of "Any | None" has no attribute "upload_fileobj"  [union-attr]
src\infrastructure\s3_manager.py:425: error: Item "None" of "Any | None" has no attribute "upload_fileobj"  [union-attr]
src\infrastructure\s3_manager.py:430: error: Item "None" of "Any | None" has no attribute "head_object"  [union-attr]
src\infrastructure\s3_manager.py:436: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:437: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:438: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\s3_manager.py:440: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\s3_manager.py:441: error: Value of type "object" is not indexable  [index]
src\infrastructure\s3_manager.py:444: error: No overload variant of "sum" matches argument type "object"  [call-overload]
src\infrastructure\s3_manager.py:444: note: Possible overload variants:
src\infrastructure\s3_manager.py:444: note:     def sum(Iterable[bool], /, start: int = ...) -> int
src\infrastructure\s3_manager.py:444: note:     def [_SupportsSumNoDefaultT <: _SupportsSumWithNoDefaultGiven] sum(Iterable[_SupportsSumNoDefaultT], /) -> _SupportsSumNoDefaultT | Literal[0]
src\infrastructure\s3_manager.py:444: note:     def [_AddableT1 <: SupportsAdd[Any, Any], _AddableT2 <: SupportsAdd[Any, Any]] sum(Iterable[_AddableT1], /, start: _AddableT2) -> _AddableT1 | _AddableT2
src\infrastructure\s3_manager.py:446: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\s3_manager.py:465: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:494: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str")  [assignment]
src\infrastructure\s3_manager.py:497: error: Item "None" of "Any | None" has no attribute "put_object"  [union-attr]
src\infrastructure\s3_manager.py:502: error: Item "None" of "Any | None" has no attribute "head_object"  [union-attr]
src\infrastructure\s3_manager.py:508: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:509: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:510: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\s3_manager.py:527: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:535: error: Function "builtins.callable" is not valid as a type  [valid-type]
src\infrastructure\s3_manager.py:535: note: Perhaps you meant "typing.Callable" instead of "callable"?
src\infrastructure\s3_manager.py:548: error: Item "None" of "Any | None" has no attribute "head_object"  [union-attr]
src\infrastructure\s3_manager.py:557: error: Item "None" of "Any | None" has no attribute "get_object"  [union-attr]
src\infrastructure\s3_manager.py:571: error: Statement is unreachable  [unreachable]
src\infrastructure\s3_manager.py:575: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:577: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\s3_manager.py:579: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\s3_manager.py:580: error: Value of type "object" is not indexable  [index]
src\infrastructure\s3_manager.py:583: error: No overload variant of "sum" matches argument type "object"  [call-overload]
src\infrastructure\s3_manager.py:583: note: Possible overload variants:
src\infrastructure\s3_manager.py:583: note:     def sum(Iterable[bool], /, start: int = ...) -> int
src\infrastructure\s3_manager.py:583: note:     def [_SupportsSumNoDefaultT <: _SupportsSumWithNoDefaultGiven] sum(Iterable[_SupportsSumNoDefaultT], /) -> _SupportsSumNoDefaultT | Literal[0]
src\infrastructure\s3_manager.py:583: note:     def [_AddableT1 <: SupportsAdd[Any, Any], _AddableT2 <: SupportsAdd[Any, Any]] sum(Iterable[_AddableT1], /, start: _AddableT2) -> _AddableT1 | _AddableT2
src\infrastructure\s3_manager.py:585: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\s3_manager.py:594: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:615: error: Item "None" of "Any | None" has no attribute "get_object"  [union-attr]
src\infrastructure\s3_manager.py:627: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:628: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:629: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\s3_manager.py:636: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:653: error: Item "None" of "Any | None" has no attribute "delete_object"  [union-attr]
src\infrastructure\s3_manager.py:667: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:691: error: Item "None" of "Any | None" has no attribute "list_objects_v2"  [union-attr]
src\infrastructure\s3_manager.py:714: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\s3_manager.py:725: error: Item "None" of "Any | None" has no attribute "head_object"  [union-attr]
src\infrastructure\s3_manager.py:737: error: Item "None" of "Any | None" has no attribute "head_object"  [union-attr]
src\infrastructure\s3_manager.py:866: error: Item "None" of "Any | None" has no attribute "head_bucket"  [union-attr]
src\infrastructure\s3_manager.py:908: error: Unsupported left operand type for + ("object")  [operator]
src\infrastructure\s3_manager.py:909: error: Unsupported left operand type for + ("object")  [operator]
src\infrastructure\s3_manager.py:915: error: No overload variant of "max" matches argument type "object"  [call-overload]
src\infrastructure\s3_manager.py:915: note: Possible overload variants:
src\infrastructure\s3_manager.py:915: note:     def [SupportsRichComparisonT] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\s3_manager.py:915: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\s3_manager.py:915: note:     def [SupportsRichComparisonT] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\s3_manager.py:915: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\s3_manager.py:915: note:     def [SupportsRichComparisonT, _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
src\infrastructure\s3_manager.py:915: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
src\infrastructure\s3_manager.py:916: error: No overload variant of "max" matches argument type "object"  [call-overload]
src\infrastructure\s3_manager.py:916: note: Possible overload variants:
src\infrastructure\s3_manager.py:916: note:     def [SupportsRichComparisonT] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\s3_manager.py:916: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\s3_manager.py:916: note:     def [SupportsRichComparisonT] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\s3_manager.py:916: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\s3_manager.py:916: note:     def [SupportsRichComparisonT, _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
src\infrastructure\s3_manager.py:916: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
src\core\config\config_loader.py:308: error: Incompatible return value type (got "AppConfig | None", expected "AppConfig")  [return-value]
src\memory_interface.py:106: error: Statement is unreachable  [unreachable]
src\character_interpreter.py:122: error: Argument 1 to "_parse_character_sheet_content" of "CharacterInterpreter" has incompatible type "Collection[str]"; expected "str"  [arg-type]
src\character_interpreter.py:132: error: Argument 1 to "_merge_yaml_data_into_character_data" of "CharacterInterpreter" has incompatible type "Collection[str]"; expected "dict[str, Any]"  [arg-type]
src\character_interpreter.py:531: error: Incompatible types in assignment (expression has type "str | Any", target has type "list[str | Any]")  [assignment]
src\core\subjective_reality.py:209: error: Incompatible default for argument "location" (default has type "None", argument has type "str")  [assignment]
src\core\subjective_reality.py:209: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:209: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\subjective_reality.py:238: error: Incompatible default for argument "initial_location" (default has type "None", argument has type "str")  [assignment]
src\core\subjective_reality.py:238: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:238: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\subjective_reality.py:260: error: Incompatible default for argument "lost_locations" (default has type "None", argument has type "list[str]")  [assignment]
src\core\subjective_reality.py:260: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:260: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\subjective_reality.py:324: error: "Collection[str]" has no attribute "append"  [attr-defined]
src\core\subjective_reality.py:338: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
src\core\subjective_reality.py:413: error: Incompatible default for argument "personality_traits" (default has type "None", argument has type "dict[str, float]")  [assignment]
src\core\subjective_reality.py:413: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:413: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\subjective_reality.py:417: error: Statement is unreachable  [unreachable]
src\core\subjective_reality.py:431: error: Incompatible default for argument "recent_events" (default has type "None", argument has type "list[dict[Any, Any]]")  [assignment]
src\core\subjective_reality.py:431: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:431: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\subjective_reality.py:640: error: Need type annotation for "info_categories"  [var-annotated]
src\core\subjective_reality.py:755: error: Incompatible default for argument "personality_traits" (default has type "None", argument has type "dict[str, float]")  [assignment]
src\core\subjective_reality.py:755: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:755: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\subjective_reality.py:756: error: Incompatible default for argument "initial_location" (default has type "None", argument has type "str")  [assignment]
src\core\subjective_reality.py:756: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:756: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\subjective_reality.py:778: error: Incompatible default for argument "recent_events" (default has type "None", argument has type "list[dict[Any, Any]]")  [assignment]
src\core\subjective_reality.py:778: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\subjective_reality.py:778: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\events\event_registry.py:387: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
core_platform\monitoring\metrics.py:128: error: Need type annotation for "_event_type_counters"  [var-annotated]
core_platform\monitoring\metrics.py:129: error: Need type annotation for "_topic_counters"  [var-annotated]
contexts\subjective\domain\value_objects\knowledge_level.py:70: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\subjective\domain\value_objects\knowledge_level.py:85: error: Statement is unreachable  [unreachable]
contexts\subjective\domain\value_objects\knowledge_level.py:87: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\value_objects\turn_id.py:42: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\orchestration\domain\value_objects\turn_id.py:52: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\value_objects\phase_status.py:41: error: Invalid index type "PhaseType" for "dict[str, str]"; expected type "str"  [index]
contexts\orchestration\domain\value_objects\phase_status.py:52: error: Invalid index type "PhaseType" for "dict[str, int]"; expected type "str"  [index]
contexts\orchestration\domain\value_objects\phase_status.py:66: error: Incompatible return value type (got "str | None", expected "PhaseType | None")  [return-value]
contexts\orchestration\domain\value_objects\phase_status.py:80: error: Incompatible return value type (got "str | None", expected "PhaseType | None")  [return-value]
contexts\orchestration\domain\value_objects\phase_status.py:115: error: Non-overlapping container check (element type: "PhaseStatusEnum", container item type: "str")  [comparison-overlap]
contexts\orchestration\domain\value_objects\phase_status.py:119: error: Non-overlapping container check (element type: "PhaseStatusEnum", container item type: "str")  [comparison-overlap]
contexts\orchestration\domain\value_objects\phase_status.py:123: error: Non-overlapping equality check (left operand type: "PhaseStatusEnum", right operand type: "Literal['completed']")  [comparison-overlap]
contexts\orchestration\domain\value_objects\phase_status.py:127: error: Non-overlapping container check (element type: "PhaseStatusEnum", container item type: "str")  [comparison-overlap]
contexts\orchestration\domain\value_objects\phase_status.py:140: error: No overload variant of "get" of "dict" matches argument types "PhaseStatusEnum", "set[Never]"  [call-overload]
contexts\orchestration\domain\value_objects\phase_status.py:140: note: Possible overload variants:
contexts\orchestration\domain\value_objects\phase_status.py:140: note:     def get(self, str, /) -> object
contexts\orchestration\domain\value_objects\phase_status.py:140: note:     def get(self, str, object, /) -> object
contexts\orchestration\domain\value_objects\phase_status.py:140: note:     def [_T] get(self, str, _T, /) -> object
contexts\orchestration\domain\value_objects\phase_status.py:179: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\orchestration\domain\value_objects\phase_status.py:180: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\orchestration\domain\value_objects\phase_status.py:186: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\value_objects\phase_status.py:189: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\value_objects\phase_status.py:399: error: Unpacked dict entry 1 has incompatible type "object"; expected "SupportsKeysAndGetItem[str, Any]"  [dict-item]
contexts\narratives\domain\events\narrative_events.py:38: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:68: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:69: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:76: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:78: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:89: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:96: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:112: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:118: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:128: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:129: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:136: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:138: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:151: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, int]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:157: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:174: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:180: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:192: error: Incompatible types in assignment (expression has type "None", variable has type "list[int]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:199: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:212: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:218: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:260: error: Incompatible types in assignment (expression has type "None", variable has type "list[int]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:262: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:263: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:270: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:272: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:274: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:292: error: Incompatible types in assignment (expression has type "None", variable has type "list[int]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:299: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:313: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:314: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:315: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:321: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:323: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:325: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:365: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:374: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\events\narrative_events.py:386: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\events\narrative_events.py:393: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\value_objects\negotiation_status.py:224: error: Unsupported right operand type for in ("object")  [operator]
contexts\interactions\domain\events\interaction_events.py:37: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:38: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:40: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:45: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:58: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:61: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:76: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:78: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:91: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:93: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:94: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:115: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:116: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:117: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:130: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:131: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:132: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:147: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:148: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:150: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:166: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:167: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:168: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:169: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:170: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:175: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:186: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:205: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:206: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:207: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:214: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:216: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:233: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:234: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:252: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:253: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:272: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:274: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:281: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:297: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:298: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:299: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:305: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:307: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:321: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:322: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:324: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:330: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:344: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:345: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:352: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:363: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:367: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:384: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:386: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:387: error: Incompatible types in assignment (expression has type "None", variable has type "dict[UUID, str]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:393: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:395: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\events\interaction_events.py:408: error: Incompatible types in assignment (expression has type "None", variable has type "UUID")  [assignment]
contexts\interactions\domain\events\interaction_events.py:411: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\interactions\domain\events\interaction_events.py:412: error: Incompatible types in assignment (expression has type "None", variable has type "list[UUID]")  [assignment]
contexts\interactions\domain\events\interaction_events.py:418: error: Statement is unreachable  [unreachable]
contexts\interactions\application\queries\interaction_queries.py:212: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\interactions\application\queries\interaction_queries.py:225: error: Statement is unreachable  [unreachable]
contexts\interactions\application\queries\interaction_queries.py:301: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\interactions\application\queries\interaction_queries.py:309: error: Statement is unreachable  [unreachable]
contexts\interactions\application\queries\interaction_queries.py:364: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\interactions\application\queries\interaction_queries.py:365: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\interactions\application\queries\interaction_queries.py:378: error: Statement is unreachable  [unreachable]
contexts\interactions\application\queries\interaction_queries.py:380: error: Statement is unreachable  [unreachable]
contexts\interactions\application\queries\interaction_queries.py:419: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\interactions\application\queries\interaction_queries.py:444: error: Statement is unreachable  [unreachable]
contexts\interactions\application\queries\interaction_queries.py:452: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, datetime]")  [assignment]
contexts\character\application\commands\character_commands.py:379: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\value_objects\turn_configuration.py:185: error: Incompatible default for argument "participants" (default has type "None", argument has type "list[str]")  [assignment]
contexts\orchestration\domain\value_objects\turn_configuration.py:185: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\turn_configuration.py:185: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\turn_configuration.py:212: error: Incompatible default for argument "participants" (default has type "None", argument has type "list[str]")  [assignment]
contexts\orchestration\domain\value_objects\turn_configuration.py:212: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\turn_configuration.py:212: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\turn_configuration.py:243: error: Incompatible default for argument "participants" (default has type "None", argument has type "list[str]")  [assignment]
contexts\orchestration\domain\value_objects\turn_configuration.py:243: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\turn_configuration.py:243: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:84: error: Incompatible default for argument "events_generated" (default has type "None", argument has type "list[UUID]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:84: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:84: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:85: error: Incompatible default for argument "events_consumed" (default has type "None", argument has type "list[UUID]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:85: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:85: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:86: error: Incompatible default for argument "artifacts_created" (default has type "None", argument has type "list[str]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:86: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:86: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:87: error: Incompatible default for argument "performance_metrics" (default has type "None", argument has type "dict[str, float]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:87: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:87: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:89: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:89: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:89: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:124: error: Incompatible default for argument "events_consumed" (default has type "None", argument has type "list[UUID]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:124: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:124: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:125: error: Incompatible default for argument "performance_metrics" (default has type "None", argument has type "dict[str, float]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:125: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:125: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:126: error: Incompatible default for argument "compensation_applied" (default has type "None", argument has type "list[str]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:126: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:126: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:127: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:127: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:127: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:274: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:274: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:274: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:314: error: Argument "total_ai_cost" to "PipelineResult" has incompatible type "Decimal | Literal[0]"; expected "Decimal"  [arg-type]
contexts\orchestration\domain\value_objects\pipeline_result.py:326: error: Incompatible default for argument "saga_actions_taken" (default has type "None", argument has type "list[str]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:326: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:326: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:327: error: Incompatible default for argument "metadata" (default has type "None", argument has type "dict[str, Any]")  [assignment]
contexts\orchestration\domain\value_objects\pipeline_result.py:327: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\value_objects\pipeline_result.py:327: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\value_objects\pipeline_result.py:364: error: Argument "total_ai_cost" to "PipelineResult" has incompatible type "Decimal | Literal[0]"; expected "Decimal"  [arg-type]
contexts\orchestration\domain\value_objects\compensation_action.py:49: error: Invalid index type "CompensationType" for "dict[str, str]"; expected type "str"  [index]
contexts\orchestration\domain\value_objects\compensation_action.py:63: error: Invalid index type "CompensationType" for "dict[str, str]"; expected type "str"  [index]
contexts\orchestration\domain\value_objects\compensation_action.py:72: error: Non-overlapping container check (element type: "CompensationType", container item type: "str")  [comparison-overlap]
contexts\orchestration\domain\value_objects\compensation_action.py:81: error: Non-overlapping container check (element type: "CompensationType", container item type: "str")  [comparison-overlap]
contexts\narratives\domain\value_objects\story_pacing.py:73: error: Incompatible types in assignment (expression has type "None", variable has type "list[Decimal]")  [assignment]
contexts\narratives\domain\value_objects\story_pacing.py:74: error: Incompatible types in assignment (expression has type "None", variable has type "list[int]")  [assignment]
contexts\narratives\domain\value_objects\story_pacing.py:75: error: Incompatible types in assignment (expression has type "None", variable has type "list[int]")  [assignment]
contexts\narratives\domain\value_objects\story_pacing.py:91: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\narratives\domain\value_objects\story_pacing.py:92: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\value_objects\story_pacing.py:98: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\story_pacing.py:101: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\story_pacing.py:104: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\story_pacing.py:107: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\story_pacing.py:110: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\plot_point.py:69: error: Incompatible types in assignment (expression has type "None", variable has type "set[UUID]")  [assignment]
contexts\narratives\domain\value_objects\plot_point.py:70: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\plot_point.py:79: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\plot_point.py:80: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\plot_point.py:89: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\plot_point.py:91: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\narratives\domain\value_objects\plot_point.py:92: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\value_objects\plot_point.py:98: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\plot_point.py:101: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\plot_point.py:104: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\plot_point.py:107: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\plot_point.py:110: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\plot_point.py:113: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\plot_point.py:116: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:59: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:60: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:61: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:70: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:71: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:88: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Decimal]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:89: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:90: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:91: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\value_objects\narrative_theme.py:97: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:100: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:103: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:106: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:109: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:112: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:115: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:118: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_theme.py:121: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:65: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:66: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:70: error: Incompatible types in assignment (expression has type "None", variable has type "set[UUID]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:73: error: Incompatible types in assignment (expression has type "None", variable has type "set[UUID]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:74: error: Incompatible types in assignment (expression has type "None", variable has type "dict[UUID, str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:77: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:78: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:79: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:82: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:83: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:84: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:87: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Decimal]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:88: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Decimal]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:89: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Decimal]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:92: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:93: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:94: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:106: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:109: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:110: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\value_objects\narrative_context.py:116: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:119: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:122: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:125: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:128: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:131: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:134: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:137: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:140: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:143: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:146: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:149: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:152: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:155: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:158: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:161: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:164: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:167: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:170: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\narrative_context.py:173: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:66: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:67: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:68: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:69: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:72: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, dict[str, Any]]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:95: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:96: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:99: error: Incompatible types in assignment (expression has type "None", variable has type "set[str]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:101: error: Incompatible types in assignment (expression has type "None", variable has type "datetime")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:102: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\narratives\domain\value_objects\causal_node.py:108: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:111: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:114: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:117: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:120: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:123: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:126: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:129: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:132: error: Statement is unreachable  [unreachable]
contexts\narratives\domain\value_objects\causal_node.py:135: error: Statement is unreachable  [unreachable]
contexts\interactions\domain\value_objects\proposal_terms.py:255: error: Need type annotation for "visited" (hint: "visited: Set[<type>] = ...")  [var-annotated]
contexts\interactions\domain\value_objects\negotiation_party.py:197: error: "type[NegotiationStyle]" has no attribute "AGGRESSIVE"  [attr-defined]
contexts\interactions\domain\value_objects\negotiation_party.py:201: error: Value of type variable "SupportsRichComparisonT" of "sorted" cannot be "NegotiationStyle"  [type-var]
contexts\interactions\domain\value_objects\negotiation_party.py:367: error: Unsupported operand types for * ("float" and "Decimal")  [operator]
contexts\interactions\domain\value_objects\negotiation_party.py:367: note: Left operand is of type "Decimal | float"
contexts\interactions\domain\value_objects\negotiation_party.py:474: error: Incompatible return value type (got "Decimal | float", expected "Decimal")  [return-value]
contexts\ai\domain\value_objects\common.py:93: error: Incompatible types in assignment (expression has type "None", variable has type "UUID | str")  [assignment]
contexts\ai\domain\value_objects\common.py:96: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\ai\domain\value_objects\common.py:102: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:106: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:233: error: Incompatible types in assignment (expression has type "None", variable has type "set[ModelCapability]")  [assignment]
contexts\ai\domain\value_objects\common.py:236: error: Incompatible types in assignment (expression has type "None", variable has type "Decimal")  [assignment]
contexts\ai\domain\value_objects\common.py:237: error: Incompatible types in assignment (expression has type "None", variable has type "Decimal")  [assignment]
contexts\ai\domain\value_objects\common.py:240: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\ai\domain\value_objects\common.py:246: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:249: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:253: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:256: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:357: error: Argument "max_context_tokens" to "ModelId" has incompatible type "object"; expected "int"  [arg-type]
contexts\ai\domain\value_objects\common.py:358: error: Argument "max_output_tokens" to "ModelId" has incompatible type "object"; expected "int"  [arg-type]
contexts\ai\domain\value_objects\common.py:359: error: Argument "cost_per_input_token" to "ModelId" has incompatible type "object"; expected "Decimal"  [arg-type]
contexts\ai\domain\value_objects\common.py:360: error: Argument "cost_per_output_token" to "ModelId" has incompatible type "object"; expected "Decimal"  [arg-type]
contexts\ai\domain\value_objects\common.py:425: error: Incompatible types in assignment (expression has type "None", variable has type "Decimal")  [assignment]
contexts\ai\domain\value_objects\common.py:426: error: Incompatible types in assignment (expression has type "None", variable has type "Decimal")  [assignment]
contexts\ai\domain\value_objects\common.py:431: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\ai\domain\value_objects\common.py:437: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:440: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:443: error: Statement is unreachable  [unreachable]
contexts\ai\domain\value_objects\common.py:484: error: Incompatible default for argument "cost_limit" (default has type "None", argument has type "Decimal")  [assignment]
contexts\ai\domain\value_objects\common.py:484: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\ai\domain\value_objects\common.py:484: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\subjective\domain\aggregates\turn_brief.py:233: error: Incompatible types in assignment (expression has type "AttentionFocusChanged", variable has type "AlertnessChanged")  [assignment]
contexts\subjective\domain\aggregates\turn_brief.py:339: error: Incompatible types in assignment (expression has type "KnowledgeRevealed", variable has type "KnowledgeUpdated")  [assignment]
contexts\narratives\domain\services\causal_graph_service.py:250: error: Need type annotation for "paths" (hint: "paths: List[<type>] = ...")  [var-annotated]
contexts\interactions\domain\services\negotiation_service.py:85: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:85: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:103: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:113: error: Unsupported target for indexed assignment ("object")  [index]
contexts\interactions\domain\services\negotiation_service.py:130: error: Argument 3 to "_generate_optimization_suggestions" of "NegotiationService" has incompatible type "object"; expected "dict[str, any?]"  [arg-type]
contexts\interactions\domain\services\negotiation_service.py:148: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:148: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:182: error: Argument 2 to "_recommend_phase_sequence" of "NegotiationService" has incompatible type "Collection[str]"; expected "str"  [arg-type]
contexts\interactions\domain\services\negotiation_service.py:202: error: Argument 2 to "_recommend_timeline" of "NegotiationService" has incompatible type "Collection[str]"; expected "str"  [arg-type]
contexts\interactions\domain\services\negotiation_service.py:207: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
contexts\interactions\domain\services\negotiation_service.py:217: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:217: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:251: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:251: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:252: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:252: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:292: error: Argument 1 to "_predict_negotiation_trajectory" of "NegotiationService" has incompatible type "object"; expected "Decimal"  [arg-type]
contexts\interactions\domain\services\negotiation_service.py:292: error: Argument 2 to "_predict_negotiation_trajectory" of "NegotiationService" has incompatible type "object"; expected "str"  [arg-type]
contexts\interactions\domain\services\negotiation_service.py:311: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:311: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:343: error: Unsupported target for indexed assignment ("object")  [index]
contexts\interactions\domain\services\negotiation_service.py:527: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:527: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:540: error: Unsupported operand types for + ("object" and "Decimal")  [operator]
contexts\interactions\domain\services\negotiation_service.py:545: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:549: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:551: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:556: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:560: error: No overload variant of "min" matches argument types "Decimal", "object"  [call-overload]
contexts\interactions\domain\services\negotiation_service.py:560: note: Possible overload variants:
contexts\interactions\domain\services\negotiation_service.py:560: note:     def [SupportsRichComparisonT] min(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
contexts\interactions\domain\services\negotiation_service.py:560: note:     def [_T] min(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
contexts\interactions\domain\services\negotiation_service.py:560: note:     def [SupportsRichComparisonT] min(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
contexts\interactions\domain\services\negotiation_service.py:560: note:     def [_T] min(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
contexts\interactions\domain\services\negotiation_service.py:560: note:     def [SupportsRichComparisonT, _T] min(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
contexts\interactions\domain\services\negotiation_service.py:560: note:     def [_T1, _T2] min(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
contexts\interactions\domain\services\negotiation_service.py:611: error: Unsupported operand types for * ("float" and "Decimal")  [operator]
contexts\interactions\domain\services\negotiation_service.py:611: note: Left operand is of type "Decimal | float"
contexts\interactions\domain\services\negotiation_service.py:615: error: Unsupported operand types for * ("float" and "Decimal")  [operator]
contexts\interactions\domain\services\negotiation_service.py:615: note: Left operand is of type "Decimal | float"
contexts\interactions\domain\services\negotiation_service.py:619: error: Incompatible return value type (got "Decimal | float", expected "Decimal")  [return-value]
contexts\interactions\domain\services\negotiation_service.py:648: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:648: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:654: error: Need type annotation for "common_concerns" (hint: "common_concerns: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\interactions\domain\services\negotiation_service.py:656: error: any? has no attribute "get"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:709: error: "type[ProposalTerms]" has no attribute "ProposalType"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:710: error: "type[ProposalTerms]" has no attribute "ProposalType"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:724: error: Need type annotation for "style_counts" (hint: "style_counts: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\interactions\domain\services\negotiation_service.py:733: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:733: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:749: error: Unsupported target for indexed assignment ("object")  [index]
contexts\interactions\domain\services\negotiation_service.py:768: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:768: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:807: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:807: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:863: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:863: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:899: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:899: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:920: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:921: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:923: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:924: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:928: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:936: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:937: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:943: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:943: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:971: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:971: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1011: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:1011: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1016: error: Need type annotation for "proposal_responses" (hint: "proposal_responses: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\interactions\domain\services\negotiation_service.py:1054: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:1054: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1097: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:1097: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1286: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:1286: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1310: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:1310: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1322: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:1329: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:1338: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:1338: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1344: error: any? has no attribute "__iter__" (not iterable)  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:1375: error: Incompatible return value type (got "float", expected "Decimal")  [return-value]
contexts\interactions\domain\services\negotiation_service.py:1381: error: Function "builtins.any" is not valid as a type  [valid-type]
contexts\interactions\domain\services\negotiation_service.py:1381: note: Perhaps you meant "typing.Any" instead of "any"?
contexts\interactions\domain\services\negotiation_service.py:1387: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\services\negotiation_service.py:1390: error: "Sequence[str]" has no attribute "append"  [attr-defined]
contexts\interactions\domain\aggregates\negotiation_session.py:102: error: Missing positional arguments "occurred_at", "event_id" in call to "NegotiationSessionCreated"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:183: error: Missing positional arguments "occurred_at", "event_id" in call to "PartyJoinedNegotiation"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:224: error: Missing positional arguments "occurred_at", "event_id" in call to "PartyLeftNegotiation"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:275: error: Missing positional arguments "occurred_at", "event_id" in call to "ProposalSubmitted"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:319: error: Missing positional arguments "occurred_at", "event_id" in call to "ProposalResponseReceived"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:383: error: Missing positional arguments "occurred_at", "event_id" in call to "NegotiationCompleted"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:394: error: Missing positional arguments "occurred_at", "event_id" in call to "NegotiationTerminated"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:482: error: Missing positional arguments "occurred_at", "event_id" in call to "SessionTimeoutWarning"  [call-arg]
contexts\interactions\domain\aggregates\negotiation_session.py:514: error: Missing positional arguments "occurred_at", "event_id" in call to "NegotiationPhaseAdvanced"  [call-arg]
contexts\interactions\application\commands\interaction_commands.py:580: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\interactions\application\commands\interaction_commands.py:589: error: Statement is unreachable  [unreachable]
src\world_state_coordinator.py:51: error: Need type annotation for "world_state_tracker"  [var-annotated]
src\world_state_coordinator.py:295: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "list[str]")  [assignment]
src\world_state_coordinator.py:317: error: "Collection[Any]" has no attribute "get"  [attr-defined]
src\world_state_coordinator.py:345: error: "Collection[Any]" has no attribute "items"  [attr-defined]
src\world_state_coordinator.py:406: error: Unsupported target for indexed assignment ("Collection[Any]")  [index]
src\world_state_coordinator.py:407: error: Value of type "Collection[Any]" is not indexable  [index]
src\world_state_coordinator.py:412: error: Unsupported target for indexed assignment ("Collection[Any]")  [index]
src\world_state_coordinator.py:415: error: Value of type "Collection[Any]" is not indexable  [index]
src\world_state_coordinator.py:417: error: Value of type "Collection[Any]" is not indexable  [index]
src\world_state_coordinator.py:420: error: Value of type "Collection[Any]" is not indexable  [index]
src\world_state_coordinator.py:431: error: "Collection[Any]" has no attribute "append"  [attr-defined]
src\world_state_coordinator.py:450: error: Unsupported target for indexed assignment ("Collection[Any]")  [index]
src\world_state_coordinator.py:453: error: Value of type "Collection[Any]" is not indexable  [index]
src\world_state_coordinator.py:458: error: Unsupported target for indexed assignment ("Collection[Any]")  [index]
src\world_state_coordinator.py:519: error: Generator has incompatible item type "int"; expected "bool"  [misc]
src\world_state_coordinator.py:520: error: "Collection[Any]" has no attribute "values"  [attr-defined]
contexts\subjective\domain\services\fog_of_war_service.py:312: error: Incompatible types in assignment (expression has type "Literal[VisibilityLevel.INVISIBLE]", target has type "Literal[VisibilityLevel.CLEAR, VisibilityLevel.HIDDEN, VisibilityLevel.OBSCURED, VisibilityLevel.PARTIAL]")  [assignment]
contexts\subjective\domain\services\fog_of_war_service.py:318: error: Incompatible return value type (got "tuple[list[str], list[str], dict[str, Literal[VisibilityLevel.CLEAR, VisibilityLevel.HIDDEN, VisibilityLevel.OBSCURED, VisibilityLevel.PARTIAL]]]", expected "tuple[list[str], list[str], dict[str, VisibilityLevel]]")  [return-value]
contexts\subjective\domain\services\fog_of_war_service.py:535: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
contexts\subjective\domain\services\fog_of_war_service.py:539: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
contexts\orchestration\domain\entities\turn.py:50: error: Non-overlapping container check (element type: "TurnState", container item type: "str")  [comparison-overlap]
contexts\orchestration\domain\entities\turn.py:54: error: Non-overlapping container check (element type: "TurnState", container item type: "str")  [comparison-overlap]
contexts\orchestration\domain\entities\turn.py:67: error: No overload variant of "get" of "dict" matches argument types "TurnState", "set[Never]"  [call-overload]
contexts\orchestration\domain\entities\turn.py:67: note: Possible overload variants:
contexts\orchestration\domain\entities\turn.py:67: note:     def get(self, str, /) -> object
contexts\orchestration\domain\entities\turn.py:67: note:     def get(self, str, object, /) -> object
contexts\orchestration\domain\entities\turn.py:67: note:     def [_T] get(self, str, _T, /) -> object
contexts\orchestration\domain\entities\turn.py:210: error: Dict entry 3 has incompatible type "str": "list[Never]"; expected "str": "dict[str, Any]"  [dict-item]
contexts\orchestration\domain\entities\turn.py:290: error: Incompatible default for argument "events_generated" (default has type "None", argument has type "list[UUID]")  [assignment]
contexts\orchestration\domain\entities\turn.py:290: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\entities\turn.py:290: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\entities\turn.py:291: error: Incompatible default for argument "artifacts_created" (default has type "None", argument has type "list[str]")  [assignment]
contexts\orchestration\domain\entities\turn.py:291: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\entities\turn.py:291: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\entities\turn.py:570: error: Item "None" of "timedelta | None" has no attribute "total_seconds"  [union-attr]
contexts\orchestration\domain\entities\turn.py:647: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
contexts\orchestration\domain\entities\turn.py:647: note: Possible overload variants:
contexts\orchestration\domain\entities\turn.py:647: note:     def __sub__(self, timedelta, /) -> datetime
contexts\orchestration\domain\entities\turn.py:647: note:     def __sub__(self, datetime, /) -> timedelta
contexts\orchestration\domain\entities\turn.py:647: note: Right operand is of type "datetime | None"
contexts\orchestration\domain\entities\turn.py:848: error: No overload variant of "__sub__" of "datetime" matches argument type "None"  [operator]
contexts\orchestration\domain\entities\turn.py:848: note: Possible overload variants:
contexts\orchestration\domain\entities\turn.py:848: note:     def __sub__(self, timedelta, /) -> datetime
contexts\orchestration\domain\entities\turn.py:848: note:     def __sub__(self, datetime, /) -> timedelta
contexts\orchestration\domain\entities\turn.py:848: error: Unsupported left operand type for - ("None")  [operator]
contexts\orchestration\domain\entities\turn.py:848: note: Both left and right operands are unions
contexts\narratives\domain\services\narrative_flow_service.py:356: error: Argument 1 to "any" has incompatible type "bool"; expected "Iterable[object]"  [arg-type]
contexts\narratives\domain\services\narrative_flow_service.py:443: error: Need type annotation for "character_appearances"  [var-annotated]
contexts\narratives\domain\entities\narrative_thread.py:109: error: Incompatible default for argument "affected_elements" (default has type "None", argument has type "list[str]")  [assignment]
contexts\narratives\domain\entities\narrative_thread.py:109: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\narratives\domain\entities\narrative_thread.py:109: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\interactions\application\queries\interaction_query_handlers.py:107: error: "object" has no attribute "append"  [attr-defined]
contexts\interactions\application\queries\interaction_query_handlers.py:128: error: Value of type "object" is not indexable  [index]
contexts\interactions\application\queries\interaction_query_handlers.py:137: error: Value of type "object" is not indexable  [index]
contexts\interactions\application\queries\interaction_query_handlers.py:147: error: Value of type "object" is not indexable  [index]
contexts\interactions\application\queries\interaction_query_handlers.py:175: error: Incompatible types in assignment (expression has type "str", target has type "UUID")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:178: error: Incompatible types in assignment (expression has type "str", target has type "UUID")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:181: error: Incompatible types in assignment (expression has type "str", target has type "UUID")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:184: error: Incompatible types in assignment (expression has type "datetime", target has type "UUID")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:187: error: Incompatible types in assignment (expression has type "datetime", target has type "UUID")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:378: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
contexts\interactions\application\queries\interaction_query_handlers.py:378: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
contexts\interactions\application\queries\interaction_query_handlers.py:454: error: Item "type" of "NegotiationParty | type" has no attribute "party_name"  [union-attr]
contexts\interactions\application\queries\interaction_query_handlers.py:475: error: Unsupported operand types for <= ("datetime" and "object")  [operator]
contexts\interactions\application\queries\interaction_query_handlers.py:480: error: Unsupported operand types for >= ("datetime" and "object")  [operator]
contexts\interactions\application\queries\interaction_query_handlers.py:490: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
contexts\interactions\application\queries\interaction_query_handlers.py:490: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
contexts\interactions\application\queries\interaction_query_handlers.py:494: error: Need type annotation for "grouped_events" (hint: "grouped_events: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\interactions\application\queries\interaction_query_handlers.py:558: error: Incompatible types in assignment (expression has type "list[dict[str, object]]", target has type "bool | str")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:568: error: Incompatible types in assignment (expression has type "int", target has type "bool | str")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:569: error: Incompatible types in assignment (expression has type "float", target has type "bool | str")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:572: error: Incompatible types in assignment (expression has type "dict[str, float | str | str | str | str | str | str | str | str | int | None]", target has type "bool | str")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:586: error: Incompatible types in assignment (expression has type "dict[str, float | datetime | None]", target has type "bool | str")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:696: error: Generator has incompatible item type "object"; expected "bool"  [misc]
contexts\interactions\application\queries\interaction_query_handlers.py:698: error: Unsupported target for indexed assignment ("object")  [index]
contexts\interactions\application\queries\interaction_query_handlers.py:709: error: Unsupported operand types for > ("int" and "object")  [operator]
contexts\interactions\application\queries\interaction_query_handlers.py:719: error: Unsupported operand types for < ("int" and "object")  [operator]
contexts\interactions\application\queries\interaction_query_handlers.py:756: error: Need type annotation for "proposals_to_include" (hint: "proposals_to_include: List[<type>] = ...")  [var-annotated]
contexts\interactions\application\queries\interaction_query_handlers.py:793: error: Incompatible types in assignment (expression has type "list[dict[str, bool | str | str | str | str | str]]", target has type "int | datetime | str | None")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:823: error: Incompatible types in assignment (expression has type "list[dict[str, datetime | float | str]]", target has type "int | datetime | str | None")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:835: error: Incompatible types in assignment (expression has type "dict[str, float]", target has type "int | datetime | str | None")  [assignment]
contexts\interactions\application\queries\interaction_query_handlers.py:939: error: any? has no attribute "values"  [attr-defined]
contexts\interactions\application\queries\interaction_query_handlers.py:958: error: Need type annotation for "response_types" (hint: "response_types: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\interactions\application\queries\interaction_query_handlers.py:998: error: any? has no attribute "get"  [attr-defined]
contexts\interactions\application\commands\interaction_command_handlers.py:606: error: Need type annotation for "optimizations_applied" (hint: "optimizations_applied: List[<type>] = ...")  [var-annotated]
contexts\interactions\application\commands\interaction_command_handlers.py:610: error: any? has no attribute "__iter__" (not iterable)  [attr-defined]
contexts\interactions\application\commands\interaction_command_handlers.py:630: error: any? has no attribute "get"  [attr-defined]
contexts\interactions\application\commands\interaction_command_handlers.py:745: error: Item "None" of "ProposalResponse | None" has no attribute "get_acceptance_percentage"  [union-attr]
contexts\interactions\application\commands\interaction_command_handlers.py:781: error: any? has no attribute "items"  [attr-defined]
contexts\interactions\application\commands\interaction_command_handlers.py:841: error: Argument 1 to "sum" has incompatible type "list[object]"; expected "Iterable[bool]"  [arg-type]
contexts\interactions\application\commands\interaction_command_handlers.py:920: error: any? has no attribute "__iter__" (not iterable)  [attr-defined]
contexts\orchestration\domain\services\saga_coordinator.py:253: error: "object" has no attribute "append"  [attr-defined]
contexts\orchestration\domain\services\saga_coordinator.py:261: error: "object" has no attribute "extend"  [attr-defined]
contexts\orchestration\domain\services\saga_coordinator.py:270: error: "object" has no attribute "append"  [attr-defined]
contexts\orchestration\domain\services\saga_coordinator.py:339: error: Need type annotation for "actions" (hint: "actions: List[<type>] = ...")  [var-annotated]
contexts\orchestration\domain\services\saga_coordinator.py:611: error: Item "None" of "timedelta | None" has no attribute "total_seconds"  [union-attr]
contexts\orchestration\domain\services\pipeline_orchestrator.py:308: error: "Turn" has no attribute "TurnState"  [attr-defined]
contexts\orchestration\domain\services\pipeline_orchestrator.py:415: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\services\performance_tracker.py:232: error: Item "None" of "timedelta | None" has no attribute "total_seconds"  [union-attr]
contexts\orchestration\domain\services\performance_tracker.py:232: error: List comprehension has incompatible type List[float | Any]; expected List[bool]  [misc]
contexts\orchestration\domain\services\performance_tracker.py:443: error: Item "None" of "timedelta | None" has no attribute "total_seconds"  [union-attr]
contexts\orchestration\domain\services\performance_tracker.py:754: error: Need type annotation for "recommendations" (hint: "recommendations: List[<type>] = ...")  [var-annotated]
contexts\interactions\application\services\interaction_application_service.py:738: error: Need type annotation for "suggestion_counts" (hint: "suggestion_counts: Dict[<type>, <type>] = ...")  [var-annotated]
src\decision_engine.py:26: error: Cannot assign to a type  [misc]
src\decision_engine.py:26: error: Incompatible types in assignment (expression has type "type[dict[Any, Any]]", variable has type "type[CharacterAction]")  [assignment]
src\decision_engine.py:28: error: Name "ActionPriority" already defined (possibly by an import)  [no-redef]
src\decision_engine.py:535: error: Non-overlapping identity check (left operand type: "type[CharacterAction]", right operand type: "type[dict[Any, Any]]")  [comparison-overlap]
src\decision_engine.py:538: error: Incompatible return value type (got "dict[str, Any]", expected "CharacterAction | None")  [return-value]
src\decision_engine.py:677: error: "CharacterAction" has no attribute "get"  [attr-defined]
src\decision_engine.py:680: error: "CharacterAction" has no attribute "get"  [attr-defined]
src\decision_engine.py:709: error: Need type annotation for "action_types" (hint: "action_types: Dict[<type>, <type>] = ...")  [var-annotated]
src\decision_engine.py:710: error: Need type annotation for "decision_types" (hint: "decision_types: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\orchestration\infrastructure\monitoring\prometheus_collector.py:527: error: Incompatible return value type (got "bytes", expected "str")  [return-value]
src\infrastructure\redis_manager.py:251: error: Item "None" of "Any | None" has no attribute "config_set"  [union-attr]
src\infrastructure\redis_manager.py:267: error: Statement is unreachable  [unreachable]
src\infrastructure\redis_manager.py:271: error: Item "None" of "Any | None" has no attribute "ping"  [union-attr]
src\infrastructure\redis_manager.py:275: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\redis_manager.py:276: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\redis_manager.py:277: error: Value of type "object" is not indexable  [index]
src\infrastructure\redis_manager.py:282: error: No overload variant of "sum" matches argument type "object"  [call-overload]
src\infrastructure\redis_manager.py:282: note: Possible overload variants:
src\infrastructure\redis_manager.py:282: note:     def sum(Iterable[bool], /, start: int = ...) -> int
src\infrastructure\redis_manager.py:282: note:     def [_SupportsSumNoDefaultT <: _SupportsSumWithNoDefaultGiven] sum(Iterable[_SupportsSumNoDefaultT], /) -> _SupportsSumNoDefaultT | Literal[0]
src\infrastructure\redis_manager.py:282: note:     def [_AddableT1 <: SupportsAdd[Any, Any], _AddableT2 <: SupportsAdd[Any, Any]] sum(Iterable[_AddableT1], /, start: _AddableT2) -> _AddableT1 | _AddableT2
src\infrastructure\redis_manager.py:284: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\redis_manager.py:348: error: Item "None" of "Any | None" has no attribute "setex"  [union-attr]
src\infrastructure\redis_manager.py:350: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:352: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\redis_manager.py:357: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:371: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
src\infrastructure\redis_manager.py:373: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:375: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\redis_manager.py:378: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:381: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:385: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:395: error: Item "None" of "Any | None" has no attribute "delete"  [union-attr]
src\infrastructure\redis_manager.py:396: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:400: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:410: error: Item "None" of "Any | None" has no attribute "exists"  [union-attr]
src\infrastructure\redis_manager.py:411: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:415: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:425: error: Item "None" of "Any | None" has no attribute "expire"  [union-attr]
src\infrastructure\redis_manager.py:426: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:430: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:445: error: Item "None" of "Any | None" has no attribute "hset"  [union-attr]
src\infrastructure\redis_manager.py:448: error: Item "None" of "Any | None" has no attribute "expire"  [union-attr]
src\infrastructure\redis_manager.py:450: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:454: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:465: error: Item "None" of "Any | None" has no attribute "hget"  [union-attr]
src\infrastructure\redis_manager.py:466: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:473: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:484: error: Item "None" of "Any | None" has no attribute "hgetall"  [union-attr]
src\infrastructure\redis_manager.py:485: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:493: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:507: error: Item "None" of "Any | None" has no attribute "lpush"  [union-attr]
src\infrastructure\redis_manager.py:510: error: Item "None" of "Any | None" has no attribute "expire"  [union-attr]
src\infrastructure\redis_manager.py:512: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:516: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:527: error: Item "None" of "Any | None" has no attribute "lrange"  [union-attr]
src\infrastructure\redis_manager.py:528: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:533: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:547: error: Item "None" of "Any | None" has no attribute "sadd"  [union-attr]
src\infrastructure\redis_manager.py:550: error: Item "None" of "Any | None" has no attribute "expire"  [union-attr]
src\infrastructure\redis_manager.py:552: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:556: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:566: error: Item "None" of "Any | None" has no attribute "smembers"  [union-attr]
src\infrastructure\redis_manager.py:567: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:572: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\redis_manager.py:611: error: Item "None" of "Any | None" has no attribute "pipeline"  [union-attr]
src\infrastructure\redis_manager.py:658: error: Item "None" of "Any | None" has no attribute "ltrim"  [union-attr]
src\infrastructure\redis_manager.py:694: error: Unsupported left operand type for + ("object")  [operator]
src\infrastructure\redis_manager.py:695: error: Unsupported left operand type for + ("object")  [operator]
src\infrastructure\redis_manager.py:706: error: No overload variant of "max" matches argument type "object"  [call-overload]
src\infrastructure\redis_manager.py:706: note: Possible overload variants:
src\infrastructure\redis_manager.py:706: note:     def [SupportsRichComparisonT] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\redis_manager.py:706: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\redis_manager.py:706: note:     def [SupportsRichComparisonT] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\redis_manager.py:706: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\redis_manager.py:706: note:     def [SupportsRichComparisonT, _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
src\infrastructure\redis_manager.py:706: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
src\infrastructure\redis_manager.py:736: error: Item "None" of "Any | None" has no attribute "ping"  [union-attr]
src\infrastructure\redis_manager.py:738: error: Item "None" of "Any | None" has no attribute "info"  [union-attr]
src\infrastructure\postgresql_manager.py:148: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\postgresql_manager.py:235: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\postgresql_manager.py:260: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\postgresql_manager.py:262: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\postgresql_manager.py:265: error: Unsupported operand types for - ("object" and "int")  [operator]
src\infrastructure\postgresql_manager.py:284: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\postgresql_manager.py:285: error: "object" has no attribute "append"  [attr-defined]
src\infrastructure\postgresql_manager.py:289: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\postgresql_manager.py:296: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\postgresql_manager.py:297: error: Value of type "object" is not indexable  [index]
src\infrastructure\postgresql_manager.py:302: error: Unsupported operand types for + ("object" and "int")  [operator]
src\infrastructure\postgresql_manager.py:442: error: Argument 1 to "append" of "list" has incompatible type "list[str]"; expected "str"  [arg-type]
src\infrastructure\postgresql_manager.py:457: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
src\infrastructure\postgresql_manager.py:553: error: No overload variant of "sum" matches argument type "object"  [call-overload]
src\infrastructure\postgresql_manager.py:553: note: Possible overload variants:
src\infrastructure\postgresql_manager.py:553: note:     def sum(Iterable[bool], /, start: int = ...) -> int
src\infrastructure\postgresql_manager.py:553: note:     def [_SupportsSumNoDefaultT <: _SupportsSumWithNoDefaultGiven] sum(Iterable[_SupportsSumNoDefaultT], /) -> _SupportsSumNoDefaultT | Literal[0]
src\infrastructure\postgresql_manager.py:553: note:     def [_AddableT1 <: SupportsAdd[Any, Any], _AddableT2 <: SupportsAdd[Any, Any]] sum(Iterable[_AddableT1], /, start: _AddableT2) -> _AddableT1 | _AddableT2
src\infrastructure\postgresql_manager.py:553: error: Argument 1 to "len" has incompatible type "object"; expected "Sized"  [arg-type]
src\infrastructure\postgresql_manager.py:555: error: No overload variant of "max" matches argument type "object"  [call-overload]
src\infrastructure\postgresql_manager.py:555: note: Possible overload variants:
src\infrastructure\postgresql_manager.py:555: note:     def [SupportsRichComparisonT] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\postgresql_manager.py:555: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\postgresql_manager.py:555: note:     def [SupportsRichComparisonT] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
src\infrastructure\postgresql_manager.py:555: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
src\infrastructure\postgresql_manager.py:555: note:     def [SupportsRichComparisonT, _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
src\infrastructure\postgresql_manager.py:555: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
src\llm_service.py:732: error: Cannot assign to a method  [method-assign]
src\events\event_bus.py:268: error: Right operand of "and" is never evaluated  [unreachable]
src\events\event_bus.py:270: error: Statement is unreachable  [unreachable]
src\events\event_bus.py:284: error: Incompatible types in assignment (expression has type "float", variable has type "None")  [assignment]
contexts\orchestration\run_validation.py:82: error: "object" has no attribute "append"  [attr-defined]
contexts\orchestration\run_validation.py:83: error: Unsupported left operand type for + ("object")  [operator]
contexts\orchestration\run_validation.py:84: error: Unsupported left operand type for + ("object")  [operator]
contexts\orchestration\run_validation.py:85: error: Unsupported left operand type for + ("object")  [operator]
contexts\orchestration\run_validation.py:94: error: "object" has no attribute "append"  [attr-defined]
contexts\orchestration\run_validation.py:103: error: Unsupported operand types for + ("object" and "int")  [operator]
contexts\ai\infrastructure\policies\rate_limiting.py:148: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
contexts\ai\domain\services\llm_provider.py:114: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\ai\domain\services\llm_provider.py:120: error: Incompatible types in assignment (expression has type "None", variable has type "list[str]")  [assignment]
contexts\ai\domain\services\llm_provider.py:124: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\ai\domain\services\llm_provider.py:130: error: Statement is unreachable  [unreachable]
contexts\ai\domain\services\llm_provider.py:133: error: Statement is unreachable  [unreachable]
contexts\ai\domain\services\llm_provider.py:136: error: Statement is unreachable  [unreachable]
contexts\ai\domain\services\llm_provider.py:317: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, int]")  [assignment]
contexts\ai\domain\services\llm_provider.py:318: error: Incompatible types in assignment (expression has type "None", variable has type "Decimal")  [assignment]
contexts\ai\domain\services\llm_provider.py:319: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\ai\domain\services\llm_provider.py:321: error: Incompatible types in assignment (expression has type "None", variable has type "dict[str, Any]")  [assignment]
contexts\ai\domain\services\llm_provider.py:327: error: Statement is unreachable  [unreachable]
contexts\ai\domain\services\llm_provider.py:334: error: Statement is unreachable  [unreachable]
contexts\ai\domain\services\llm_provider.py:337: error: Statement is unreachable  [unreachable]
contexts\ai\domain\services\llm_provider.py:340: error: Statement is unreachable  [unreachable]
contexts\ai\domain\services\llm_provider.py:742: error: Dict entry 2 has incompatible type "str": "str"; expected "str": "Decimal"  [dict-item]
src\infrastructure\enterprise_storage_manager.py:234: error: Statement is unreachable  [unreachable]
src\infrastructure\enterprise_storage_manager.py:240: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:244: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:251: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:253: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:260: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:262: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:292: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:292: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:293: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:294: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:297: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:298: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:299: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:299: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:303: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:304: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:305: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:306: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:358: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:358: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:412: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:412: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:472: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:472: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:510: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:510: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:534: error: Argument "ttl" to "store_session" of "RedisConnectionPool" has incompatible type "int | None"; expected "int"  [arg-type]
src\infrastructure\enterprise_storage_manager.py:546: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:546: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:572: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:572: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:618: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:618: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:654: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:654: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:693: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:693: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:719: error: Value of type "object" is not indexable  [index]
src\infrastructure\enterprise_storage_manager.py:719: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:748: error: Incompatible types in assignment (expression has type "bool", target has type "Collection[str]")  [assignment]
src\infrastructure\enterprise_storage_manager.py:754: error: "Collection[str]" has no attribute "append"  [attr-defined]
src\infrastructure\enterprise_storage_manager.py:755: error: Incompatible types in assignment (expression has type "bool", target has type "Collection[str]")  [assignment]
src\infrastructure\enterprise_storage_manager.py:774: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:778: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:788: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:792: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:799: error: Unsupported target for indexed assignment ("object")  [index]
src\infrastructure\enterprise_storage_manager.py:803: error: Unsupported target for indexed assignment ("object")  [index]
src\persona_agent_core.py:26: error: Name "EventBus" already defined (possibly by an import)  [no-redef]
src\core\emergent_narrative.py:226: error: Need type annotation for "patterns"  [var-annotated]
src\core\emergent_narrative.py:307: error: Argument "key" to "sort" of "list" has incompatible type "Callable[[dict[str, object]], object]"; expected "Callable[[dict[str, object]], SupportsDunderLT[Any] | SupportsDunderGT[Any]]"  [arg-type]
src\core\emergent_narrative.py:307: error: Incompatible return value type (got "object", expected "SupportsDunderLT[Any] | SupportsDunderGT[Any]")  [return-value]
src\core\emergent_narrative.py:370: error: Incompatible default for argument "negotiation_style" (default has type "None", argument has type "dict[str, float]")  [assignment]
src\core\emergent_narrative.py:370: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:370: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:371: error: Incompatible default for argument "priorities" (default has type "None", argument has type "list[str]")  [assignment]
src\core\emergent_narrative.py:371: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:371: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:375: error: Statement is unreachable  [unreachable]
src\core\emergent_narrative.py:446: error: Incompatible default for argument "response_content" (default has type "None", argument has type "dict[str, Any]")  [assignment]
src\core\emergent_narrative.py:446: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:446: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:530: error: "type[ResponseFormat]" has no attribute "JSON"  [attr-defined]
src\core\emergent_narrative.py:534: error: Item "UnifiedLLMService" of "Any | UnifiedLLMService" has no attribute "process_request"  [union-attr]
src\core\emergent_narrative.py:631: error: Argument 1 to "_evaluate_proposal_viability" of "AgentNegotiationEngine" has incompatible type "dict[str, Any] | None"; expected "dict[str, Any]"  [arg-type]
src\core\emergent_narrative.py:639: error: Item "None" of "dict[str, Any] | None" has no attribute "get"  [union-attr]
src\core\emergent_narrative.py:642: error: Argument "content" to "NegotiationProposal" has incompatible type "dict[str, Any] | None"; expected "dict[str, Any]"  [arg-type]
src\core\emergent_narrative.py:723: error: "type[ResponseFormat]" has no attribute "JSON"  [attr-defined]
src\core\emergent_narrative.py:727: error: Item "UnifiedLLMService" of "Any | UnifiedLLMService" has no attribute "process_request"  [union-attr]
src\core\emergent_narrative.py:833: error: Incompatible default for argument "context_events" (default has type "None", argument has type "list[CausalNode]")  [assignment]
src\core\emergent_narrative.py:833: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:833: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:839: error: Statement is unreachable  [unreachable]
src\core\emergent_narrative.py:1037: error: "type[ResponseFormat]" has no attribute "JSON"  [attr-defined]
src\core\emergent_narrative.py:1041: error: Item "UnifiedLLMService" of "Any | UnifiedLLMService" has no attribute "process_request"  [union-attr]
src\core\emergent_narrative.py:1237: error: "type[ResponseFormat]" has no attribute "TEXT"  [attr-defined]
src\core\emergent_narrative.py:1241: error: Item "UnifiedLLMService" of "Any | UnifiedLLMService" has no attribute "process_request"  [union-attr]
src\core\emergent_narrative.py:1303: error: "Sequence[str]" has no attribute "append"  [attr-defined]
src\core\emergent_narrative.py:1305: error: "Sequence[str]" has no attribute "append"  [attr-defined]
src\core\emergent_narrative.py:1307: error: "Sequence[str]" has no attribute "append"  [attr-defined]
src\core\emergent_narrative.py:1309: error: "Sequence[str]" has no attribute "append"  [attr-defined]
src\core\emergent_narrative.py:1315: error: "Sequence[str]" has no attribute "append"  [attr-defined]
src\core\emergent_narrative.py:1327: error: Incompatible default for argument "start_time" (default has type "None", argument has type "datetime")  [assignment]
src\core\emergent_narrative.py:1327: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:1327: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:1328: error: Incompatible default for argument "end_time" (default has type "None", argument has type "datetime")  [assignment]
src\core\emergent_narrative.py:1328: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:1328: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:1329: error: Incompatible default for argument "agent_filter" (default has type "None", argument has type "list[str]")  [assignment]
src\core\emergent_narrative.py:1329: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:1329: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:1476: error: Incompatible default for argument "negotiation_style" (default has type "None", argument has type "dict[str, float]")  [assignment]
src\core\emergent_narrative.py:1476: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:1476: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:1477: error: Incompatible default for argument "priorities" (default has type "None", argument has type "list[str]")  [assignment]
src\core\emergent_narrative.py:1477: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:1477: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:1500: error: Incompatible default for argument "location" (default has type "None", argument has type "str")  [assignment]
src\core\emergent_narrative.py:1500: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:1500: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:1501: error: Incompatible default for argument "participants" (default has type "None", argument has type "list[str]")  [assignment]
src\core\emergent_narrative.py:1501: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:1501: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:1614: error: Unsupported operand types for + ("list[str | None]" and "list[str]")  [operator]
src\core\emergent_narrative.py:1616: error: Unsupported operand types for + ("list[str | None]" and "list[str]")  [operator]
src\core\emergent_narrative.py:1758: error: Unsupported operand types for < ("float" and "object")  [operator]
src\core\emergent_narrative.py:1762: error: Invalid index type "object" for "dict[str, CausalNode]"; expected type "str"  [index]
src\core\emergent_narrative.py:1767: error: Argument "initiator_id" to "initiate_negotiation" of "AgentNegotiationEngine" has incompatible type "str | None"; expected "str"  [arg-type]
src\core\emergent_narrative.py:1768: error: List item 0 has incompatible type "str | None"; expected "str"  [list-item]
src\core\emergent_narrative.py:1910: error: "object" has no attribute "add"  [attr-defined]
src\core\emergent_narrative.py:1912: error: "object" has no attribute "add"  [attr-defined]
src\core\emergent_narrative.py:1921: error: No overload variant of "list" matches argument type "object"  [call-overload]
src\core\emergent_narrative.py:1921: note: Possible overload variants:
src\core\emergent_narrative.py:1921: note:     def [_T] list(self) -> list[_T]
src\core\emergent_narrative.py:1921: note:     def [_T] list(self, Iterable[_T], /) -> list[_T]
src\core\emergent_narrative.py:1923: error: No overload variant of "list" matches argument type "object"  [call-overload]
src\core\emergent_narrative.py:1923: note: Possible overload variants:
src\core\emergent_narrative.py:1923: note:     def [_T] list(self) -> list[_T]
src\core\emergent_narrative.py:1923: note:     def [_T] list(self, Iterable[_T], /) -> list[_T]
src\core\emergent_narrative.py:2027: error: "type[ResponseFormat]" has no attribute "JSON"  [attr-defined]
src\core\emergent_narrative.py:2031: error: Item "UnifiedLLMService" of "Any | UnifiedLLMService" has no attribute "process_request"  [union-attr]
src\core\emergent_narrative.py:2045: error: Incompatible default for argument "time_range" (default has type "None", argument has type "tuple[datetime, datetime]")  [assignment]
src\core\emergent_narrative.py:2045: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:2045: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:2046: error: Incompatible default for argument "agent_focus" (default has type "None", argument has type "list[str]")  [assignment]
src\core\emergent_narrative.py:2046: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\core\emergent_narrative.py:2046: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\core\emergent_narrative.py:2117: error: "type[ResponseFormat]" has no attribute "TEXT"  [attr-defined]
src\core\emergent_narrative.py:2121: error: Item "UnifiedLLMService" of "Any | UnifiedLLMService" has no attribute "process_request"  [union-attr]
src\events\event_processor.py:68: error: "EventHandler" not callable  [operator]
contexts\world\domain\events\world_events.py:132: error: Statement is unreachable  [unreachable]
contexts\world\domain\events\world_events.py:135: error: Statement is unreachable  [unreachable]
contexts\orchestration\infrastructure\pipeline_phases\world_update_phase.py:500: error: Incompatible types in assignment (expression has type "list[Any]", target has type "bool")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\world_update_phase.py:517: error: Incompatible types in assignment (expression has type "dict[Any, Any]", target has type "bool")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\narrative_integration_phase.py:631: error: Need type annotation for "event_categories"  [var-annotated]
contexts\orchestration\infrastructure\pipeline_phases\interaction_orchestration_phase.py:605: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
contexts\orchestration\infrastructure\pipeline_phases\interaction_orchestration_phase.py:644: error: Item "None" of "Any | None" has no attribute "get"  [union-attr]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:466: error: Need type annotation for "event_groups" (hint: "event_groups: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:702: error: Incompatible types in assignment (expression has type "Any | None", target has type "str")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:710: error: Incompatible types in assignment (expression has type "Any | int", target has type "str")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:710: error: Unsupported operand types for + ("str" and "int")  [operator]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:710: note: Left operand is of type "str | int"
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:712: error: Unsupported operand types for - ("str" and "int")  [operator]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:712: note: Left operand is of type "str | int"
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:712: error: Incompatible types in assignment (expression has type "int", target has type "str")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:717: error: Incompatible types in assignment (expression has type "Any | int", target has type "str")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:717: error: Unsupported operand types for + ("str" and "int")  [operator]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:717: note: Left operand is of type "str | int"
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:723: error: Incompatible types in assignment (expression has type "Any | None", target has type "str")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:725: error: Incompatible types in assignment (expression has type "Any | int", target has type "str")  [assignment]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:725: error: Unsupported operand types for + ("str" and "int")  [operator]
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:725: note: Left operand is of type "str | int"
contexts\orchestration\infrastructure\pipeline_phases\event_integration_phase.py:754: error: Item "None" of "Any | None" has no attribute "replace"  [union-attr]
contexts\ai\infrastructure\policies\retry_fallback.py:69: error: Incompatible types in assignment (expression has type "None", variable has type "list[RetryReason]")  [assignment]
contexts\ai\infrastructure\policies\retry_fallback.py:70: error: Incompatible types in assignment (expression has type "None", variable has type "dict[RetryReason, float]")  [assignment]
contexts\ai\infrastructure\policies\retry_fallback.py:71: error: Incompatible types in assignment (expression has type "None", variable has type "dict[RetryReason, int]")  [assignment]
contexts\ai\infrastructure\policies\retry_fallback.py:76: error: Statement is unreachable  [unreachable]
contexts\ai\infrastructure\policies\retry_fallback.py:84: error: Statement is unreachable  [unreachable]
contexts\ai\infrastructure\policies\retry_fallback.py:92: error: Statement is unreachable  [unreachable]
contexts\ai\infrastructure\policies\retry_fallback.py:449: error: Argument "final_response" to "RetryResult" has incompatible type "LLMResponseStatus | None"; expected "LLMResponse | None"  [arg-type]
contexts\ai\infrastructure\policies\cost_tracking.py:207: error: Item "int" of "Decimal | Literal[0]" has no attribute "quantize"  [union-attr]
contexts\ai\infrastructure\policies\cost_tracking.py:412: error: Unsupported operand types for + ("object" and "int")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:413: error: Unsupported operand types for + ("object" and "int")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:414: error: Unsupported operand types for + ("object" and "Decimal")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:427: error: Unsupported operand types for + ("object" and "int")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:428: error: Unsupported operand types for + ("object" and "int")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:429: error: Unsupported operand types for + ("object" and "Decimal")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:438: error: Argument "total_cost" to "UsageSummary" has incompatible type "Decimal | Literal[0]"; expected "Decimal"  [arg-type]
contexts\ai\infrastructure\policies\cost_tracking.py:439: error: Argument "input_cost" to "UsageSummary" has incompatible type "Decimal | Literal[0]"; expected "Decimal"  [arg-type]
contexts\ai\infrastructure\policies\cost_tracking.py:440: error: Argument "output_cost" to "UsageSummary" has incompatible type "Decimal | Literal[0]"; expected "Decimal"  [arg-type]
contexts\ai\infrastructure\policies\cost_tracking.py:526: error: Unsupported operand types for * ("Decimal" and "float")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:526: note: Left operand is of type "Decimal | float"
contexts\ai\infrastructure\policies\cost_tracking.py:528: error: Unsupported operand types for * ("Decimal" and "float")  [operator]
contexts\ai\infrastructure\policies\cost_tracking.py:528: note: Left operand is of type "Decimal | float"
contexts\ai\infrastructure\policies\cost_tracking.py:536: error: Item "float" of "Decimal | float" has no attribute "quantize"  [union-attr]
contexts\ai\infrastructure\policies\cost_tracking.py:538: error: Item "float" of "Decimal | float" has no attribute "quantize"  [union-attr]
src\enhanced_decision_engine.py:458: error: Unsupported target for indexed assignment ("object")  [index]
src\enhanced_decision_engine.py:465: error: Unsupported target for indexed assignment ("object")  [index]
src\enhanced_decision_engine.py:475: error: Unsupported target for indexed assignment ("object")  [index]
src\enhanced_decision_engine.py:482: error: Unsupported target for indexed assignment ("object")  [index]
src\enhanced_decision_engine.py:489: error: Unsupported target for indexed assignment ("object")  [index]
contexts\world\domain\aggregates\world_state.py:617: error: Need type annotation for "entity_type_counts" (hint: "entity_type_counts: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\ai\application\services\execute_llm_service.py:155: error: Incompatible default for argument "preferred_providers" (default has type "None", argument has type "list[str]")  [assignment]
contexts\ai\application\services\execute_llm_service.py:155: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\ai\application\services\execute_llm_service.py:155: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\ai\application\services\execute_llm_service.py:156: error: Incompatible default for argument "fallback_providers" (default has type "None", argument has type "list[str]")  [assignment]
contexts\ai\application\services\execute_llm_service.py:156: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\ai\application\services\execute_llm_service.py:156: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\ai\application\services\execute_llm_service.py:341: error: Argument "error_details" to "create_error" of "LLMResponse" has incompatible type "str | None"; expected "str"  [arg-type]
contexts\ai\application\services\execute_llm_service.py:510: error: "Coroutine[Any, Any, AsyncIterator[str]]" has no attribute "__aiter__" (not async iterable)  [attr-defined]
contexts\ai\application\services\execute_llm_service.py:510: note: Maybe you forgot to use "await"?
contexts\world\application\commands\world_commands.py:329: error: Need type annotation for "entity_counts" (hint: "entity_counts: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\ai\infrastructure\providers\openai_provider.py:179: error: Return type "AsyncIterator[str]" of "generate_stream_async" incompatible with return type "Coroutine[Any, Any, AsyncIterator[str]]" in supertype "ILLMProvider"  [override]
contexts\ai\infrastructure\providers\openai_provider.py:179: note: Consider declaring "generate_stream_async" in supertype "ILLMProvider" without "async"
contexts\ai\infrastructure\providers\openai_provider.py:179: note: See https://mypy.readthedocs.io/en/stable/more_types.html#asynchronous-iterators
contexts\ai\infrastructure\providers\openai_provider.py:526: error: Unexpected keyword argument "cost_estimate" for "create_success" of "LLMResponse"  [call-arg]
contexts\ai\domain\services\llm_provider.py:372: note: "create_success" of "LLMResponse" defined here
contexts\ai\infrastructure\providers\openai_provider.py:526: error: Unexpected keyword argument "provider_response" for "create_success" of "LLMResponse"  [call-arg]
contexts\ai\domain\services\llm_provider.py:372: note: "create_success" of "LLMResponse" defined here
contexts\ai\infrastructure\providers\openai_provider.py:567: error: Unexpected keyword argument "provider_response" for "create_error" of "LLMResponse"  [call-arg]
contexts\ai\domain\services\llm_provider.py:400: note: "create_error" of "LLMResponse" defined here
contexts\ai\infrastructure\providers\ollama_provider.py:162: error: Return type "AsyncIterator[str]" of "generate_stream_async" incompatible with return type "Coroutine[Any, Any, AsyncIterator[str]]" in supertype "ILLMProvider"  [override]
contexts\ai\infrastructure\providers\ollama_provider.py:162: note: Consider declaring "generate_stream_async" in supertype "ILLMProvider" without "async"
contexts\ai\infrastructure\providers\ollama_provider.py:162: note: See https://mypy.readthedocs.io/en/stable/more_types.html#asynchronous-iterators
contexts\ai\infrastructure\providers\ollama_provider.py:449: error: Unsupported target for indexed assignment ("object")  [index]
contexts\ai\infrastructure\providers\ollama_provider.py:452: error: Unsupported target for indexed assignment ("object")  [index]
contexts\ai\infrastructure\providers\ollama_provider.py:455: error: Unsupported target for indexed assignment ("object")  [index]
contexts\ai\infrastructure\providers\ollama_provider.py:458: error: Unsupported target for indexed assignment ("object")  [index]
contexts\ai\infrastructure\providers\ollama_provider.py:538: error: Unexpected keyword argument "cost_estimate" for "create_success" of "LLMResponse"  [call-arg]
contexts\ai\domain\services\llm_provider.py:372: note: "create_success" of "LLMResponse" defined here
contexts\ai\infrastructure\providers\ollama_provider.py:538: error: Unexpected keyword argument "provider_response" for "create_success" of "LLMResponse"  [call-arg]
contexts\ai\domain\services\llm_provider.py:372: note: "create_success" of "LLMResponse" defined here
contexts\world\application\use_cases\update_world_state_uc.py:47: error: Incompatible default for argument "events_generated" (default has type "None", argument has type "list[str]")  [assignment]
contexts\world\application\use_cases\update_world_state_uc.py:47: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\world\application\use_cases\update_world_state_uc.py:47: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\world\application\use_cases\update_world_state_uc.py:49: error: Incompatible default for argument "warnings" (default has type "None", argument has type "list[str]")  [assignment]
contexts\world\application\use_cases\update_world_state_uc.py:49: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\world\application\use_cases\update_world_state_uc.py:49: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\world\application\use_cases\update_world_state_uc.py:124: error: Need type annotation for "warnings" (hint: "warnings: List[<type>] = ...")  [var-annotated]
contexts\world\application\use_cases\update_world_state_uc.py:349: error: Argument "entity_id" to "add_entity" of "WorldState" has incompatible type "str | None"; expected "str"  [arg-type]
contexts\world\application\use_cases\update_world_state_uc.py:350: error: Argument "entity_type" to "add_entity" of "WorldState" has incompatible type "EntityType | None"; expected "EntityType"  [arg-type]
contexts\world\application\use_cases\update_world_state_uc.py:351: error: Argument "name" to "add_entity" of "WorldState" has incompatible type "str | None"; expected "str"  [arg-type]
contexts\world\application\use_cases\update_world_state_uc.py:352: error: Argument "coordinates" to "add_entity" of "WorldState" has incompatible type "Coordinates | None"; expected "Coordinates"  [arg-type]
contexts\world\application\use_cases\update_world_state_uc.py:362: error: Argument "entity_id" to "remove_entity" of "WorldState" has incompatible type "str | None"; expected "str"  [arg-type]
contexts\world\application\use_cases\update_world_state_uc.py:372: error: Argument "entity_id" to "update_entity" of "WorldState" has incompatible type "str | None"; expected "str"  [arg-type]
contexts\world\application\use_cases\update_world_state_uc.py:385: error: Argument "entity_id" to "move_entity" of "WorldState" has incompatible type "str | None"; expected "str"  [arg-type]
contexts\world\application\use_cases\update_world_state_uc.py:386: error: Argument "new_coordinates" to "move_entity" of "WorldState" has incompatible type "Coordinates | None"; expected "Coordinates"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:108: error: Need type annotation for "completion_percentage"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:109: error: Need type annotation for "complexity_score"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:117: error: Need type annotation for "narrative_coherence"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:118: error: Need type annotation for "thematic_consistency"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:119: error: Need type annotation for "pacing_effectiveness"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:192: error: Need type annotation for "emotional_intensity"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:193: error: Need type annotation for "dramatic_tension"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:194: error: Need type annotation for "story_significance"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:235: error: Need type annotation for "moral_complexity"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:236: error: Need type annotation for "emotional_resonance"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:237: error: Need type annotation for "universal_appeal"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:238: error: Need type annotation for "cultural_significance"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:239: error: Need type annotation for "development_potential"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:270: error: Need type annotation for "event_density"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:272: error: Need type annotation for "dialogue_ratio"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:273: error: Need type annotation for "action_ratio"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:274: error: Need type annotation for "reflection_ratio"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:275: error: Need type annotation for "description_density"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:303: error: Need type annotation for "importance"  [var-annotated]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:611: error: Incompatible types in assignment (expression has type "Column[str]", variable has type "Column[datetime]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:716: error: Argument 2 to "_create_plot_point_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:721: error: Argument 2 to "_create_theme_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:726: error: Argument 2 to "_create_pacing_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:731: error: Argument 2 to "_create_context_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:741: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:742: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:743: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:744: error: Incompatible types in assignment (expression has type "list[str]", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:745: error: Incompatible types in assignment (expression has type "dict[str, list[int]]", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:748: error: Incompatible types in assignment (expression has type "list[str]", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:749: error: Incompatible types in assignment (expression has type "dict[str, str]", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:752: error: Incompatible types in assignment (expression has type "int | None", variable has type "Column[int]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:753: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:754: error: Incompatible types in assignment (expression has type "Decimal", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:755: error: Incompatible types in assignment (expression has type "Decimal", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:756: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:757: error: Incompatible types in assignment (expression has type "int | None", variable has type "Column[int]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:758: error: Incompatible types in assignment (expression has type "int | None", variable has type "Column[int]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:759: error: Incompatible types in assignment (expression has type "Decimal", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:760: error: Incompatible types in assignment (expression has type "Decimal", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:761: error: Incompatible types in assignment (expression has type "Decimal", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:762: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:763: error: Incompatible types in assignment (expression has type "list[str]", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:764: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:765: error: Incompatible types in assignment (expression has type "dict[str, Any]", variable has type "Column[Any]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:766: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:788: error: Argument 2 to "_create_plot_point_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:792: error: Argument 2 to "_create_theme_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:796: error: Argument 2 to "_create_pacing_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:800: error: Argument 2 to "_create_context_entity" of "NarrativeArcRepository" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:820: error: "PlotPoint" has no attribute "consequence_events"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:821: error: "PlotPoint" has no attribute "location"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:822: error: "PlotPoint" has no attribute "time_context"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:823: error: "PlotPoint" has no attribute "pov_character"; maybe "involves_character"?  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:824: error: "PlotPoint" has no attribute "outcome"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:825: error: "PlotPoint" has no attribute "conflict_type"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:827: error: "PlotPoint" has no attribute "thematic_relevance"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:830: error: "PlotPoint" has no attribute "notes"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:847: error: "NarrativeTheme" has no attribute "cultural_significance"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:848: error: "NarrativeTheme" has no attribute "development_potential"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:853: error: "NarrativeTheme" has no attribute "notes"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:872: error: "StoryPacing" has no attribute "description_density"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:873: error: "StoryPacing" has no attribute "character_focus"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:874: error: "StoryPacing" has no attribute "narrative_techniques"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:875: error: "StoryPacing" has no attribute "reader_engagement_target"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:876: error: "StoryPacing" has no attribute "tags"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:877: error: "StoryPacing" has no attribute "notes"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:890: error: "NarrativeContext" has no attribute "importance"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:892: error: "NarrativeContext" has no attribute "start_sequence"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:893: error: "NarrativeContext" has no attribute "end_sequence"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:894: error: "NarrativeContext" has no attribute "location"; maybe "locations"?  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:895: error: "NarrativeContext" has no attribute "time_period"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:896: error: "NarrativeContext" has no attribute "mood"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:897: error: "NarrativeContext" has no attribute "atmosphere"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:898: error: "NarrativeContext" has no attribute "social_context"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:899: error: "NarrativeContext" has no attribute "cultural_context"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:901: error: "NarrativeContext" has no attribute "related_themes"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:903: error: "NarrativeContext" has no attribute "notes"  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "consequence_events" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "location" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "time_context" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "pov_character" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "outcome" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "conflict_type" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "thematic_relevance" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:911: error: Unexpected keyword argument "notes" for "PlotPoint"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:924: error: Argument "prerequisite_events" to "PlotPoint" has incompatible type "set[Any]"; expected "list[str]"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:943: error: Unexpected keyword argument "cultural_significance" for "NarrativeTheme"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:943: error: Unexpected keyword argument "development_potential" for "NarrativeTheme"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:943: error: Unexpected keyword argument "notes" for "NarrativeTheme"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:965: error: Unexpected keyword argument "description_density" for "StoryPacing"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:965: error: Unexpected keyword argument "character_focus" for "StoryPacing"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:965: error: Unexpected keyword argument "narrative_techniques" for "StoryPacing"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:965: error: Unexpected keyword argument "reader_engagement_target" for "StoryPacing"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:965: error: Unexpected keyword argument "tags" for "StoryPacing"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:965: error: Unexpected keyword argument "notes" for "StoryPacing"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "importance" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "start_sequence" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "end_sequence" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "location" for "NarrativeContext"; did you mean "locations"?  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "time_period" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "mood" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "atmosphere" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "social_context" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "cultural_context" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "related_themes" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:988: error: Unexpected keyword argument "notes" for "NarrativeContext"  [call-arg]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1014: error: Argument 1 to "NarrativeId" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1015: error: Argument "arc_name" to "NarrativeArc" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1016: error: Argument "arc_type" to "NarrativeArc" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1017: error: Argument "description" to "NarrativeArc" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1041: error: Argument "target_length" to "NarrativeArc" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1042: error: Argument "current_length" to "NarrativeArc" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1043: error: Argument "completion_percentage" to "NarrativeArc" has incompatible type "Column[Any]"; expected "Decimal"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1044: error: Argument "complexity_score" to "NarrativeArc" has incompatible type "Column[Any]"; expected "Decimal"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1045: error: Argument "status" to "NarrativeArc" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1046: error: Argument "start_sequence" to "NarrativeArc" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1047: error: Argument "end_sequence" to "NarrativeArc" has incompatible type "Column[int]"; expected "int | None"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1048: error: Argument "narrative_coherence" to "NarrativeArc" has incompatible type "Column[Any]"; expected "Decimal"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1049: error: Argument "thematic_consistency" to "NarrativeArc" has incompatible type "Column[Any]"; expected "Decimal"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1050: error: Argument "pacing_effectiveness" to "NarrativeArc" has incompatible type "Column[Any]"; expected "Decimal"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1052: error: Argument 1 to "NarrativeId" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1057: error: "Column[Any]" has no attribute "__iter__"; maybe "__str__"? (not iterable)  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1060: error: "Column[Any]" has no attribute "__iter__"; maybe "__str__"? (not iterable)  [attr-defined]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1062: error: Argument "created_at" to "NarrativeArc" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1063: error: Argument "updated_at" to "NarrativeArc" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1064: error: Argument "created_by" to "NarrativeArc" has incompatible type "Column[UUID]"; expected "UUID | None"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1066: error: Argument "notes" to "NarrativeArc" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\narratives\infrastructure\repositories\narrative_arc_repository.py:1071: error: Incompatible types in assignment (expression has type "Column[int]", variable has type "int")  [assignment]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:32: error: Module "contexts.interactions.domain.value_objects.proposal_response" has no attribute "TermResponseType"; maybe "ResponseType" or "TermResponse"?  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:38: error: Module "contexts.interactions.domain.value_objects.proposal_terms" has no attribute "TermPriority"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:66: error: Statement is unreachable  [unreachable]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:122: error: "NegotiationStatus" has no attribute "phase_durations"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:124: error: "NegotiationStatus" has no attribute "status_metadata"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:139: error: Name "datetime" is not defined  [name-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:144: error: Name "datetime" is not defined  [name-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:149: error: Name "datetime" is not defined  [name-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:154: error: Name "datetime" is not defined  [name-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:167: error: Incompatible types in assignment (expression has type "None", target has type "timedelta")  [assignment]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:169: error: Unexpected keyword argument "is_active" for "NegotiationStatus"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:169: error: Unexpected keyword argument "phase_durations" for "NegotiationStatus"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:169: error: Unexpected keyword argument "status_metadata" for "NegotiationStatus"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:215: error: "NegotiationCapability" has no attribute "certification_level"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:216: error: "NegotiationCapability" has no attribute "experience_years"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:217: error: "NegotiationCapability" has no attribute "capability_metadata"; maybe "capability_name"?  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:232: error: "PartyPreferences" has no attribute "priority_weights"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:234: error: "PartyPreferences" has no attribute "preferred_terms"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:235: error: "PartyPreferences" has no attribute "unacceptable_terms"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:237: error: "NegotiationParty" has no attribute "contact_information"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:238: error: "NegotiationParty" has no attribute "delegate_information"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:239: error: "NegotiationParty" has no attribute "party_metadata"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:255: error: Unexpected keyword argument "certification_level" for "NegotiationCapability"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:255: error: Unexpected keyword argument "experience_years" for "NegotiationCapability"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:255: error: Unexpected keyword argument "capability_metadata" for "NegotiationCapability"; did you mean "capability_name"?  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:268: error: Unexpected keyword argument "priority_weights" for "PartyPreferences"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:268: error: Unexpected keyword argument "preferred_terms" for "PartyPreferences"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:268: error: Unexpected keyword argument "unacceptable_terms" for "PartyPreferences"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:287: error: Unexpected keyword argument "is_decision_maker" for "NegotiationParty"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:287: error: Unexpected keyword argument "contact_information" for "NegotiationParty"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:287: error: Unexpected keyword argument "delegate_information" for "NegotiationParty"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:287: error: Unexpected keyword argument "party_metadata" for "NegotiationParty"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:337: error: "TermCondition" has no attribute "metadata"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:343: error: "ProposalTerms" has no attribute "valid_until"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:362: error: Unexpected keyword argument "metadata" for "TermCondition"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:375: error: Unexpected keyword argument "valid_until" for "ProposalTerms"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:381: error: Name "datetime" is not defined  [name-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:383: error: Name "datetime" is not defined  [name-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:422: error: "TermResponse" has no attribute "acceptance_level"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:423: error: "TermResponse" has no attribute "counter_proposal"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:424: error: "TermResponse" has no attribute "justification"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:425: error: "TermResponse" has no attribute "conditions"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:426: error: "TermResponse" has no attribute "alternatives"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:430: error: "ProposalResponse" has no attribute "general_comments"; maybe "overall_comments"?  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:431: error: "ProposalResponse" has no attribute "conditional_acceptance"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:432: error: "ProposalResponse" has no attribute "response_metadata"  [attr-defined]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:448: error: Unexpected keyword argument "acceptance_level" for "TermResponse"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:448: error: Unexpected keyword argument "counter_proposal" for "TermResponse"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:448: error: Unexpected keyword argument "justification" for "TermResponse"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:448: error: Unexpected keyword argument "conditions" for "TermResponse"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:448: error: Unexpected keyword argument "alternatives" for "TermResponse"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:459: error: Unexpected keyword argument "general_comments" for "ProposalResponse"; did you mean "overall_comments"?  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:459: error: Unexpected keyword argument "conditional_acceptance" for "ProposalResponse"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:459: error: Unexpected keyword argument "response_metadata" for "ProposalResponse"  [call-arg]
contexts\interactions\infrastructure\persistence\models\interaction_value_object_converters.py:464: error: Name "datetime" is not defined  [name-defined]
contexts\character\infrastructure\persistence\character_models.py:316: error: Incompatible default for argument "description" (default has type "None", argument has type "str")  [assignment]
contexts\character\infrastructure\persistence\character_models.py:316: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\character\infrastructure\persistence\character_models.py:316: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\character\infrastructure\persistence\character_models.py:320: error: Incompatible types in assignment (expression has type "dict[Never, Never]", variable has type "Column[Any]")  [assignment]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:67: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:233: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:255: error: "PlotPoint" has no attribute "consequence_events"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:256: error: "PlotPoint" has no attribute "location"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:257: error: "PlotPoint" has no attribute "time_context"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:259: error: "PlotPoint" has no attribute "pov_character"; maybe "involves_character"?  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:261: error: "PlotPoint" has no attribute "outcome"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:262: error: "PlotPoint" has no attribute "conflict_type"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:264: error: "PlotPoint" has no attribute "thematic_relevance"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:267: error: "PlotPoint" has no attribute "notes"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:280: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:318: error: "PlotPoint" has no attribute "outcome"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:333: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:352: error: Dict entry 1 has incompatible type "str": "float"; expected "str": "int | str"  [dict-item]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:355: error: Dict entry 2 has incompatible type "str": "float"; expected "str": "int | str"  [dict-item]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:356: error: Dict entry 3 has incompatible type "str": "float"; expected "str": "int | str"  [dict-item]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:359: error: Dict entry 4 has incompatible type "str": "list[str]"; expected "str": "int | str"  [dict-item]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:362: error: "PlotPoint" has no attribute "outcome"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:363: error: "PlotPoint" has no attribute "conflict_type"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:364: error: "PlotPoint" has no attribute "location"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:365: error: "PlotPoint" has no attribute "time_context"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:382: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:399: error: "NarrativeTheme" has no attribute "cultural_significance"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:400: error: "NarrativeTheme" has no attribute "development_potential"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:405: error: "NarrativeTheme" has no attribute "notes"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:406: error: "NarrativeTheme" has no attribute "overall_significance_score"  [attr-defined]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:419: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:448: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:513: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:521: error: Need type annotation for "plot_types_distribution" (hint: "plot_types_distribution: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:528: error: Need type annotation for "theme_types_distribution" (hint: "theme_types_distribution: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:581: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\query_handlers\narrative_arc_query_handlers.py:615: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:128: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:160: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "consequence_events" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "location" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "time_context" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "pov_character" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "outcome" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "conflict_type" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "thematic_relevance" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:164: error: Unexpected keyword argument "notes" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:175: error: Argument "prerequisite_events" to "PlotPoint" has incompatible type "set[str]"; expected "list[str]"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:191: error: "PlotPoint" has no attribute "has_causal_relationships"; maybe "changes_character_relationships"?  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:210: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "consequence_events" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "location" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "time_context" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "pov_character" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "outcome" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "conflict_type" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "thematic_relevance" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:219: error: Unexpected keyword argument "notes" for "PlotPoint"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:251: error: "PlotPoint" has no attribute "consequence_events"  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:252: error: "PlotPoint" has no attribute "location"  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:253: error: "PlotPoint" has no attribute "time_context"  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:254: error: "PlotPoint" has no attribute "pov_character"; maybe "involves_character"?  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:258: error: "PlotPoint" has no attribute "outcome"  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:260: error: "PlotPoint" has no attribute "conflict_type"  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:261: error: "PlotPoint" has no attribute "thematic_relevance"  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:263: error: "PlotPoint" has no attribute "notes"  [attr-defined]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:283: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:308: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:312: error: Unexpected keyword argument "cultural_significance" for "NarrativeTheme"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:312: error: Unexpected keyword argument "development_potential" for "NarrativeTheme"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:312: error: Unexpected keyword argument "notes" for "NarrativeTheme"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:342: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:360: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:364: error: Unexpected keyword argument "description_density" for "StoryPacing"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:364: error: Unexpected keyword argument "character_focus" for "StoryPacing"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:364: error: Unexpected keyword argument "narrative_techniques" for "StoryPacing"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:364: error: Unexpected keyword argument "reader_engagement_target" for "StoryPacing"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:364: error: Unexpected keyword argument "tags" for "StoryPacing"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:364: error: Unexpected keyword argument "notes" for "StoryPacing"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:397: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "importance" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "start_sequence" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "end_sequence" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "location" for "NarrativeContext"; did you mean "locations"?  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "time_period" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "mood" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "atmosphere" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "social_context" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "cultural_context" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "related_themes" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:401: error: Unexpected keyword argument "notes" for "NarrativeContext"  [call-arg]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:403: error: Argument "context_type" to "NarrativeContext" has incompatible type "str"; expected "ContextType"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:434: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:452: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:470: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:498: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:518: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:538: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:569: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:594: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\narratives\application\command_handlers\narrative_arc_command_handlers.py:647: error: Argument 1 to "NarrativeId" has incompatible type "str"; expected "UUID"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:42: error: Variable "contexts.interactions.infrastructure.persistence.models.negotiation_session_model.Base" is not valid as a type  [valid-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:42: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#variables-vs-type-aliases
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:42: error: Invalid base class "Base"  [misc]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:309: error: "Column[Any]" has no attribute "__iter__"; maybe "__str__"? (not iterable)  [attr-defined]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:327: error: Argument "session_id" to "NegotiationSession" has incompatible type "Column[Any]"; expected "InteractionId"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:328: error: Argument "session_name" to "NegotiationSession" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:329: error: Argument "session_type" to "NegotiationSession" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:330: error: Argument "status" to "NegotiationSession" has incompatible type "Column[Any]"; expected "NegotiationStatus"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:331: error: Argument "parties" to "NegotiationSession" has incompatible type "dict[UUID, NegotiationParty | None]"; expected "dict[UUID, NegotiationParty]"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:332: error: Argument "active_proposals" to "NegotiationSession" has incompatible type "dict[UUID, ProposalTerms | None]"; expected "dict[UUID, ProposalTerms]"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:333: error: Argument "proposal_history" to "NegotiationSession" has incompatible type "list[ProposalTerms | None]"; expected "list[ProposalTerms]"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:334: error: Argument "responses" to "NegotiationSession" has incompatible type "dict[UUID, list[ProposalResponse | None]]"; expected "dict[UUID, list[ProposalResponse]]"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:335: error: Argument "created_at" to "NegotiationSession" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:336: error: Argument "created_by" to "NegotiationSession" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:337: error: Argument "max_parties" to "NegotiationSession" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:338: error: Argument "session_timeout_hours" to "NegotiationSession" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:339: error: Argument "auto_advance_phases" to "NegotiationSession" has incompatible type "Column[bool]"; expected "bool"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:340: error: Argument "require_unanimous_agreement" to "NegotiationSession" has incompatible type "Column[bool]"; expected "bool"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:341: error: Argument "allow_partial_agreements" to "NegotiationSession" has incompatible type "Column[bool]"; expected "bool"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:342: error: Argument "priority_level" to "NegotiationSession" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:343: error: Argument "confidentiality_level" to "NegotiationSession" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:344: error: Argument "negotiation_domain" to "NegotiationSession" has incompatible type "Column[str]"; expected "str | None"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:345: error: Argument "session_context" to "NegotiationSession" has incompatible type "Column[Any]"; expected "dict[str, Any]"  [arg-type]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:434: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:435: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:436: error: Incompatible types in assignment (expression has type "NegotiationStatus", variable has type "Column[Any]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:437: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:440: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:441: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:442: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:443: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:444: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:445: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:446: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:447: error: Incompatible types in assignment (expression has type "str | None", variable has type "Column[str]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:448: error: Incompatible types in assignment (expression has type "dict[str, Any]", variable has type "Column[Any]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:461: error: Incompatible types in assignment (expression has type "dict[str, dict[str, Any] | None]", variable has type "Column[Any]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:469: error: Incompatible types in assignment (expression has type "dict[str, dict[str, Any] | None]", variable has type "Column[Any]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:477: error: Incompatible types in assignment (expression has type "list[dict[str, Any] | None]", variable has type "Column[Any]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:488: error: Incompatible types in assignment (expression has type "dict[str, list[dict[str, Any] | None]]", variable has type "Column[Any]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:491: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:492: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:493: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\interactions\infrastructure\persistence\models\negotiation_session_model.py:496: error: Incompatible types in assignment (expression has type "ColumnElement[int]", variable has type "Column[int]")  [assignment]
contexts\character\infrastructure\persistence\__init__.py:30: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\persistence\__init__.py:30: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterORM]")  [assignment]
contexts\character\infrastructure\persistence\__init__.py:31: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\persistence\__init__.py:31: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterProfileORM]")  [assignment]
contexts\character\infrastructure\persistence\__init__.py:32: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\persistence\__init__.py:32: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterStatsORM]")  [assignment]
contexts\character\infrastructure\persistence\__init__.py:33: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\persistence\__init__.py:33: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterSkillsORM]")  [assignment]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:207: error: "TextClause" has no attribute "bindparam"; maybe "bindparams" or "_bindparams"?  [attr-defined]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:214: error: "TextClause" has no attribute "bindparam"; maybe "bindparams" or "_bindparams"?  [attr-defined]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:219: error: "TextClause" has no attribute "bindparam"; maybe "bindparams" or "_bindparams"?  [attr-defined]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:282: error: "TextClause" has no attribute "bindparam"; maybe "bindparams" or "_bindparams"?  [attr-defined]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:341: error: "TextClause" has no attribute "bindparam"; maybe "bindparams" or "_bindparams"?  [attr-defined]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:346: error: "TextClause" has no attribute "bindparam"; maybe "bindparams" or "_bindparams"?  [attr-defined]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:491: error: "TextClause" has no attribute "bindparam"; maybe "bindparams" or "_bindparams"?  [attr-defined]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:586: error: Need type annotation for "sessions_by_type" (hint: "sessions_by_type: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:586: error: Argument 1 to "dict" has incompatible type "Sequence[Row[tuple[str, int]]]"; expected "Iterable[tuple[Never, Never]]"  [arg-type]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:595: error: Need type annotation for "sessions_by_priority" (hint: "sessions_by_priority: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:595: error: Argument 1 to "dict" has incompatible type "Sequence[Row[tuple[str, int]]]"; expected "Iterable[tuple[Never, Never]]"  [arg-type]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:617: error: Item "None" of "Row[Any] | None" has no attribute "avg_parties"  [union-attr]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:618: error: Item "None" of "Row[Any] | None" has no attribute "avg_proposals"  [union-attr]
contexts\interactions\infrastructure\repositories\sqlalchemy_negotiation_session_repository.py:619: error: Item "None" of "Row[Any] | None" has no attribute "avg_responses"  [union-attr]
contexts\orchestration\infrastructure\monitoring\tracing.py:96: error: Incompatible default for argument "kind" (default has type "None", argument has type "SpanKind")  [assignment]
contexts\orchestration\infrastructure\monitoring\tracing.py:96: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\infrastructure\monitoring\tracing.py:96: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\infrastructure\monitoring\tracing.py:184: error: Argument "root" to "ParentBased" has incompatible type "IntelligentSampler"; expected "Sampler"  [arg-type]
contexts\orchestration\infrastructure\monitoring\tracing.py:186: error: Incompatible types in assignment (expression has type "TracerProvider", variable has type "None")  [assignment]
contexts\orchestration\infrastructure\monitoring\tracing.py:192: error: "None" has no attribute "add_span_processor"  [attr-defined]
contexts\orchestration\infrastructure\monitoring\tracing.py:197: error: "None" has no attribute "add_span_processor"  [attr-defined]
contexts\orchestration\infrastructure\monitoring\tracing.py:204: error: "None" has no attribute "add_span_processor"  [attr-defined]
contexts\orchestration\infrastructure\monitoring\tracing.py:210: error: Argument 1 to "set_tracer_provider" has incompatible type "None"; expected "TracerProvider"  [arg-type]
contexts\orchestration\infrastructure\monitoring\tracing.py:213: error: Incompatible types in assignment (expression has type "Tracer", variable has type "None")  [assignment]
contexts\orchestration\infrastructure\monitoring\tracing.py:236: error: "None" has no attribute "start_span"  [attr-defined]
contexts\orchestration\infrastructure\monitoring\tracing.py:293: error: "None" has no attribute "start_span"  [attr-defined]
contexts\orchestration\infrastructure\monitoring\tracing.py:297: error: "None" has no attribute "start_span"  [attr-defined]
contexts\orchestration\infrastructure\monitoring\tracing.py:425: error: Need type annotation for "carrier" (hint: "carrier: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\orchestration\infrastructure\monitoring\tracing.py:493: error: Incompatible types in "yield" (actual type "opentelemetry.trace.span.Span", expected type "opentelemetry.sdk.trace.Span")  [misc]
contexts\character\infrastructure\repositories\character_repository.py:622: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
contexts\character\infrastructure\repositories\character_repository.py:623: error: Incompatible types in assignment (expression has type "str | str | str | str | str", variable has type "Column[str]")  [assignment]
contexts\character\infrastructure\repositories\character_repository.py:624: error: Incompatible types in assignment (expression has type "str | str | str | str | str | str | str | str | str | str", variable has type "Column[str]")  [assignment]
contexts\character\infrastructure\repositories\character_repository.py:625: error: Incompatible types in assignment (expression has type "str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str | str", variable has type "Column[str]")  [assignment]
contexts\character\infrastructure\repositories\character_repository.py:626: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\character\infrastructure\repositories\character_repository.py:627: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\character\infrastructure\repositories\character_repository.py:628: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
contexts\character\infrastructure\repositories\character_repository.py:727: error: Argument "name" to "CharacterProfile" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:731: error: Argument "age" to "CharacterProfile" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:732: error: Argument "level" to "CharacterProfile" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:808: error: Argument "languages" to "Skills" has incompatible type "Any | list[Any]"; expected "set[str]"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:809: error: Argument "specializations" to "Skills" has incompatible type "Any | list[Any]"; expected "dict[str, int]"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:814: error: Argument 1 to "CharacterID" has incompatible type "Column[UUID]"; expected "str"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:818: error: Argument "version" to "Character" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:819: error: Argument "created_at" to "Character" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\character\infrastructure\repositories\character_repository.py:820: error: Argument "updated_at" to "Character" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\character\application\commands\character_command_handlers.py:597: error: "object" has no attribute "handle"  [attr-defined]
contexts\character\infrastructure\repositories\__init__.py:25: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\repositories\__init__.py:25: error: Incompatible types in assignment (expression has type "None", variable has type "type[SQLAlchemyCharacterRepository]")  [assignment]
contexts\character\infrastructure\__init__.py:34: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\__init__.py:34: error: Incompatible types in assignment (expression has type "None", variable has type "type[SQLAlchemyCharacterRepository]")  [assignment]
contexts\character\infrastructure\__init__.py:35: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\__init__.py:35: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterORM]")  [assignment]
contexts\character\infrastructure\__init__.py:36: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\__init__.py:36: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterProfileORM]")  [assignment]
contexts\character\infrastructure\__init__.py:37: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\__init__.py:37: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterStatsORM]")  [assignment]
contexts\character\infrastructure\__init__.py:38: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\__init__.py:38: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterSkillsORM]")  [assignment]
contexts\character\infrastructure\__init__.py:39: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\__init__.py:39: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterEventORM]")  [assignment]
contexts\character\infrastructure\__init__.py:40: error: Cannot assign to a type  [misc]
contexts\character\infrastructure\__init__.py:40: error: Incompatible types in assignment (expression has type "None", variable has type "type[Base]")  [assignment]
contexts\character\__init__.py:61: error: Cannot assign to a type  [misc]
contexts\character\__init__.py:61: error: Incompatible types in assignment (expression has type "None", variable has type "type[SQLAlchemyCharacterRepository]")  [assignment]
contexts\character\__init__.py:62: error: Cannot assign to a type  [misc]
contexts\character\__init__.py:62: error: Incompatible types in assignment (expression has type "None", variable has type "type[Base]")  [assignment]
src\infrastructure\state_store.py:153: error: Item "None" of "Redis | None" has no attribute "ping"  [union-attr]
src\infrastructure\state_store.py:167: error: Item "None" of "Redis | None" has no attribute "get"  [union-attr]
src\infrastructure\state_store.py:201: error: Incompatible types in assignment (expression has type "bytes", variable has type "str")  [assignment]
src\infrastructure\state_store.py:205: error: Item "None" of "Redis | None" has no attribute "setex"  [union-attr]
src\infrastructure\state_store.py:220: error: Item "None" of "Redis | None" has no attribute "delete"  [union-attr]
src\infrastructure\state_store.py:233: error: Item "None" of "Redis | None" has no attribute "exists"  [union-attr]
src\infrastructure\state_store.py:246: error: Item "None" of "Redis | None" has no attribute "keys"  [union-attr]
src\infrastructure\state_store.py:262: error: Item "None" of "Redis | None" has no attribute "incrby"  [union-attr]
src\infrastructure\state_store.py:275: error: Item "None" of "Redis | None" has no attribute "expire"  [union-attr]
src\infrastructure\state_store.py:288: error: Item "None" of "Redis | None" has no attribute "ping"  [union-attr]
src\infrastructure\state_store.py:363: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:379: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:415: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:448: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:467: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:487: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:521: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:547: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:565: error: Item "None" of "Any | None" has no attribute "acquire"  [union-attr]
src\infrastructure\state_store.py:622: error: "None" has no attribute "head_bucket"  [attr-defined]
src\infrastructure\state_store.py:628: error: "None" has no attribute "create_bucket"  [attr-defined]
src\infrastructure\state_store.py:630: error: "None" has no attribute "create_bucket"  [attr-defined]
src\infrastructure\state_store.py:661: error: "None" has no attribute "get_object"  [attr-defined]
src\infrastructure\state_store.py:730: error: Incompatible types in assignment (expression has type "datetime", target has type "Collection[str]")  [assignment]
src\infrastructure\state_store.py:733: error: "None" has no attribute "put_object"  [attr-defined]
src\infrastructure\state_store.py:754: error: "None" has no attribute "delete_object"  [attr-defined]
src\infrastructure\state_store.py:772: error: "None" has no attribute "head_object"  [attr-defined]
src\infrastructure\state_store.py:800: error: "None" has no attribute "list_objects_v2"  [attr-defined]
src\infrastructure\state_store.py:833: error: "None" has no attribute "head_bucket"  [attr-defined]
src\infrastructure\state_store.py:1015: error: Incompatible default for argument "config_paths" (default has type "None", argument has type "list[str]")  [assignment]
src\infrastructure\state_store.py:1015: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\state_store.py:1015: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\state_store.py:1157: error: Incompatible default for argument "config_paths" (default has type "None", argument has type "list[str]")  [assignment]
src\infrastructure\state_store.py:1157: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\state_store.py:1157: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\character\application\services\context_loader.py:20: error: Library stubs not installed for "aiofiles"  [import-untyped]
contexts\character\application\services\context_loader.py:20: note: Hint: "python3 -m pip install types-aiofiles"
contexts\character\application\services\context_loader.py:20: note: (or run "mypy --install-types" to install all missing stub packages)
contexts\character\application\services\context_loader.py:20: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
contexts\character\application\services\context_loader.py:119: error: Need type annotation for "_active_loads" (hint: "_active_loads: Set[<type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:135: error: Need type annotation for "_cache" (hint: "_cache: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:136: error: Need type annotation for "_cache_timestamps" (hint: "_cache_timestamps: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:367: error: Need type annotation for "context_data"  [var-annotated]
contexts\character\application\services\context_loader.py:385: error: Unsupported target for indexed assignment ("Collection[Any]")  [index]
contexts\character\application\services\context_loader.py:386: error: "Collection[Any]" has no attribute "append"  [attr-defined]
contexts\character\application\services\context_loader.py:391: error: "Collection[Any]" has no attribute "append"  [attr-defined]
contexts\character\application\services\context_loader.py:402: error: "Collection[Any]" has no attribute "append"  [attr-defined]
contexts\character\application\services\context_loader.py:425: error: Missing named argument "error_message" for "LoadedFileInfo"  [call-arg]
contexts\character\application\services\context_loader.py:486: error: Missing named argument "error_message" for "LoadedFileInfo"  [call-arg]
contexts\character\application\services\context_loader.py:513: error: Incompatible types in assignment (expression has type "ObjectivesContext", variable has type "MemoryContext")  [assignment]
contexts\character\application\services\context_loader.py:515: error: Incompatible types in assignment (expression has type "ProfileContext", variable has type "MemoryContext")  [assignment]
contexts\character\application\services\context_loader.py:555: error: Need type annotation for "relationships" (hint: "relationships: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:631: error: Need type annotation for "behavioral_triggers" (hint: "behavioral_triggers: List[<type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:645: error: Missing named argument "alliance_strength" for "RelationshipMemory"  [call-arg]
contexts\character\application\services\context_loader.py:651: error: Missing named argument "category" for "TrustLevel"  [call-arg]
contexts\character\application\services\context_loader.py:671: error: Missing named argument "key_lesson" for "FormativeEvent"  [call-arg]
contexts\character\application\services\context_loader.py:706: error: Need type annotation for "core_objectives" (hint: "core_objectives: List[<type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:707: error: Need type annotation for "strategic_objectives" (hint: "strategic_objectives: List[<type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:708: error: Need type annotation for "tactical_objectives" (hint: "tactical_objectives: List[<type>] = ...")  [var-annotated]
contexts\character\application\services\context_loader.py:737: error: Missing named argument "motivation_source" for "Objective"  [call-arg]
contexts\character\application\services\context_loader.py:750: error: Missing named argument "current_focus" for "ObjectivesContext"  [call-arg]
contexts\character\application\services\context_loader.py:812: error: Missing named argument "title" for "ProfileContext"  [call-arg]
contexts\character\application\services\context_loader.py:812: error: Missing named argument "affiliation" for "ProfileContext"  [call-arg]
contexts\character\application\services\context_loader.py:901: error: No overload variant of "__sub__" of "datetime" matches argument type "object"  [operator]
contexts\character\application\services\context_loader.py:901: note: Possible overload variants:
contexts\character\application\services\context_loader.py:901: note:     def __sub__(self, timedelta, /) -> datetime
contexts\character\application\services\context_loader.py:901: note:     def __sub__(self, datetime, /) -> timedelta
contexts\character\application\services\context_loader.py:924: error: Unsupported operand types for + ("object" and "int")  [operator]
contexts\character\application\services\context_loader.py:928: error: Unsupported left operand type for >= ("object")  [operator]
contexts\character\application\services\context_loader.py:940: error: Unsupported operand types for + ("object" and "float")  [operator]
contexts\character\application\services\context_loader.py:1159: error: Unsupported target for indexed assignment ("object")  [index]
contexts\character\application\services\context_loader.py:1168: error: Generator has incompatible item type "int"; expected "bool"  [misc]
contexts\character\application\services\context_loader.py:1169: error: "object" has no attribute "values"  [attr-defined]
src\persona_agent_integrated.py:30: error: Cannot assign to a type  [misc]
src\persona_agent_integrated.py:30: error: Incompatible types in assignment (expression has type "type[dict[Any, Any]]", variable has type "type[CharacterAction]")  [assignment]
src\persona_agent_integrated.py:32: error: Name "ActionPriority" already defined (possibly by an import)  [no-redef]
src\persona_agent_integrated.py:132: error: Incompatible types in assignment (expression has type "DecisionEngine", variable has type "EnhancedDecisionEngine")  [assignment]
src\persona_agent_integrated.py:244: error: Cannot assign to a method  [method-assign]
core_platform\config\settings.py:25: error: Name "BaseSettings" already defined (possibly by an import)  [no-redef]
core_platform\config\settings.py:26: error: Name "SettingsSourceCallable" already defined on line 23  [no-redef]
core_platform\config\settings.py:88: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:88: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:129: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:129: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:155: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:155: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:216: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:216: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:257: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:257: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:287: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:287: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:343: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:343: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:353: error: Incompatible return value type (got "tuple[Callable[[], dict[str, Any]], Callable[[], dict[str, Any]], Callable[[BaseSettings], dict[str, Any]], Callable[[], dict[str, Any]]]", expected "tuple[Callable[[], dict[str, Any]], ...]")  [return-value]
core_platform\config\settings.py:545: error: Need type annotation for "config_data" (hint: "config_data: Dict[<type>, <type>] = ...")  [var-annotated]
core_platform\messaging\kafka_client.py:24: error: Name "KafkaError" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:27: error: Name "KafkaConnectionError" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:30: error: Name "KafkaTimeoutError" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:33: error: Name "AIOKafkaProducer" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:46: error: Name "AIOKafkaConsumer" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:139: error: "MessagingMetrics" has no attribute "record_connection_established"  [attr-defined]
core_platform\messaging\kafka_client.py:143: error: "MessagingMetrics" has no attribute "record_connection_failed"  [attr-defined]
core_platform\messaging\kafka_client.py:170: error: "MessagingMetrics" has no attribute "record_connection_closed"  [attr-defined]
core_platform\messaging\kafka_client.py:199: error: "MessagingMetrics" has no attribute "record_message_publish_start"  [attr-defined]
core_platform\messaging\kafka_client.py:209: error: Item "None" of "Any | None" has no attribute "send_and_wait"  [union-attr]
core_platform\messaging\kafka_client.py:217: error: "MessagingMetrics" has no attribute "record_message_published"; maybe "record_message_sent" or "record_message_received"?  [attr-defined]
core_platform\messaging\kafka_client.py:221: error: "MessagingMetrics" has no attribute "record_message_publish_failed"; maybe "record_message_send_failed"?  [attr-defined]
core_platform\messaging\kafka_client.py:245: error: "MessagingMetrics" has no attribute "record_batch_publish_start"  [attr-defined]
core_platform\messaging\kafka_client.py:249: error: List item 0 has incompatible type "None"; expected "str"  [list-item]
core_platform\messaging\kafka_client.py:250: error: List item 0 has incompatible type "None"; expected "dict[str, str]"  [list-item]
core_platform\messaging\kafka_client.py:259: error: Item "None" of "Any | None" has no attribute "send"  [union-attr]
core_platform\messaging\kafka_client.py:270: error: "MessagingMetrics" has no attribute "record_batch_published"  [attr-defined]
core_platform\messaging\kafka_client.py:274: error: "MessagingMetrics" has no attribute "record_batch_publish_failed"  [attr-defined]
core_platform\messaging\kafka_client.py:361: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\kafka_client.py:375: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\kafka_client.py:386: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\kafka_client.py:451: error: "MessagingMetrics" has no attribute "record_message_processed"; maybe "record_message_received" or "record_message_sent"?  [attr-defined]
core_platform\messaging\kafka_client.py:454: error: "MessagingMetrics" has no attribute "record_message_processing_failed"; maybe "record_message_send_failed" or "record_message_received"?  [attr-defined]
core_platform\messaging\kafka_client.py:459: error: "MessagingMetrics" has no attribute "record_consumer_error"  [attr-defined]
core_platform\messaging\kafka_client.py:484: error: Incompatible types in assignment (expression has type "Any | None", target has type "str")  [assignment]
core_platform\messaging\kafka_client.py:485: error: Incompatible types in assignment (expression has type "Any | None", target has type "str")  [assignment]
core_platform\messaging\kafka_client.py:505: error: Statement is unreachable  [unreachable]
core_platform\persistence\database.py:122: error: Argument 1 to "contextmanager" has incompatible type "Callable[[DatabaseManager], Session]"; expected "Callable[[DatabaseManager], Iterator[Never]]"  [arg-type]
core_platform\persistence\database.py:123: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
core_platform\persistence\database.py:130: error: "DatabaseMetrics" has no attribute "record_session_created"; maybe "record_connection_created"?  [attr-defined]
core_platform\persistence\database.py:135: error: "DatabaseMetrics" has no attribute "record_session_error"  [attr-defined]
core_platform\persistence\database.py:140: error: "DatabaseMetrics" has no attribute "record_session_closed"; maybe "record_connection_closed"?  [attr-defined]
core_platform\persistence\database.py:150: error: "DatabaseMetrics" has no attribute "record_session_created"; maybe "record_connection_created"?  [attr-defined]
core_platform\persistence\database.py:155: error: "DatabaseMetrics" has no attribute "record_session_error"  [attr-defined]
core_platform\persistence\database.py:160: error: "DatabaseMetrics" has no attribute "record_session_closed"; maybe "record_connection_closed"?  [attr-defined]
core_platform\persistence\database.py:174: error: Need type annotation for "session"  [var-annotated]
core_platform\persistence\database.py:179: error: "object" has no attribute "append"  [attr-defined]
core_platform\persistence\database.py:190: error: "object" has no attribute "append"  [attr-defined]
core_platform\persistence\database.py:197: error: "Pool" has no attribute "size"  [attr-defined]
core_platform\persistence\database.py:198: error: "Pool" has no attribute "checkedin"  [attr-defined]
core_platform\persistence\database.py:199: error: "Pool" has no attribute "checkedout"  [attr-defined]
core_platform\persistence\database.py:200: error: "Pool" has no attribute "overflow"  [attr-defined]
core_platform\persistence\database.py:201: error: "Pool" has no attribute "invalidated"; maybe "_invalidate"?  [attr-defined]
core_platform\persistence\database.py:222: error: "DatabaseMetrics" has no attribute "record_connection_checkout"; maybe "record_connection_created" or "record_connection_closed"?  [attr-defined]
core_platform\persistence\database.py:226: error: "DatabaseMetrics" has no attribute "record_connection_checkin"; maybe "record_connection_closed" or "record_connection_created"?  [attr-defined]
core_platform\persistence\database.py:242: error: Need type annotation for "session"  [var-annotated]
core_platform\persistence\database.py:276: error: Incompatible return value type (got "_GeneratorContextManager[Never]", expected "Session")  [return-value]
core_platform\persistence\database.py:281: error: Incompatible return value type (got "_AsyncGeneratorContextManager[AsyncSession]", expected "AsyncSession")  [return-value]
src\turn_orchestrator.py:83: error: Function "builtins.callable" is not valid as a type  [valid-type]
src\turn_orchestrator.py:83: note: Perhaps you meant "typing.Callable" instead of "callable"?
src\turn_orchestrator.py:107: error: callable? not callable  [misc]
src\turn_orchestrator.py:116: error: callable? not callable  [misc]
src\turn_orchestrator.py:328: error: Function "builtins.callable" is not valid as a type  [valid-type]
src\turn_orchestrator.py:328: note: Perhaps you meant "typing.Callable" instead of "callable"?
src\turn_orchestrator.py:379: error: callable? not callable  [misc]
src\turn_orchestrator.py:397: error: callable? not callable  [misc]
src\director_agent_base.py:30: error: All conditional function variants must have identical signatures  [misc]
src\director_agent_base.py:30: note: Original:
src\director_agent_base.py:30: note:     def get_config() -> AppConfig
src\director_agent_base.py:30: note: Redefinition:
src\director_agent_base.py:30: note:     def get_config() -> Any
src\director_agent_base.py:33: error: All conditional function variants must have identical signatures  [misc]
src\director_agent_base.py:33: note: Original:
src\director_agent_base.py:33: note:     def get_campaign_log_filename() -> str
src\director_agent_base.py:33: note: Redefinition:
src\director_agent_base.py:33: note:     def get_campaign_log_filename() -> Any
src\director_agent_base.py:43: error: Cannot assign to a type  [misc]
src\director_agent_base.py:43: error: Incompatible types in assignment (expression has type "None", variable has type "type[CampaignBrief]")  [assignment]
src\director_agent_base.py:44: error: Cannot assign to a type  [misc]
src\director_agent_base.py:44: error: Incompatible types in assignment (expression has type "None", variable has type "type[CampaignBriefLoader]")  [assignment]
src\director_agent_base.py:45: error: Cannot assign to a type  [misc]
src\director_agent_base.py:45: error: Incompatible types in assignment (expression has type "None", variable has type "type[NarrativeEvent]")  [assignment]
src\director_agent_base.py:47: error: Name "NarrativeActionResolver" already defined (possibly by an import)  [no-redef]
src\director_agent_base.py:106: error: Incompatible types in assignment (expression has type "None", variable has type "AppConfig")  [assignment]
src\director_agent_base.py:219: error: Need type annotation for "world_state_tracker"  [var-annotated]
src\director_agent_base.py:248: error: Statement is unreachable  [unreachable]
src\agent_lifecycle_manager.py:36: error: Name "ValidationResult" already defined (possibly by an import)  [no-redef]
src\agent_lifecycle_manager.py:42: error: Name "IronLawsViolation" already defined (possibly by an import)  [no-redef]
src\agent_lifecycle_manager.py:48: error: Name "ValidatedAction" already defined (possibly by an import)  [no-redef]
src\agent_lifecycle_manager.py:53: error: Name "ProposedAction" already defined (possibly by an import)  [no-redef]
src\agent_lifecycle_manager.py:64: error: Cannot assign to a type  [misc]
src\agent_lifecycle_manager.py:64: error: Incompatible types in assignment (expression has type "None", variable has type "type[PersonaAgent]")  [assignment]
src\agent_lifecycle_manager.py:65: error: Cannot assign to a type  [misc]
src\agent_lifecycle_manager.py:65: error: Incompatible types in assignment (expression has type "None", variable has type "type[CharacterAction]")  [assignment]
src\agent_lifecycle_manager.py:309: error: Incompatible types in assignment (expression has type "ValidatedAction | None", variable has type "ValidatedAction")  [assignment]
src\agent_lifecycle_manager.py:313: error: "ValidatedAction" has no attribute "status"  [attr-defined]
src\agent_lifecycle_manager.py:402: error: Missing named argument "law_name" for "IronLawsViolation"  [call-arg]
src\agent_lifecycle_manager.py:405: error: Argument "severity" to "IronLawsViolation" has incompatible type "Literal['high']"; expected "Literal['warning', 'error', 'critical']"  [arg-type]
src\agent_lifecycle_manager.py:452: error: Argument "severity" to "IronLawsViolation" has incompatible type "Literal['high']"; expected "Literal['warning', 'error', 'critical']"  [arg-type]
src\agent_lifecycle_manager.py:515: error: Item "None" of "ActionIntensity | float | None" has no attribute "value"  [union-attr]
src\agent_lifecycle_manager.py:655: error: Argument "severity" to "IronLawsViolation" has incompatible type "Literal['high']"; expected "Literal['warning', 'error', 'critical']"  [arg-type]
src\agent_lifecycle_manager.py:682: error: Argument "severity" to "IronLawsViolation" has incompatible type "Literal['low']"; expected "Literal['warning', 'error', 'critical']"  [arg-type]
src\agent_lifecycle_manager.py:770: error: Item "None" of "ActionIntensity | float | None" has no attribute "value"  [union-attr]
src\agent_lifecycle_manager.py:822: error: Argument "severity" to "IronLawsViolation" has incompatible type "Literal['high']"; expected "Literal['warning', 'error', 'critical']"  [arg-type]
src\agent_lifecycle_manager.py:850: error: Need type annotation for "repair_log" (hint: "repair_log: List[<type>] = ...")  [var-annotated]
src\agent_lifecycle_manager.py:980: error: Incompatible types in assignment (expression has type "str", variable has type "ActionType")  [assignment]
src\agent_lifecycle_manager.py:1012: error: Item "None" of "ActionIntensity | float | None" has no attribute "value"  [union-attr]
src\agent_lifecycle_manager.py:1042: error: Incompatible types in assignment (expression has type "str", variable has type "ActionIntensity | float | None")  [assignment]
src\agent_lifecycle_manager.py:1059: error: Incompatible types in assignment (expression has type "str", variable has type "ActionIntensity | float | None")  [assignment]
src\agent_lifecycle_manager.py:1119: error: Incompatible types in assignment (expression has type "str", variable has type "ActionType")  [assignment]
src\agent_lifecycle_manager.py:1128: error: Incompatible types in assignment (expression has type "str", variable has type "ActionType")  [assignment]
src\agent_lifecycle_manager.py:1189: error: Need type annotation for "grouped" (hint: "grouped: Dict[<type>, <type>] = ...")  [var-annotated]
src\agent_lifecycle_manager.py:1203: error: Unexpected keyword argument "status" for "ValidatedAction"  [call-arg]
src\agent_lifecycle_manager.py:1209: error: Unexpected keyword argument "status" for "ValidatedAction"  [call-arg]
src\agent_lifecycle_manager.py:1218: error: Unexpected keyword argument "status" for "ValidatedAction"  [call-arg]
src\agent_lifecycle_manager.py:1228: error: Incompatible default for argument "repair_log" (default has type "None", argument has type "list[str]")  [assignment]
src\agent_lifecycle_manager.py:1228: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\agent_lifecycle_manager.py:1228: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\agent_lifecycle_manager.py:1247: error: Incompatible default for argument "repair_log" (default has type "None", argument has type "list[str]")  [assignment]
src\agent_lifecycle_manager.py:1247: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\agent_lifecycle_manager.py:1247: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core_platform\messaging\event_bus.py:88: error: Incompatible default for argument "handler_id" (default has type "None", argument has type "str")  [assignment]
core_platform\messaging\event_bus.py:88: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core_platform\messaging\event_bus.py:88: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core_platform\messaging\event_bus.py:321: error: Argument "message_handler" to "subscribe" of "KafkaClient" has incompatible type "Callable[[dict[str, Any], dict[str, Any]], Coroutine[Any, Any, None]]"; expected "Callable[[dict[str, Any], dict[str, Any]], None]"  [arg-type]
core_platform\messaging\event_bus.py:418: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\event_bus.py:422: error: "object" has no attribute "append"  [attr-defined]
core_platform\persistence\models.py:44: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:45: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\persistence\models.py:49: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:50: error: Incompatible types in assignment (expression has type "None", variable has type "Column[datetime]")  [assignment]
core_platform\persistence\models.py:201: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:202: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\persistence\models.py:203: error: Incompatible types in assignment (expression has type "None", variable has type "Column[str]")  [assignment]
core_platform\persistence\models.py:207: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:208: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\persistence\models.py:209: error: Incompatible types in assignment (expression has type "ColumnElement[str]", variable has type "Column[str]")  [assignment]
core_platform\persistence\models.py:213: error: Incompatible return value type (got "ColumnElement[bool]", expected "bool")  [return-value]
core_platform\persistence\models.py:257: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\messaging\outbox.py:216: error: Need type annotation for "events_by_topic" (hint: "events_by_topic: Dict[<type>, <type>] = ...")  [var-annotated]
core_platform\messaging\outbox.py:262: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:278: error: Incompatible return value type (got "Sequence[OutboxEvent]", expected "list[OutboxEvent]")  [return-value]
core_platform\messaging\outbox.py:313: error: Argument "topic" to "publish_batch" of "KafkaClient" has incompatible type "Column[str]"; expected "str"  [arg-type]
core_platform\messaging\outbox.py:313: error: Argument "messages" to "publish_batch" of "KafkaClient" has incompatible type "list[Column[Any]]"; expected "list[dict[str, Any]]"  [arg-type]
core_platform\messaging\outbox.py:313: error: Argument "keys" to "publish_batch" of "KafkaClient" has incompatible type "list[Column[str]]"; expected "list[str] | None"  [arg-type]
core_platform\messaging\outbox.py:313: error: Argument "headers" to "publish_batch" of "KafkaClient" has incompatible type "list[dict[str, Column[str] | str | None]]"; expected "list[dict[str, str]] | None"  [arg-type]
core_platform\messaging\outbox.py:369: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:390: error: Argument 1 to "where" of "Select" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:397: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:428: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\outbox.py:438: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\outbox.py:446: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\outbox.py:455: error: "object" has no attribute "append"  [attr-defined]
contexts\world\infrastructure\projections\world_read_model.py:145: error: Need type annotation for "active_entity_ids"  [var-annotated]
contexts\world\infrastructure\projections\world_read_model.py:195: error: Need type annotation for "matching_entities" (hint: "matching_entities: List[<type>] = ...")  [var-annotated]
contexts\world\infrastructure\projections\world_read_model.py:249: error: Incompatible return value type (got "ColumnElement[Any]", expected "list[dict[str, Any]]")  [return-value]
contexts\world\infrastructure\projections\world_read_model.py:250: error: Incompatible return value type (got "ColumnElement[Any]", expected "list[dict[str, Any]]")  [return-value]
contexts\world\infrastructure\projections\world_read_model.py:285: error: Need type annotation for "matching_entities" (hint: "matching_entities: List[<type>] = ...")  [var-annotated]
contexts\world\infrastructure\projections\world_read_model.py:383: error: Need type annotation for "entities_by_type" (hint: "entities_by_type: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\world\infrastructure\projections\world_read_model.py:399: error: Need type annotation for "entities_by_location" (hint: "entities_by_location: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\world\infrastructure\projections\world_read_model.py:483: error: Subclass of "Column[Any]" and "dict[Any, Any]" cannot exist: would have incompatible method signatures  [unreachable]
contexts\world\infrastructure\projections\world_read_model.py:484: error: Incompatible types in assignment (expression has type "dict[Never, Never]", variable has type "Column[Any]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:485: error: Subclass of "Column[Any]" and "dict[Any, Any]" cannot exist: would have incompatible method signatures  [unreachable]
contexts\world\infrastructure\projections\world_read_model.py:486: error: Incompatible types in assignment (expression has type "dict[Never, Never]", variable has type "Column[Any]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:487: error: Subclass of "Column[Any]" and "dict[Any, Any]" cannot exist: would have incompatible method signatures  [unreachable]
contexts\world\infrastructure\projections\world_read_model.py:488: error: Incompatible types in assignment (expression has type "dict[Never, Never]", variable has type "Column[Any]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:489: error: Subclass of "Column[Any]" and "list[Any]" cannot exist: would have incompatible method signatures  [unreachable]
contexts\world\infrastructure\projections\world_read_model.py:490: error: Incompatible types in assignment (expression has type "list[Never]", variable has type "Column[Any]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:509: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:521: error: "ColumnElement[Any]" has no attribute "__iter__" (not iterable)  [attr-defined]
contexts\world\infrastructure\projections\world_read_model.py:524: error: No overload variant of "max" matches argument types "int", "ColumnElement[Any]"  [call-overload]
contexts\world\infrastructure\projections\world_read_model.py:524: note: Possible overload variants:
contexts\world\infrastructure\projections\world_read_model.py:524: note:     def [SupportsRichComparisonT] max(SupportsRichComparisonT, SupportsRichComparisonT, /, *_args: SupportsRichComparisonT, key: None = ...) -> SupportsRichComparisonT
contexts\world\infrastructure\projections\world_read_model.py:524: note:     def [_T] max(_T, _T, /, *_args: _T, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
contexts\world\infrastructure\projections\world_read_model.py:524: note:     def [SupportsRichComparisonT] max(Iterable[SupportsRichComparisonT], /, *, key: None = ...) -> SupportsRichComparisonT
contexts\world\infrastructure\projections\world_read_model.py:524: note:     def [_T] max(Iterable[_T], /, *, key: Callable[[_T], SupportsDunderLT[Any] | SupportsDunderGT[Any]]) -> _T
contexts\world\infrastructure\projections\world_read_model.py:524: note:     def [SupportsRichComparisonT, _T] max(Iterable[SupportsRichComparisonT], /, *, key: None = ..., default: _T) -> SupportsRichComparisonT | _T
contexts\world\infrastructure\projections\world_read_model.py:524: note:     def [_T1, _T2] max(Iterable[_T1], /, *, key: Callable[[_T1], SupportsDunderLT[Any] | SupportsDunderGT[Any]], default: _T2) -> _T1 | _T2
contexts\world\infrastructure\projections\world_read_model.py:533: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:566: error: Incompatible types in assignment (expression has type "None", variable has type "Column[float]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:568: error: Incompatible types in assignment (expression has type "None", variable has type "Column[float]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:571: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\world\infrastructure\projections\world_read_model.py:572: error: Incompatible types in assignment (expression has type "ColumnElement[int]", variable has type "Column[int]")  [assignment]
contexts\world\infrastructure\persistence\models.py:47: error: Argument 1 to "Column" has incompatible type "type[Integer]"; expected "str | type[TypeEngine[str]] | TypeEngine[str] | SchemaEventTarget | None"  [arg-type]
contexts\world\infrastructure\persistence\models.py:57: error: Incompatible types in assignment (expression has type "Column[Any]", base class "DeclarativeBase" defined the type as "MetaData")  [assignment]
contexts\world\infrastructure\persistence\models.py:115: error: Argument "name" to "WorldState" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\world\infrastructure\persistence\models.py:116: error: Argument "description" to "WorldState" has incompatible type "Column[str]"; expected "str | None"  [arg-type]
contexts\world\infrastructure\persistence\models.py:118: error: Argument "world_time" to "WorldState" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\world\infrastructure\persistence\models.py:120: error: Argument "environment" to "WorldState" has incompatible type "Column[Any] | dict[Never, Never]"; expected "dict[str, Any]"  [arg-type]
contexts\world\infrastructure\persistence\models.py:121: error: Argument "spatial_index" to "WorldState" has incompatible type "Column[Any] | dict[Never, Never]"; expected "dict[str, list[str]]"  [arg-type]
contexts\world\infrastructure\persistence\models.py:122: error: Cannot determine type of "metadata"  [has-type]
contexts\world\infrastructure\persistence\models.py:123: error: Argument "max_entities" to "WorldState" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\world\infrastructure\persistence\models.py:124: error: Argument "spatial_grid_size" to "WorldState" has incompatible type "Column[float]"; expected "float"  [arg-type]
contexts\world\infrastructure\persistence\models.py:125: error: Argument "created_at" to "WorldState" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\world\infrastructure\persistence\models.py:126: error: Argument "updated_at" to "WorldState" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\world\infrastructure\persistence\models.py:127: error: Argument "version" to "WorldState" has incompatible type "Column[str]"; expected "int"  [arg-type]
contexts\world\infrastructure\persistence\models.py:185: error: Incompatible types in assignment (expression has type "dict[Any, Any]", variable has type "Column[Any]")  [assignment]
contexts\world\infrastructure\persistence\models.py:188: error: Cannot determine type of "metadata"  [has-type]
contexts\world\infrastructure\persistence\models.py:212: error: Subclass of "Column[Any]" and "dict[Any, Any]" cannot exist: would have incompatible method signatures  [unreachable]
contexts\world\infrastructure\persistence\models.py:218: error: Subclass of "Column[Any]" and "dict[Any, Any]" cannot exist: would have incompatible method signatures  [unreachable]
contexts\world\infrastructure\persistence\models.py:231: error: Need type annotation for "summary" (hint: "summary: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\subjective\infrastructure\persistence\subjective_models.py:28: error: Name "BaseModel" already defined (possibly by an import)  [no-redef]
contexts\subjective\infrastructure\persistence\subjective_models.py:36: error: Name "FullAuditModel" already defined (possibly by an import)  [no-redef]
contexts\subjective\infrastructure\persistence\subjective_models.py:106: error: Signature of "to_dict" incompatible with supertype "BaseModel"  [override]
contexts\subjective\infrastructure\persistence\subjective_models.py:106: note:      Superclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:106: note:          def to_dict(self, exclude: list[str] | None = ..., include_relationships: bool = ...) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:106: note:      Subclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:106: note:          def to_dict(self) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:186: error: Incompatible return value type (got "ColumnElement[bool]", expected "bool")  [return-value]
contexts\subjective\infrastructure\persistence\subjective_models.py:188: error: Signature of "to_dict" incompatible with supertype "BaseModel"  [override]
contexts\subjective\infrastructure\persistence\subjective_models.py:188: note:      Superclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:188: note:          def to_dict(self, exclude: list[str] | None = ..., include_relationships: bool = ...) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:188: note:      Subclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:188: note:          def to_dict(self) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:262: error: Signature of "to_dict" incompatible with supertype "BaseModel"  [override]
contexts\subjective\infrastructure\persistence\subjective_models.py:262: note:      Superclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:262: note:          def to_dict(self, exclude: list[str] | None = ..., include_relationships: bool = ...) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:262: note:      Subclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:262: note:          def to_dict(self) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:349: error: Incompatible return value type (got "ColumnElement[bool]", expected "bool")  [return-value]
contexts\subjective\infrastructure\persistence\subjective_models.py:357: error: Signature of "to_dict" incompatible with supertype "BaseModel"  [override]
contexts\subjective\infrastructure\persistence\subjective_models.py:357: note:      Superclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:357: note:          def to_dict(self, exclude: list[str] | None = ..., include_relationships: bool = ...) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:357: note:      Subclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:357: note:          def to_dict(self) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:425: error: Signature of "to_dict" incompatible with supertype "BaseModel"  [override]
contexts\subjective\infrastructure\persistence\subjective_models.py:425: note:      Superclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:425: note:          def to_dict(self, exclude: list[str] | None = ..., include_relationships: bool = ...) -> dict[str, Any]
contexts\subjective\infrastructure\persistence\subjective_models.py:425: note:      Subclass:
contexts\subjective\infrastructure\persistence\subjective_models.py:425: note:          def to_dict(self) -> dict[str, Any]
contexts\world\infrastructure\projections\world_projector.py:56: error: Too many arguments for "ProjectorMetrics"  [call-arg]
contexts\world\infrastructure\projections\world_projector.py:92: error: Incompatible types in "await" (actual type "str", expected type "Awaitable[Any]")  [misc]
contexts\world\infrastructure\projections\world_projector.py:92: error: Argument 2 to "subscribe" of "EventBus" has incompatible type "EventHandler"; expected "Callable[[DomainEvent, dict[str, Any]], None]"  [arg-type]
contexts\world\infrastructure\projections\world_projector.py:111: error: Too many arguments for "unsubscribe" of "EventBus"  [call-arg]
contexts\world\infrastructure\projections\world_projector.py:111: error: "unsubscribe" of "EventBus" does not return a value (it only ever returns None)  [func-returns-value]
contexts\world\infrastructure\projections\world_projector.py:138: error: "ProjectorMetrics" has no attribute "record_duplicate_event"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:142: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:178: error: "ProjectorMetrics" has no attribute "record_event_processed"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:184: error: "ProjectorMetrics" has no attribute "record_event_failed"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:192: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:223: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:248: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:273: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:298: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:329: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:353: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:366: error: Subclass of "Column[Any]" and "dict[Any, Any]" cannot exist: would have incompatible method signatures  [unreachable]
contexts\world\infrastructure\projections\world_projector.py:367: error: Incompatible types in assignment (expression has type "dict[Never, Never]", variable has type "Column[Any]")  [assignment]
contexts\world\infrastructure\projections\world_projector.py:374: error: Incompatible types in assignment (expression has type "dict[Any, Any]", variable has type "Column[Any]")  [assignment]
contexts\world\infrastructure\projections\world_projector.py:376: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\world\infrastructure\projections\world_projector.py:377: error: Incompatible types in assignment (expression has type "ColumnElement[int]", variable has type "Column[int]")  [assignment]
contexts\world\infrastructure\projections\world_projector.py:389: error: "WorldStateChanged" has no attribute "aggregate_id"  [attr-defined]
contexts\world\infrastructure\projections\world_projector.py:414: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\world\infrastructure\projections\world_projector.py:415: error: Incompatible types in assignment (expression has type "ColumnElement[int]", variable has type "Column[int]")  [assignment]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:80: error: Argument "actual_version" to "ConcurrencyException" has incompatible type "Column[str]"; expected "int"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:121: error: Argument 2 to "publish_event_transactionally" has incompatible type "Event"; expected "DomainEvent"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:154: error: Argument 2 to "and_" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:193: error: Argument 2 to "and_" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:229: error: Argument 2 to "and_" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:259: error: Argument 1 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:284: error: Argument 2 to "and_" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:317: error: Argument 1 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:362: error: Argument 1 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:516: error: Argument 1 to "_reconstruct_world_state_from_version_data" of "PostgresWorldStateRepository" has incompatible type "Column[Any]"; expected "dict[str, Any]"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:607: error: "type[WorldStateChanged]" has no attribute "rollback_performed"  [attr-defined]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:708: error: Argument 1 to "_reconstruct_world_state_from_version_data" of "PostgresWorldStateRepository" has incompatible type "ColumnElement[Any]"; expected "dict[str, Any]"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:718: error: "type[WorldStateChanged]" has no attribute "snapshot_restored"  [attr-defined]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:832: error: Argument "actual_version" to "ConcurrencyException" has incompatible type "Column[str]"; expected "int"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:860: error: Argument 2 to "publish_event_transactionally" has incompatible type "Event"; expected "DomainEvent"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:893: error: Argument 2 to "and_" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:969: error: "object" has no attribute "append"  [attr-defined]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:977: error: "object" has no attribute "append"  [attr-defined]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:1059: error: Argument 1 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:1068: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
contexts\world\infrastructure\persistence\postgres_world_state_repo.py:1164: error: Incompatible return value type (got "WorldState | None", expected "WorldState")  [return-value]
contexts\world\application\queries\world_queries.py:120: error: Unsupported operand types for >= ("int" and "None")  [operator]
contexts\world\application\queries\world_queries.py:120: note: Left operand is of type "float | None"
contexts\world\application\queries\world_queries.py:316: error: Argument "center_x" to "get_entities_in_area" of "WorldSliceReadModel" has incompatible type "float | None"; expected "float"  [arg-type]
contexts\world\application\queries\world_queries.py:317: error: Argument "center_y" to "get_entities_in_area" of "WorldSliceReadModel" has incompatible type "float | None"; expected "float"  [arg-type]
contexts\world\application\queries\world_queries.py:318: error: Argument "radius" to "get_entities_in_area" of "WorldSliceReadModel" has incompatible type "float | None"; expected "float"  [arg-type]
contexts\world\application\queries\world_queries.py:402: error: Statement is unreachable  [unreachable]
contexts\world\application\queries\world_queries.py:406: error: Unsupported operand types for - ("float" and "None")  [operator]
contexts\world\application\queries\world_queries.py:406: error: Unsupported operand types for - ("None" and "float")  [operator]
contexts\world\application\queries\world_queries.py:406: error: Unsupported left operand type for - ("None")  [operator]
contexts\world\application\queries\world_queries.py:406: note: Both left and right operands are unions
contexts\world\application\queries\world_queries.py:407: error: Unsupported operand types for + ("float" and "None")  [operator]
contexts\world\application\queries\world_queries.py:407: error: Unsupported operand types for + ("None" and "float")  [operator]
contexts\world\application\queries\world_queries.py:407: error: Unsupported left operand type for + ("None")  [operator]
contexts\world\application\queries\world_queries.py:407: note: Both left and right operands are unions
contexts\world\application\queries\world_queries.py:408: error: Unsupported operand types for - ("float" and "None")  [operator]
contexts\world\application\queries\world_queries.py:408: error: Unsupported operand types for - ("None" and "float")  [operator]
contexts\world\application\queries\world_queries.py:408: error: Unsupported left operand type for - ("None")  [operator]
contexts\world\application\queries\world_queries.py:408: note: Both left and right operands are unions
contexts\world\application\queries\world_queries.py:409: error: Unsupported operand types for + ("float" and "None")  [operator]
contexts\world\application\queries\world_queries.py:409: error: Unsupported operand types for + ("None" and "float")  [operator]
contexts\world\application\queries\world_queries.py:409: error: Unsupported left operand type for + ("None")  [operator]
contexts\world\application\queries\world_queries.py:409: note: Both left and right operands are unions
contexts\world\application\queries\world_queries.py:594: error: Incompatible types in assignment (expression has type "ColumnElement[bool]", variable has type "BinaryExpression[bool]")  [assignment]
contexts\world\application\queries\world_queries.py:687: error: "object" has no attribute "handle"  [attr-defined]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:694: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:695: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:696: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:697: error: Incompatible types in assignment (expression has type "str | str | str | str | str | str | str", variable has type "Column[str]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:699: error: Incompatible types in assignment (expression has type "str | str | str | str | str | str | str", variable has type "Column[str]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:701: error: Incompatible types in assignment (expression has type "str | str | str | str | str | str", variable has type "Column[str]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:702: error: Incompatible types in assignment (expression has type "str | None", variable has type "Column[str]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:703: error: Incompatible types in assignment (expression has type "dict[str, float]", variable has type "Column[Any]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:706: error: Incompatible types in assignment (expression has type "float", variable has type "Column[float]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:707: error: Incompatible types in assignment (expression has type "float", variable has type "Column[float]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:708: error: Incompatible types in assignment (expression has type "dict[str, Any]", variable has type "Column[Any]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:711: error: Incompatible types in assignment (expression has type "dict[str, str]", variable has type "Column[Any]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:714: error: Incompatible types in assignment (expression has type "dict[str, dict[str, Any]]", variable has type "Column[Any]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:715: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:716: error: Incompatible types in assignment (expression has type "int", variable has type "Column[str]")  [assignment]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:726: error: Argument 1 to "SubjectiveId" has incompatible type "Column[UUID]"; expected "UUID"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:743: error: Argument "focus_target" to "AwarenessState" has incompatible type "Column[str]"; expected "str | None"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:745: error: Argument 1 to "_deserialize_awareness_modifiers" of "SQLAlchemyTurnBriefRepository" has incompatible type "Column[Any]"; expected "dict[str, Any] | None"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:747: error: Argument "fatigue_level" to "AwarenessState" has incompatible type "Column[float]"; expected "float"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:748: error: Argument "stress_level" to "AwarenessState" has incompatible type "Column[float]"; expected "float"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:753: error: Argument 1 to "_deserialize_perception_capabilities" of "SQLAlchemyTurnBriefRepository" has incompatible type "Column[Any]"; expected "dict[str, Any] | None"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:758: error: Argument 1 to "_deserialize_visible_subjects" of "SQLAlchemyTurnBriefRepository" has incompatible type "Column[Any]"; expected "dict[str, Any] | None"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:764: error: Argument "entity_id" to "TurnBrief" has incompatible type "Column[str]"; expected "str"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:765: error: Argument "world_state_version" to "TurnBrief" has incompatible type "Column[int]"; expected "int"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:766: error: Argument "last_world_update" to "TurnBrief" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:771: error: Argument "known_threats" to "TurnBrief" has incompatible type "Column[Any] | dict[Never, Never]"; expected "dict[str, dict[str, Any]]"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:772: error: Argument "created_at" to "TurnBrief" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:773: error: Argument "updated_at" to "TurnBrief" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:774: error: Argument "last_perception_update" to "TurnBrief" has incompatible type "Column[datetime]"; expected "datetime"  [arg-type]
contexts\subjective\infrastructure\repositories\turn_brief_repository.py:775: error: Argument "version" to "TurnBrief" has incompatible type "Column[str]"; expected "int"  [arg-type]
contexts\orchestration\infrastructure\monitoring\metrics_middleware.py:370: error: Need type annotation for "_collectors" (hint: "_collectors: Dict[<type>, <type>] = ...")  [var-annotated]
src\infrastructure\observability.py:231: error: Incompatible default for argument "labels" (default has type "None", argument has type "dict[str, str]")  [assignment]
src\infrastructure\observability.py:231: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:231: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:245: error: Unsupported operand types for + ("str" and "float")  [operator]
src\infrastructure\observability.py:245: note: Left operand is of type "float | int | str"
src\infrastructure\observability.py:251: error: Incompatible default for argument "labels" (default has type "None", argument has type "dict[str, str]")  [assignment]
src\infrastructure\observability.py:251: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:251: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:267: error: Incompatible default for argument "labels" (default has type "None", argument has type "dict[str, str]")  [assignment]
src\infrastructure\observability.py:267: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:267: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:337: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
src\infrastructure\observability.py:465: error: Incompatible default for argument "jaeger_endpoint" (default has type "None", argument has type "str")  [assignment]
src\infrastructure\observability.py:465: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:465: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:468: error: Need type annotation for "span_history"  [var-annotated]
src\infrastructure\observability.py:494: error: Incompatible types in assignment (expression has type "None", variable has type "Tracer")  [assignment]
src\infrastructure\observability.py:497: error: Incompatible default for argument "parent_span_id" (default has type "None", argument has type "str")  [assignment]
src\infrastructure\observability.py:497: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:497: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:521: error: Incompatible default for argument "error" (default has type "None", argument has type "str")  [assignment]
src\infrastructure\observability.py:521: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:521: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:572: error: Need type annotation for "operation_times"  [var-annotated]
src\infrastructure\observability.py:573: error: Need type annotation for "operation_counts"  [var-annotated]
src\infrastructure\observability.py:574: error: Need type annotation for "error_counts"  [var-annotated]
src\infrastructure\observability.py:649: error: Need type annotation for "security_events"  [var-annotated]
src\infrastructure\observability.py:650: error: Need type annotation for "threat_counts"  [var-annotated]
src\infrastructure\observability.py:657: error: Incompatible default for argument "details" (default has type "None", argument has type "dict[str, Any]")  [assignment]
src\infrastructure\observability.py:657: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:657: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:684: error: Incompatible default for argument "details" (default has type "None", argument has type "dict[str, Any]")  [assignment]
src\infrastructure\observability.py:684: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:684: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:748: error: Need type annotation for "health_history"  [var-annotated]
src\infrastructure\observability.py:799: error: Incompatible types in assignment (expression has type "dict[str, object]", variable has type "dict[str, dict[str, Any]]")  [assignment]
src\infrastructure\observability.py:832: error: Dict entry 0 has incompatible type "str": "str"; expected "str": "dict[str, Any]"  [dict-item]
src\infrastructure\observability.py:836: error: Incompatible return value type (got "dict[str, Any] | bool", expected "bool")  [return-value]
src\infrastructure\observability.py:843: error: Incompatible default for argument "config" (default has type "None", argument has type "dict[str, Any]")  [assignment]
src\infrastructure\observability.py:843: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:843: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:853: error: Argument 2 to "TracingManager" has incompatible type "Any | None"; expected "str"  [arg-type]
src\infrastructure\observability.py:1057: error: Incompatible default for argument "operation_name" (default has type "None", argument has type "str")  [assignment]
src\infrastructure\observability.py:1057: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:1057: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
src\infrastructure\observability.py:1123: error: Incompatible default for argument "config" (default has type "None", argument has type "dict[str, Any]")  [assignment]
src\infrastructure\observability.py:1123: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
src\infrastructure\observability.py:1123: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\infrastructure\monitoring\tracing_middleware.py:103: error: Item "None" of "Tracer | None" has no attribute "start_as_current_span"  [union-attr]
contexts\orchestration\infrastructure\monitoring\tracing_middleware.py:130: error: Need type annotation for "response_carrier" (hint: "response_carrier: Dict[<type>, <type>] = ...")  [var-annotated]
contexts\orchestration\infrastructure\monitoring\tracing_middleware.py:342: error: Missing positional argument "instrumentation" in call to "get_excluded_urls"  [call-arg]
contexts\orchestration\infrastructure\monitoring\tracing_middleware.py:342: error: Argument "excluded_urls" to "instrument_app" of "FastAPIInstrumentor" has incompatible type "ExcludeList | list[Any]"; expected "str | None"  [arg-type]
contexts\orchestration\domain\services\enhanced_performance_tracker.py:158: error: Item "None" of "timedelta | None" has no attribute "total_seconds"  [union-attr]
contexts\orchestration\domain\services\enhanced_performance_tracker.py:196: error: Argument "success" to "record_phase_execution" of "PrometheusMetricsCollector" has incompatible type "float | Any"; expected "bool"  [arg-type]
contexts\orchestration\domain\services\enhanced_performance_tracker.py:198: error: Argument "events_processed" to "record_phase_execution" of "PrometheusMetricsCollector" has incompatible type "float | Any"; expected "int"  [arg-type]
contexts\orchestration\domain\services\enhanced_performance_tracker.py:199: error: Argument "events_generated" to "record_phase_execution" of "PrometheusMetricsCollector" has incompatible type "float | Any"; expected "int"  [arg-type]
contexts\orchestration\domain\services\enhanced_performance_tracker.py:419: error: Incompatible default for argument "time_window" (default has type "None", argument has type "timedelta")  [assignment]
contexts\orchestration\domain\services\enhanced_performance_tracker.py:419: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
contexts\orchestration\domain\services\enhanced_performance_tracker.py:419: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
contexts\orchestration\domain\services\enhanced_performance_tracker.py:430: error: Statement is unreachable  [unreachable]
contexts\orchestration\domain\services\enhanced_performance_tracker.py:531: error: "get_orchestrator_health" undefined in superclass  [misc]
contexts\orchestration\application\services\turn_orchestrator.py:151: error: "type[Turn]" has no attribute "create"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:178: error: "EnhancedPerformanceTracker" has no attribute "start_turn_monitoring"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:221: error: "TurnConfiguration" has no attribute "fail_fast_on_phase_failure"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:247: error: "TurnConfiguration" has no attribute "fail_fast_on_phase_failure"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:385: error: "EnhancedPerformanceTracker" has no attribute "stop_turn_monitoring"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:424: error: "Turn" has no attribute "participants"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:529: error: "SagaCoordinator" has no attribute "plan_compensation"; maybe "_plan_phase_compensation", "_plan_global_compensation", or "plan_compensation_strategy"?  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:537: error: "SagaCoordinator" has no attribute "execute_compensation"; maybe "execute_compensation_action", "_execute_compensation_by_type", or "active_compensations"?  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:543: error: "Turn" has no attribute "add_compensation_action"; maybe "compensation_actions" or "complete_compensation_action"?  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:624: error: "EnhancedPerformanceTracker" has no attribute "get_turn_metrics"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:663: error: "EnhancedPerformanceTracker" has no attribute "record_phase_metrics"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:691: error: "Turn" has no attribute "participants"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:712: error: "Turn" has no attribute "participants"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:736: error: "TurnConfiguration" has no attribute "max_participants"; maybe "participants" or "with_participants"?  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:738: error: "TurnConfiguration" has no attribute "max_participants"; maybe "participants" or "with_participants"?  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:770: error: "EnhancedPerformanceTracker" has no attribute "get_turn_status"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:784: error: "EnhancedPerformanceTracker" has no attribute "cleanup_turn_data"  [attr-defined]
contexts\orchestration\application\services\turn_orchestrator.py:802: error: "EnhancedPerformanceTracker" has no attribute "get_active_turn_count"  [attr-defined]
contexts\orchestration\api\turn_api.py:188: error: "type[TurnId]" has no attribute "parse"  [attr-defined]
contexts\orchestration\api\turn_api.py:227: error: "type[TurnId]" has no attribute "parse"  [attr-defined]
contexts\orchestration\api\turn_api.py:235: error: "type[TurnConfiguration]" has no attribute "from_dict"  [attr-defined]
contexts\orchestration\api\turn_api.py:323: error: "type[TurnId]" has no attribute "parse"  [attr-defined]
contexts\orchestration\api\turn_api.py:437: error: "type[TurnId]" has no attribute "parse"  [attr-defined]
contexts\orchestration\tests\test_end_to_end_validation.py:101: error: "object" has no attribute "append"  [attr-defined]
contexts\orchestration\tests\test_end_to_end_validation.py:102: error: Unsupported left operand type for + ("object")  [operator]
contexts\orchestration\tests\test_end_to_end_validation.py:103: error: Unsupported left operand type for + ("object")  [operator]
contexts\orchestration\tests\test_end_to_end_validation.py:104: error: Unsupported left operand type for + ("object")  [operator]
contexts\orchestration\tests\test_end_to_end_validation.py:113: error: "object" has no attribute "append"  [attr-defined]
contexts\orchestration\tests\test_end_to_end_validation.py:122: error: Unsupported operand types for + ("object" and "int")  [operator]
contexts\orchestration\tests\test_end_to_end_validation.py:218: error: Unexpected keyword argument "fail_fast_on_phase_failure" for "TurnConfiguration"  [call-arg]
contexts\orchestration\tests\test_end_to_end_validation.py:218: error: Unexpected keyword argument "max_participants" for "TurnConfiguration"; did you mean "participants"?  [call-arg]
contexts\orchestration\tests\test_end_to_end_validation.py:426: error: Unexpected keyword argument "fail_fast_on_phase_failure" for "TurnConfiguration"  [call-arg]
contexts\orchestration\tests\test_end_to_end_validation.py:519: error: Property "world_time_advance" defined in "TurnConfiguration" is read-only  [misc]
contexts\orchestration\tests\test_end_to_end_validation.py:837: error: Item "BaseException" of "TurnExecutionResult | BaseException" has no attribute "success"  [union-attr]
Found 1651 errors in 119 files (checked 213 source files)
core_platform\monitoring\metrics.py:128: error: Need type annotation for "_event_type_counters"  [var-annotated]
core_platform\monitoring\metrics.py:129: error: Need type annotation for "_topic_counters"  [var-annotated]
core_platform\config\settings.py:25: error: Name "BaseSettings" already defined (possibly by an import)  [no-redef]
core_platform\config\settings.py:26: error: Name "SettingsSourceCallable" already defined on line 23  [no-redef]
core_platform\config\settings.py:88: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:88: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:129: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:129: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:155: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:155: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:216: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:216: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:257: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:257: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:287: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:287: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:343: error: Extra keys ("env_prefix", "case_sensitive") for TypedDict "ConfigDict"  [typeddict-unknown-key]
core_platform\config\settings.py:343: error: Incompatible types in assignment (expression has type "ConfigDict", base class "BaseSettings" defined the type as "SettingsConfigDict")  [assignment]
core_platform\config\settings.py:353: error: Incompatible return value type (got "tuple[Callable[[], dict[str, Any]], Callable[[], dict[str, Any]], Callable[[BaseSettings], dict[str, Any]], Callable[[], dict[str, Any]]]", expected "tuple[Callable[[], dict[str, Any]], ...]")  [return-value]
core_platform\config\settings.py:545: error: Need type annotation for "config_data" (hint: "config_data: Dict[<type>, <type>] = ...")  [var-annotated]
core_platform\persistence\database.py:122: error: Argument 1 to "contextmanager" has incompatible type "Callable[[DatabaseManager], Session]"; expected "Callable[[DatabaseManager], Iterator[Never]]"  [arg-type]
core_platform\persistence\database.py:123: error: The return type of a generator function should be "Generator" or one of its supertypes  [misc]
core_platform\persistence\database.py:130: error: "DatabaseMetrics" has no attribute "record_session_created"; maybe "record_connection_created"?  [attr-defined]
core_platform\persistence\database.py:135: error: "DatabaseMetrics" has no attribute "record_session_error"  [attr-defined]
core_platform\persistence\database.py:140: error: "DatabaseMetrics" has no attribute "record_session_closed"; maybe "record_connection_closed"?  [attr-defined]
core_platform\persistence\database.py:150: error: "DatabaseMetrics" has no attribute "record_session_created"; maybe "record_connection_created"?  [attr-defined]
core_platform\persistence\database.py:155: error: "DatabaseMetrics" has no attribute "record_session_error"  [attr-defined]
core_platform\persistence\database.py:160: error: "DatabaseMetrics" has no attribute "record_session_closed"; maybe "record_connection_closed"?  [attr-defined]
core_platform\persistence\database.py:174: error: Need type annotation for "session"  [var-annotated]
core_platform\persistence\database.py:179: error: "object" has no attribute "append"  [attr-defined]
core_platform\persistence\database.py:190: error: "object" has no attribute "append"  [attr-defined]
core_platform\persistence\database.py:197: error: "Pool" has no attribute "size"  [attr-defined]
core_platform\persistence\database.py:198: error: "Pool" has no attribute "checkedin"  [attr-defined]
core_platform\persistence\database.py:199: error: "Pool" has no attribute "checkedout"  [attr-defined]
core_platform\persistence\database.py:200: error: "Pool" has no attribute "overflow"  [attr-defined]
core_platform\persistence\database.py:201: error: "Pool" has no attribute "invalidated"; maybe "_invalidate"?  [attr-defined]
core_platform\persistence\database.py:222: error: "DatabaseMetrics" has no attribute "record_connection_checkout"; maybe "record_connection_created" or "record_connection_closed"?  [attr-defined]
core_platform\persistence\database.py:226: error: "DatabaseMetrics" has no attribute "record_connection_checkin"; maybe "record_connection_closed" or "record_connection_created"?  [attr-defined]
core_platform\persistence\database.py:242: error: Need type annotation for "session"  [var-annotated]
core_platform\persistence\database.py:276: error: Incompatible return value type (got "_GeneratorContextManager[Never]", expected "Session")  [return-value]
core_platform\persistence\database.py:281: error: Incompatible return value type (got "_AsyncGeneratorContextManager[AsyncSession]", expected "AsyncSession")  [return-value]
core_platform\messaging\kafka_client.py:24: error: Name "KafkaError" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:27: error: Name "KafkaConnectionError" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:30: error: Name "KafkaTimeoutError" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:33: error: Name "AIOKafkaProducer" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:46: error: Name "AIOKafkaConsumer" already defined (possibly by an import)  [no-redef]
core_platform\messaging\kafka_client.py:139: error: "MessagingMetrics" has no attribute "record_connection_established"  [attr-defined]
core_platform\messaging\kafka_client.py:143: error: "MessagingMetrics" has no attribute "record_connection_failed"  [attr-defined]
core_platform\messaging\kafka_client.py:170: error: "MessagingMetrics" has no attribute "record_connection_closed"  [attr-defined]
core_platform\messaging\kafka_client.py:199: error: "MessagingMetrics" has no attribute "record_message_publish_start"  [attr-defined]
core_platform\messaging\kafka_client.py:209: error: Item "None" of "Any | None" has no attribute "send_and_wait"  [union-attr]
core_platform\messaging\kafka_client.py:217: error: "MessagingMetrics" has no attribute "record_message_published"; maybe "record_message_sent" or "record_message_received"?  [attr-defined]
core_platform\messaging\kafka_client.py:221: error: "MessagingMetrics" has no attribute "record_message_publish_failed"; maybe "record_message_send_failed"?  [attr-defined]
core_platform\messaging\kafka_client.py:245: error: "MessagingMetrics" has no attribute "record_batch_publish_start"  [attr-defined]
core_platform\messaging\kafka_client.py:249: error: List item 0 has incompatible type "None"; expected "str"  [list-item]
core_platform\messaging\kafka_client.py:250: error: List item 0 has incompatible type "None"; expected "dict[str, str]"  [list-item]
core_platform\messaging\kafka_client.py:259: error: Item "None" of "Any | None" has no attribute "send"  [union-attr]
core_platform\messaging\kafka_client.py:270: error: "MessagingMetrics" has no attribute "record_batch_published"  [attr-defined]
core_platform\messaging\kafka_client.py:274: error: "MessagingMetrics" has no attribute "record_batch_publish_failed"  [attr-defined]
core_platform\messaging\kafka_client.py:361: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\kafka_client.py:375: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\kafka_client.py:386: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\kafka_client.py:451: error: "MessagingMetrics" has no attribute "record_message_processed"; maybe "record_message_received" or "record_message_sent"?  [attr-defined]
core_platform\messaging\kafka_client.py:454: error: "MessagingMetrics" has no attribute "record_message_processing_failed"; maybe "record_message_send_failed" or "record_message_received"?  [attr-defined]
core_platform\messaging\kafka_client.py:459: error: "MessagingMetrics" has no attribute "record_consumer_error"  [attr-defined]
core_platform\messaging\kafka_client.py:484: error: Incompatible types in assignment (expression has type "Any | None", target has type "str")  [assignment]
core_platform\messaging\kafka_client.py:485: error: Incompatible types in assignment (expression has type "Any | None", target has type "str")  [assignment]
core_platform\messaging\kafka_client.py:505: error: Statement is unreachable  [unreachable]
core_platform\persistence\models.py:44: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:45: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\persistence\models.py:49: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:50: error: Incompatible types in assignment (expression has type "None", variable has type "Column[datetime]")  [assignment]
core_platform\persistence\models.py:201: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:202: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\persistence\models.py:203: error: Incompatible types in assignment (expression has type "None", variable has type "Column[str]")  [assignment]
core_platform\persistence\models.py:207: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\models.py:208: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\persistence\models.py:209: error: Incompatible types in assignment (expression has type "ColumnElement[str]", variable has type "Column[str]")  [assignment]
core_platform\persistence\models.py:213: error: Incompatible return value type (got "ColumnElement[bool]", expected "bool")  [return-value]
core_platform\persistence\models.py:257: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\messaging\event_bus.py:88: error: Incompatible default for argument "handler_id" (default has type "None", argument has type "str")  [assignment]
core_platform\messaging\event_bus.py:88: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
core_platform\messaging\event_bus.py:88: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
core_platform\messaging\event_bus.py:321: error: Argument "message_handler" to "subscribe" of "KafkaClient" has incompatible type "Callable[[dict[str, Any], dict[str, Any]], Coroutine[Any, Any, None]]"; expected "Callable[[dict[str, Any], dict[str, Any]], None]"  [arg-type]
core_platform\messaging\event_bus.py:418: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\event_bus.py:422: error: "object" has no attribute "append"  [attr-defined]
core_platform\security\authentication.py:97: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\security\authentication.py:98: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\security\authentication.py:98: error: Argument 2 to "_hash_password" of "User" has incompatible type "Column[str]"; expected "str"  [arg-type]
core_platform\security\authentication.py:99: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:103: error: Argument 2 to "_hash_password" of "User" has incompatible type "Column[str]"; expected "str"  [arg-type]
core_platform\security\authentication.py:108: error: Statement is unreachable  [unreachable]
core_platform\security\authentication.py:109: error: Incompatible return value type (got "ColumnElement[bool]", expected "bool")  [return-value]
core_platform\security\authentication.py:113: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:119: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
core_platform\security\authentication.py:120: error: Incompatible types in assignment (expression has type "None", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:124: error: Incompatible types in assignment (expression has type "ColumnElement[int]", variable has type "Column[int]")  [assignment]
core_platform\security\authentication.py:131: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\security\authentication.py:132: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:140: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\security\authentication.py:141: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:366: error: Incompatible types in assignment (expression has type "int", variable has type "Column[int]")  [assignment]
core_platform\security\authentication.py:367: error: Incompatible types in assignment (expression has type "None", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:368: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:369: error: Incompatible types in assignment (expression has type "str | None", variable has type "Column[str]")  [assignment]
core_platform\security\authentication.py:441: error: Argument 2 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\security\authentication.py:454: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\security\authentication.py:455: error: Incompatible types in assignment (expression has type "str", variable has type "Column[str]")  [assignment]
core_platform\security\authentication.py:456: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:459: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:515: error: Argument 2 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\security\authentication.py:521: error: Incompatible types in assignment (expression has type "datetime", variable has type "Column[datetime]")  [assignment]
core_platform\security\authentication.py:529: error: Argument "email" to "UserInfo" has incompatible type "Column[str]"; expected "str"  [arg-type]
core_platform\security\authentication.py:530: error: Argument "username" to "UserInfo" has incompatible type "Column[str]"; expected "str"  [arg-type]
core_platform\security\authentication.py:531: error: Argument "full_name" to "UserInfo" has incompatible type "Column[str]"; expected "str"  [arg-type]
core_platform\security\authentication.py:532: error: Argument "is_active" to "UserInfo" has incompatible type "Column[bool]"; expected "bool"  [arg-type]
core_platform\security\authentication.py:533: error: Argument "is_verified" to "UserInfo" has incompatible type "Column[bool]"; expected "bool"  [arg-type]
core_platform\security\authentication.py:562: error: Argument 2 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\security\authentication.py:568: error: Incompatible types in assignment (expression has type "bool", variable has type "Column[bool]")  [assignment]
core_platform\persistence\repository.py:18: error: Module "core_platform.monitoring.metrics" has no attribute "RepositoryMetrics"  [attr-defined]
core_platform\persistence\repository.py:373: error: Argument 1 to "filter" of "Query" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\persistence\repository.py:449: error: Argument 1 to "where" of "Select" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\persistence\repository.py:475: error: Argument 1 to "where" of "Select" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\persistence\migrations_utils.py:41: error: Incompatible types in assignment (expression has type "Path", variable has type "str | None")  [assignment]
core_platform\persistence\migrations_utils.py:215: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\outbox.py:216: error: Need type annotation for "events_by_topic" (hint: "events_by_topic: Dict[<type>, <type>] = ...")  [var-annotated]
core_platform\messaging\outbox.py:262: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:278: error: Incompatible return value type (got "Sequence[OutboxEvent]", expected "list[OutboxEvent]")  [return-value]
core_platform\messaging\outbox.py:313: error: Argument "topic" to "publish_batch" of "KafkaClient" has incompatible type "Column[str]"; expected "str"  [arg-type]
core_platform\messaging\outbox.py:313: error: Argument "messages" to "publish_batch" of "KafkaClient" has incompatible type "list[Column[Any]]"; expected "list[dict[str, Any]]"  [arg-type]
core_platform\messaging\outbox.py:313: error: Argument "keys" to "publish_batch" of "KafkaClient" has incompatible type "list[Column[str]]"; expected "list[str] | None"  [arg-type]
core_platform\messaging\outbox.py:313: error: Argument "headers" to "publish_batch" of "KafkaClient" has incompatible type "list[dict[str, Column[str] | str | None]]"; expected "list[dict[str, str]] | None"  [arg-type]
core_platform\messaging\outbox.py:369: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:390: error: Argument 1 to "where" of "Select" has incompatible type "bool"; expected "ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:397: error: Argument 1 to "and_" has incompatible type "bool"; expected "Literal[True] | ColumnElement[bool] | _HasClauseElement[bool] | SQLCoreOperations[bool] | ExpressionElementRole[bool] | TypedColumnsClauseRole[bool] | Callable[[], ColumnElement[bool]] | LambdaElement"  [arg-type]
core_platform\messaging\outbox.py:428: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\outbox.py:438: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\outbox.py:446: error: "object" has no attribute "append"  [attr-defined]
core_platform\messaging\outbox.py:455: error: "object" has no attribute "append"  [attr-defined]
core_platform\validation\e2e_platform_validator.py:485: error: No overload variant of "execute" of "Session" matches argument type "str"  [call-overload]
core_platform\validation\e2e_platform_validator.py:485: note: Possible overload variants:
core_platform\validation\e2e_platform_validator.py:485: note:     def [_T] execute(self, statement: TypedReturnsRows[_T], params: Sequence[Mapping[str, Any]] | Mapping[str, Any] | None = ..., *, execution_options: _OrmKnownExecutionOptions | Mapping[str, Any] = ..., bind_arguments: dict[str, Any] | None = ..., _parent_execute_state: Any | None = ..., _add_event: Any | None = ...) -> Result[_T]
core_platform\validation\e2e_platform_validator.py:485: note:     def execute(self, statement: UpdateBase, params: Sequence[Mapping[str, Any]] | Mapping[str, Any] | None = ..., *, execution_options: _OrmKnownExecutionOptions | Mapping[str, Any] = ..., bind_arguments: dict[str, Any] | None = ..., _parent_execute_state: Any | None = ..., _add_event: Any | None = ...) -> CursorResult[Any]
core_platform\validation\e2e_platform_validator.py:485: note:     def execute(self, statement: Executable, params: Sequence[Mapping[str, Any]] | Mapping[str, Any] | None = ..., *, execution_options: _OrmKnownExecutionOptions | Mapping[str, Any] = ..., bind_arguments: dict[str, Any] | None = ..., _parent_execute_state: Any | None = ..., _add_event: Any | None = ...) -> Result[Any]
core_platform\validation\e2e_platform_validator.py:520: error: Unsupported operand types for < ("int" and "None")  [operator]
core_platform\validation\e2e_platform_validator.py:520: note: Left operand is of type "Any | None"
Found 139 errors in 11 files (checked 25 source files)
src\core\error_handler.py: error: Source file found twice under different module names: "src.core.error_handler" and "core.error_handler"
src\core\error_handler.py: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#mapping-file-paths-to-modules for more info
src\core\error_handler.py: note: Common resolutions include: a) adding `__init__.py` somewhere, b) using `--explicit-package-bases` or adjusting MYPYPATH
Found 1 error in 1 file (errors prevented further checking)
tests\integration\api\test_functionality.py:203: error: Unsupported target for indexed assignment ("object")  [index]
tests\integration\api\test_functionality.py:232: error: Value of type "object" is not indexable  [index]
Found 2 errors in 1 file (checked 5 source files)
