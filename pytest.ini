[pytest]
asyncio_mode = auto
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    -v
    -p pytest_asyncio
    --tb=short
    --strict-markers
    --strict-config
    --durations=10
    --junitxml=reports/test-results/pytest-report.xml
timeout = 120
timeout_method = thread
markers =
    slow: marks tests as slow (> 1000ms / 1s)
    medium: marks tests as medium speed (100ms - 1000ms)
    fast: marks tests as fast (< 100ms)
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    asyncio: marks tests as async tests
    character: marks tests as character-related tests
    story: marks tests as story generation tests
    narrative: marks tests as narrative tests
    system: marks tests as system tests
    e2e: marks tests as end-to-end tests
    performance: marks tests as performance tests
    security: marks tests as security tests
    knowledge: marks tests as knowledge management feature tests
    requires_services: marks tests requiring external services (PostgreSQL, Kafka)
    smoke: marks lightweight smoke tests exercised by scripts/run_tests.py --mode all
    timeout: marks tests with custom timeout requirements
