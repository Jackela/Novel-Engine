============================= test session starts =============================
platform win32 -- Python 3.12.6, pytest-8.4.2, pluggy-1.5.0
rootdir: D:\Code\Novel-Engine
configfile: pytest.ini
plugins: asyncio-1.1.0, cov-4.1.0, mock-3.12.0, anyio-4.8.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 2288 items / 7 errors

<Package Novel-Engine>
  <Dir ai_testing>
    <Dir scripts>
      <Module test_fixes.py>
        <Function test_fixes>
    <Module test_real_ai_generation.py>
      <Function test_real_ai_generation>
    <Dir test_scenarios>
      <Module simple_validation_test.py>
        <Function test_framework_effectiveness>
    <Module test_wave_mode_improvements.py>
      <Function test_improvements>
    <Dir tests>
      <Dir integration>
        <Module test_comprehensive_integration.py>
          <Class TestServiceHealthChecks>
            <Coroutine test_orchestrator_health>
            <Coroutine test_all_services_health>
          <Class TestAPITestingIntegration>
            <Coroutine test_single_api_endpoint>
            <Coroutine test_api_performance_testing>
          <Class TestUITestingIntegration>
            <Coroutine test_basic_ui_interaction>
          <Class TestAIQualityIntegration>
            <Coroutine test_ai_quality_assessment>
          <Class TestComprehensiveOrchestration>
            <Coroutine test_minimal_comprehensive_test>
            <Coroutine test_comprehensive_test_status_tracking>
          <Class TestResultsAggregation>
            <Coroutine test_health_aggregation>
          <Class TestNotificationIntegration>
            <Coroutine test_notification_health>
          <Class TestSystemResilience>
            <Coroutine test_invalid_api_endpoint>
            <Coroutine test_active_sessions_tracking>
          <Class TestPerformanceAndScaling>
            <Coroutine test_concurrent_test_execution>
          <Coroutine test_full_system_integration>
  <Package contexts>
    <Package world>
      <Package application>
        <Module validation_test.py>
          <Function test_imports>
          <Function test_command_creation>
          <Function test_use_case_structure>
          <Function test_clean_architecture_compliance>
  <Module integration_validation_test.py>
    <Function test_director_agent_lifecycle>
    <Function test_event_bus_coordination>
    <Function test_memory_integration>
    <Function test_configuration_integration>
  <Module phase1_validation_test.py>
    <Function test_director_agent_import_and_instantiation>
    <Function test_persona_agent_import_and_instantiation>
    <Function test_event_bus_integration>
    <Function test_config_loading>
    <Function test_chronicler_agent_compatibility>
    <Function test_modular_components_availability>
  <Package tests>
    <Package integration>
      <Package api>
        <Module test_fixed_api.py>
          <Function test_minimal_api>
        <Module test_functionality.py>
          <Function test_gemini_api_direct>
          <Function test_api_endpoints>
        <Module test_simple.py>
          <Function test_gemini_direct>
          <Function test_api_server>
      <Package bridges>
        <Module test_components.py>
          <Coroutine test_bridge_infrastructure>
          <Coroutine test_system_integration>
        <Module test_multi_agent.py>
          <Coroutine test_bridge_initialization>
          <Coroutine test_ai_systems_initialization>
          <Coroutine test_agent_registration>
          <Coroutine test_dialogue_management>
          <Coroutine test_enhanced_turn_execution>
          <Coroutine test_performance_tracking>
          <Coroutine test_cost_and_budget_management>
          <Coroutine test_component_integration>
          <Coroutine test_backward_compatibility>
      <Package core>
        <Module test_modular_components.py>
          <Class TestPersonaAgentModularComponents>
            <Coroutine test_persona_agent_initialization>
            <Coroutine test_decision_engine_component>
            <Coroutine test_character_data_manager_component>
            <Function test_persona_memory_manager_component>
            <Coroutine test_llm_client_component>
          <Class TestInteractionEngineModularComponents>
            <Function test_interaction_engine_initialization>
            <Coroutine test_interaction_validator_component>
            <Coroutine test_queue_manager_component>
            <Coroutine test_interaction_processing_pipeline>
          <Class TestMultiAgentBridgeModularComponents>
            <Function test_enhanced_bridge_initialization>
            <Coroutine test_dialogue_manager_component>
            <Coroutine test_llm_batch_processor_component>
            <Function test_cost_tracker_component>
            <Coroutine test_bridge_agent_coordination>
          <Class TestModularComponentIntegration>
            <Coroutine test_persona_agent_with_interaction_engine>
            <Coroutine test_full_modular_system_coordination>
          <Class TestModularComponentPerformance>
            <Coroutine test_persona_agent_decision_performance>
            <Coroutine test_interaction_engine_throughput>
        <Module test_systems.py>
          <Coroutine test_logging_system>
          <Coroutine test_error_handling_system>
          <Coroutine test_integration>
        <Module test_wave2_components.py>
          <Coroutine test_component_initialization>
          <Coroutine test_modular_director_agent>
          <Coroutine test_component_protocols>
          <Coroutine test_component_architecture>
      <Package frontend>
        <Module test_simple.py>
          <Function test_frontend_basic>
      <Package interactions>
        <Module test_simple.py>
          <Coroutine test_engine_initialization>
          <Coroutine test_dialogue_interaction>
          <Coroutine test_cooperation_interaction>
          <Coroutine test_engine_statistics>
      <Module test_character_context_integration.py>
        <Class TestCharacterContextIntegration>
          <Function test_character_domain_model_creation>
          <Function test_character_value_objects_validation>
          <Function test_core_abilities_calculations>
          <Coroutine test_character_application_service_create_character>
          <Coroutine test_character_application_service_duplicate_name_validation>
          <Function test_create_character_command_validation>
          <Coroutine test_character_stats_updates>
          <Coroutine test_character_level_up>
          <Coroutine test_character_healing_and_damage>
          <Coroutine test_character_query_operations>
          <Function test_character_skills_system>
          <Function test_character_domain_events>
          <Function test_character_business_rules>
          <Function test_character_export_import_data>
        <Class TestCharacterRepositoryIntegration>
          <Function test_character_orm_models_import>
          <Function test_sqlalchemy_character_repository_import>
      <Module test_e2e_turn_orchestration.py>
        <Class TestTurnOrchestrationE2E>
          <Coroutine test_complete_turn_orchestration_e2e>
          <Coroutine test_turn_orchestration_with_validation_errors>
          <Coroutine test_turn_orchestration_async_execution>
        <Class TestTurnOrchestrationErrorHandling>
          <Coroutine test_database_connection_failure>
          <Coroutine test_invalid_character_references>
          <Coroutine test_concurrent_turn_execution>
      <Module test_world_api_integration.py>
        <Class TestWorldAPIIntegration>
          <Function test_world_router_import>
          <Function test_world_delta_endpoint_structure>
          <Function test_world_slice_endpoint_structure>
          <Function test_world_summary_endpoint_structure>
          <Function test_world_history_endpoint_structure>
          <Function test_world_validate_endpoint_structure>
          <Function test_world_id_parameter_validation>
          <Function test_world_endpoints_http_methods>
        <Class TestAPIServerIntegration>
          <Function test_api_server_world_router_integration>
    <Package performance>
      <Module test_llm_performance.py>
        <Coroutine test_async_llm_client_performance>
        <Function test_persona_agent_patch>
        <Coroutine test_concurrent_agent_performance>
    <Dir security>
      <Module test_comprehensive_security.py>
        <Class TestAuthentication>
          <Coroutine test_jwt_token_validation>
          <Coroutine test_password_security_requirements>
          <Coroutine test_brute_force_protection>
          <Coroutine test_token_expiration>
        <Class TestAuthorization>
          <Coroutine test_role_based_access_control>
          <Coroutine test_permission_escalation_prevention>
        <Class TestInputValidation>
          <Function test_sql_injection_detection>
          <Function test_xss_detection>
          <Function test_command_injection_detection>
          <Function test_input_sanitization>
        <Class TestRateLimiting>
          <Coroutine test_rate_limit_enforcement>
          <Coroutine test_ddos_detection>
          <Coroutine test_ip_whitelist>
        <Class TestSecurityHeaders>
          <Function test_security_headers_configuration>
        <Class TestVulnerabilityAssessment>
          <Coroutine test_owasp_top_10_protection>
          <Coroutine test_information_disclosure_prevention>
          <Coroutine test_session_security>
        <Class TestSecurityMonitoring>
          <Coroutine test_security_event_logging>
          <Coroutine test_audit_trail>
        <Class TestSecurityPerformance>
          <Coroutine test_rate_limiting_performance>
          <Coroutine test_input_validation_performance>
        <Class TestSecurityIntegration>
          <Coroutine test_end_to_end_security_flow>
    <Module test_ai_intelligence_integration.py>
      <Class TestAIIntelligenceIntegration>
        <Coroutine test_integration_startup_success>
        <Coroutine test_integration_startup_traditional_only>
        <Coroutine test_integration_shutdown>
        <Coroutine test_character_action_processing_traditional>
        <Coroutine test_character_action_processing_ai_enhanced>
        <Coroutine test_character_action_fallback_mechanism>
        <Coroutine test_story_generation_traditional>
        <Coroutine test_story_generation_ai_enhanced>
        <Coroutine test_system_status_retrieval>
        <Coroutine test_performance_tracking>
        <Coroutine test_error_handling_and_recovery>
        <Coroutine test_feature_gate_functionality>
        <Coroutine test_cross_system_event_coordination>
        <Coroutine test_integration_mode_switching>
        <Coroutine test_timeout_handling>
        <Coroutine test_analytics_integration>
        <Coroutine test_concurrent_operations>
        <Coroutine test_memory_and_cleanup>
      <Class TestPerformanceValidation>
        <Coroutine test_response_time_requirements>
        <Coroutine test_throughput_capacity>
        <Coroutine test_resource_utilization>
    <Module test_api_endpoints_comprehensive.py>
      <Class TestHealthEndpoints>
        <Function test_root_endpoint_returns_storyforge_branding>
        <Function test_health_endpoint_basic_functionality>
        <Function test_system_status_endpoint>
        <Function test_policy_endpoint>
      <Class TestCharacterEndpoints>
        <Function test_characters_list_returns_generic_characters>
        <Function test_character_detail_pilot>
        <Function test_character_detail_scientist>
        <Function test_character_detail_engineer>
        <Function test_character_detail_nonexistent>
        <Function test_character_detail_legacy_branded_characters>
        <Function test_enhanced_character_endpoint>
      <Class TestSimulationEndpoints>
        <Function test_simulation_with_generic_characters>
        <Function test_simulation_minimum_characters_validation>
        <Function test_simulation_maximum_characters_validation>
        <Function test_simulation_with_all_generic_characters>
        <Function test_simulation_story_quality>
        <Function test_simulation_with_custom_setting_scenario>
      <Class TestCampaignEndpoints>
        <Function test_campaigns_list_endpoint>
        <Function test_campaign_creation_with_generic_theme>
      <Class TestErrorHandlingAndEdgeCases>
        <Function test_invalid_json_request>
        <Function test_missing_required_fields>
        <Function test_empty_character_list>
        <Function test_nonexistent_character_in_simulation>
        <Function test_rate_limiting_compliance>
        <Function test_cors_headers_present>
      <Class TestSecurityAndValidation>
        <Function test_input_sanitization>
        <Function test_sql_injection_prevention>
        <Function test_excessive_input_length_handling>
      <Class TestPerformanceAndLoad>
        <Function test_response_time_health_check>
        <Function test_response_time_character_list>
        <Function test_simulation_execution_time>
        <Function test_concurrent_requests_handling>
      <Class TestAPIDocumentation>
        <Function test_openapi_schema_accessibility>
        <Function test_redoc_documentation_accessibility>
    <Module test_character_system_comprehensive.py>
      <Class TestCharacterLoading>
        <Function test_all_generic_characters_loadable>
        <Function test_character_directory_structure>
        <Function test_character_metadata_validation>
        <Function test_no_branded_content_in_characters>
        <Function test_character_load_error_handling>
        <Function test_character_context_loading>
      <Class TestGenericCharacterProfiles>
        <Function test_pilot_character_profile>
        <Function test_scientist_character_profile>
        <Function test_engineer_character_profile>
        <Function test_test_character_profile>
      <Class TestCharacterStatistics>
        <Function test_combat_stats_validity>
        <Function test_psychological_profile_validity>
        <Function test_equipment_completeness>
        <Function test_character_relationships>
      <Class TestCharacterFactory>
        <Function test_character_factory_initialization>
        <Function test_character_creation_validation>
        <Function test_character_template_validation>
      <Class TestCharacterMemorySystem>
        <Function test_character_memory_initialization>
        <Function test_memory_persistence_across_sessions>
        <Function test_memory_log_format>
      <Class TestCharacterInteractions>
        <Function test_character_decision_making>
        <Function test_character_context_awareness>
        <Function test_character_personality_consistency>
        <Function test_multi_character_simulation>
      <Class TestPerformanceAndScalability>
        <Function test_character_loading_performance>
        <Function test_multiple_character_memory_usage>
        <Function test_concurrent_character_operations>
      <Class TestCharacterValidation>
        <Function test_character_data_consistency>
        <Function test_character_balance_validation>
        <Function test_sci_fi_theme_consistency>
    <Module test_data_models.py>
      <Class TestSacredMemoryItem>
        <Function test_memory_item_creation_blessed_by_omnissiah>
        <Function test_memory_item_validation_blessed_by_purity>
        <Function test_memory_item_bounds_sanctified_by_constraints>
      <Class TestSacredCharacterIdentity>
        <Function test_character_identity_creation_blessed_by_essence>
        <Function test_character_identity_validation_blessed_by_requirements>
      <Class TestSacredPhysicalCondition>
        <Function test_physical_condition_creation_blessed_by_health>
        <Function test_physical_condition_health_assessment_blessed_by_logic>
      <Class TestSacredEquipmentItem>
        <Function test_equipment_item_creation_blessed_by_gear>
        <Function test_equipment_item_validation_blessed_by_naming>
        <Function test_equipment_item_bounds_sanctified_by_limits>
        <Function test_equipment_functionality_blessed_by_condition>
      <Class TestSacredEquipmentState>
        <Function test_equipment_state_creation_blessed_by_inventory>
        <Function test_equipment_combat_effectiveness_blessed_by_calculation>
        <Function test_equipment_empty_combat_blessed_by_fallback>
      <Class TestSacredRelationshipState>
        <Function test_relationship_creation_blessed_by_bonds>
        <Function test_relationship_validation_blessed_by_requirements>
        <Function test_relationship_bounds_sanctified_by_limits>
        <Function test_relationship_interaction_update_blessed_by_evolution>
      <Class TestSacredCharacterState>
        <Function test_character_state_creation_blessed_by_completeness>
        <Function test_character_combat_readiness_blessed_by_calculation>
      <Class TestSacredDynamicContext>
        <Function test_dynamic_context_creation_blessed_by_completeness>
        <Function test_dynamic_context_validation_blessed_by_requirements>
        <Function test_dynamic_context_memory_retrieval_blessed_by_filtering>
        <Function test_dynamic_context_json_serialization_blessed_by_persistence>
      <Class TestSacredInteractionStructures>
        <Function test_character_interaction_creation_blessed_by_events>
        <Function test_character_interaction_validation_blessed_by_participants>
      <Class TestSacredValidationFunctions>
        <Function test_validate_blessed_data_model_success>
        <Function test_validate_blessed_data_model_failure>
      <Class TestSacredPerformance>
        <Function test_memory_item_creation_performance_blessed_by_speed>
    <Module test_director_agent.py>
      <UnitTestCase TestDirectorAgent>
        <TestCaseFunction test_handle_agent_action>
        <TestCaseFunction test_handle_agent_action_with_no_action>
        <TestCaseFunction test_initialization>
        <TestCaseFunction test_run_turn_emits_event>
    <Module test_enhanced_bridge.py>
      <Class TestBridgeConfiguration>
        <Function test_default_configuration>
        <Function test_custom_configuration>
      <Class TestEnhancedMultiAgentBridge>
        <Function test_bridge_initialization>
        <Coroutine test_bridge_component_initialization>
        <Coroutine test_enhanced_turn_execution_no_agents>
        <Coroutine test_enhanced_turn_execution_with_agents>
        <Function test_request_priority_determination>
        <Coroutine test_bridge_status>
        <Function test_execution_time_calculation>
        <Coroutine test_bridge_shutdown>
        <Coroutine test_context_building>
      <Class TestBridgeFactory>
        <Coroutine test_create_enhanced_bridge_success>
        <Coroutine test_create_enhanced_bridge_failure>
      <Class TestBridgeIntegration>
        <Coroutine test_dialogue_manager_integration>
        <Coroutine test_performance_monitoring>
    <Module test_error_handler.py>
      <Class TestErrorContext>
        <Function test_error_context_creation>
      <Class TestCentralizedErrorHandler>
        <Function test_error_handler_initialization>
        <Coroutine test_error_handling_basic>
        <Function test_error_severity_detection>
        <Function test_error_category_detection>
        <Function test_recovery_strategy_selection>
        <Coroutine test_error_recovery_retry>
        <Coroutine test_error_deduplication>
        <Function test_error_statistics>
        <Coroutine test_circuit_breaker>
      <Class TestGlobalErrorHandler>
        <Coroutine test_global_error_handler>
    <Module test_event_bus.py>
      <UnitTestCase TestEventBus>
        <TestCaseFunction test_callback_exception_handling>
        <TestCaseFunction test_emit_to_unsubscribed_event>
        <TestCaseFunction test_multiple_subscribers>
        <TestCaseFunction test_subscribe_and_emit>
    <Module test_event_integration.py>
      <UnitTestCase TestEventIntegration>
        <TestCaseFunction test_full_turn_event_flow>
    <Module test_foundation.py>
      <Class TestLegalFoundation>
        <Function test_legal_file_exists>
        <Function test_legal_file_content>
        <Function test_legal_fan_mode_compliance>
        <Function test_notice_file_exists>
        <Function test_notice_file_content>
      <Class TestConfigurationFoundation>
        <Function test_settings_yaml_exists>
        <Function test_settings_yaml_valid_syntax>
        <Function test_settings_yaml_required_sections>
        <Function test_legal_settings_configuration>
        <Function test_simulation_engine_settings>
      <Class TestDocumentationFoundation>
        <Function test_adrs_directory_exists>
        <Function test_adrs_readme_exists>
        <Function test_core_adrs_exist>
        <Function test_developer_documentation_exists>
      <Class TestProjectStructure>
        <Function test_directory_structure>
        <Function test_private_directory_structure>
        <Function test_file_permissions_security>
        <Function test_readme_legal_disclaimer>
      <Class TestComplianceValidation>
        <Function test_fan_mode_registry_structure>
        <Function test_ip_protection_mechanisms>
        <Function test_dmca_compliance_documentation>
    <Module test_integration_complete.py>
      <Class TestCompleteSystemIntegration>
        <Function test_iron_laws_integration>
        <Function test_state_hashing_integration>
        <Function test_semantic_caching_integration>
        <Function test_token_budget_integration>
        <Function test_evaluation_system_integration>
        <Function test_end_to_end_integration>
        <Function test_performance_integration>
    <Module test_integration_comprehensive.py>
      <Class TestFullSystemIntegration>
        <Function test_end_to_end_simulation_workflow>
        <Function test_character_detail_to_simulation_integration>
        <Function test_system_health_to_functionality_integration>
        <Function test_multi_user_concurrent_simulation>
      <Class TestAPIBackendIntegration>
        <Function test_api_character_loading_backend_integration>
        <Function test_api_error_handling_backend_integration>
        <Function test_api_validation_backend_consistency>
      <Class TestCharacterSimulationIntegration>
        <Function test_character_loading_simulation_execution>
        <Function test_character_attributes_simulation_behavior>
        <Function test_multi_character_interaction_simulation>
      <Class TestStoryGenerationPipeline>
        <Function test_simulation_to_story_pipeline>
        <Function test_character_context_story_integration>
        <Function test_narrative_style_story_consistency>
      <Class TestMultiComponentWorkflows>
        <Function test_character_creation_to_simulation_workflow>
        <Function test_error_recovery_multi_component_workflow>
        <Function test_performance_multi_component_integration>
      <Class TestPerformanceIntegration>
        <Function test_concurrent_api_backend_performance>
        <Function test_memory_usage_integration>
      <Class TestErrorPropagationAndRecovery>
        <Function test_character_loading_error_propagation>
        <Function test_simulation_error_recovery_integration>
        <Function test_story_generation_error_handling_integration>
      <Class TestSecurityValidationIntegration>
        <Function test_input_validation_api_to_backend>
        <Function test_brand_content_validation_integration>
        <Function test_data_integrity_across_components>
    <Module test_iron_laws.py>
      <Class TestIronLawsValidation>
        <Function test_iron_laws_validation_core>
        <Function test_causality_law_validation>
        <Function test_resource_law_validation>
        <Function test_physics_law_validation>
        <Function test_narrative_law_validation>
        <Function test_social_law_validation>
      <Class TestIronLawsRepairSystem>
        <Function test_causality_repair>
        <Function test_resource_repair>
        <Function test_physics_repair>
        <Function test_narrative_repair>
        <Function test_social_repair>
        <Function test_comprehensive_repair_attempt>
      <Class TestIronLawsHelperMethods>
        <Function test_group_violations_by_law>
        <Function test_get_current_world_context>
        <Function test_determine_overall_validation_result>
        <Function test_calculate_action_stamina_cost>
      <Class TestIronLawsIntegration>
        <Function test_iron_laws_during_turn_processing>
        <Function test_iron_laws_error_handling>
        <Function test_iron_laws_performance_tracking>
      <Class TestIronLawsEdgeCases>
        <Function test_invalid_action_handling>
        <Function test_malformed_character_data_handling>
        <Function test_resource_calculation_edge_cases>
        <Function test_repair_system_edge_cases>
    <Module test_llm_integration.py>
      <UnitTestCase TestLLMIntegration>
        <TestCaseFunction test_llm_decision_making_handles_api_failure_and_uses_fallback>
        <TestCaseFunction test_llm_decision_making_handles_invalid_response>
        <TestCaseFunction test_llm_decision_making_handles_observe_action>
        <TestCaseFunction test_llm_decision_making_returns_action>
        <TestCaseFunction test_llm_uses_fallback_when_no_api_key>
    <Module test_logging_system.py>
      <Class TestLogContext>
        <Function test_log_context_creation>
        <Function test_log_context_with_values>
      <Class TestStructuredLogger>
        <Function test_structured_logger_initialization>
        <Function test_context_management>
        <Function test_basic_logging>
        <Function test_logging_with_context>
        <Function test_error_logging>
        <Function test_performance_tracking>
        <Coroutine test_performance_context_manager>
        <Function test_audit_logging>
        <Function test_security_logging>
        <Function test_logger_statistics>
      <Class TestPerformanceTracker>
        <Function test_performance_tracker_creation>
        <Function test_performance_tracker_metrics>
      <Class TestStructuredFormatter>
        <Function test_json_formatter>
        <Function test_readable_formatter>
        <Function test_formatter_with_none_component>
      <Class TestLoggerFactory>
        <Function test_get_logger>
        <Function test_configure_defaults>
    <Module test_performance_optimizations.py>
      <Class TestWebSocketOptimizations>
        <Function test_connection_pool_creation>
        <Function test_connection_pool_add_remove>
        <Coroutine test_connection_pool_cleanup>
        <Coroutine test_story_generation_api_semaphore>
        <Coroutine test_optimized_progress_broadcast>
      <Class TestPerformanceCache>
        <Coroutine test_memory_cache_basic_operations>
        <Coroutine test_cache_ttl_expiration>
        <Coroutine test_cache_levels_and_eviction>
        <Coroutine test_cache_statistics>
        <Coroutine test_cache_invalidation_patterns>
      <Class TestIntegratedPerformance>
        <Coroutine test_concurrent_story_generations>
        <Coroutine test_memory_usage_efficiency>
        <Coroutine test_websocket_connection_resilience>
      <Class TestFrontendOptimizations>
        <Function test_api_cache_deduplication>
        <Function test_mobile_responsive_behavior>
    <Module test_persona_agent.py>
      <UnitTestCase TestPersonaAgent>
        <TestCaseFunction test_handle_turn_start_emits_action>
        <TestCaseFunction test_handle_turn_start_with_no_action>
        <TestCaseFunction test_initialization_subscribes_to_turn_start>
      <UnitTestCase TestPersonaAgentCharacterLoading>
        <TestCaseFunction test_character_properties>
        <TestCaseFunction test_derive_agent_id_from_path>
        <TestCaseFunction test_estimate_trait_strength>
        <TestCaseFunction test_load_character_context_missing_directory>
        <TestCaseFunction test_load_character_context_success>
        <TestCaseFunction test_parse_character_sheet_content>
        <TestCaseFunction test_read_cached_file>
      <UnitTestCase TestPersonaAgentDecisionMaking>
        <TestCaseFunction test_assess_current_situation>
        <TestCaseFunction test_assess_threat_levels>
        <TestCaseFunction test_decision_weight_application>
        <TestCaseFunction test_evaluate_action_option>
        <TestCaseFunction test_identify_available_actions>
        <TestCaseFunction test_make_decision_ai_fallback>
        <TestCaseFunction test_make_decision_with_world_state>
        <TestCaseFunction test_parse_llm_response>
      <UnitTestCase TestPersonaAgentWorldInterpretation>
        <TestCaseFunction test_memory_integration>
        <TestCaseFunction test_subjective_worldview_initialization>
        <TestCaseFunction test_world_event_processing>
      <UnitTestCase TestPersonaAgentAIIntegration>
        <TestCaseFunction test_ai_query_with_valid_api_key>
        <TestCaseFunction test_ai_query_without_api_key>
        <TestCaseFunction test_api_error_handling>
      <UnitTestCase TestPersonaAgentMemoryAndEvolution>
        <TestCaseFunction test_long_term_memory_consolidation>
        <TestCaseFunction test_morale_and_status_tracking>
        <TestCaseFunction test_relationship_evolution>
        <TestCaseFunction test_short_term_memory_management>
    <Module test_persona_core.py>
      <Class TestAgentIdentity>
        <Function test_agent_identity_creation>
        <Function test_agent_identity_defaults>
      <Class TestPersonaCore>
        <Function test_persona_core_initialization>
        <Coroutine test_persona_core_activation>
        <Coroutine test_persona_core_file_operations>
        <Function test_persona_core_status>
        <Coroutine test_persona_core_error_handling>
        <Function test_persona_core_component_integration>
      <Class TestPersonaCoreIntegration>
        <Coroutine test_event_bus_integration>
    <Module test_quality_framework.py>
      <Class TestDataModels>
        <Function test_character_creation>
        <Function test_character_validation>
        <Function test_world_state_creation>
        <Function test_action_result_creation>
        <Function test_campaign_state_creation>
      <Class TestSystemOrchestrator>
        <Function test_orchestrator_initialization>
        <Coroutine test_orchestrator_startup>
        <Coroutine test_orchestrator_shutdown>
      <Class TestEventBus>
        <Function test_event_bus_initialization>
        <Coroutine test_event_subscription_and_publishing>
        <Function test_event_unsubscription>
      <Class TestContextDatabase>
        <Coroutine test_database_initialization>
        <Coroutine test_database_schema_creation>
        <Coroutine test_context_storage_and_retrieval>
      <Class TestPersonaAgent>
        <Function test_persona_agent_initialization>
        <Coroutine test_persona_agent_decision_making>
        <Function test_persona_agent_skill_check>
      <Class TestDirectorAgent>
        <Function test_director_agent_initialization>
        <Coroutine test_director_agent_turn_processing>
        <Coroutine test_director_agent_narrative_generation>
      <Class TestSharedTypes>
        <Function test_shared_types_availability>
        <Function test_action_type_enumeration>
        <Function test_decision_type_enumeration>
      <Class TestIntegrationScenarios>
        <Coroutine test_full_system_startup_and_shutdown>
        <Coroutine test_character_interaction_workflow>
        <Coroutine test_narrative_generation_pipeline>
      <Class TestErrorHandling>
        <Function test_invalid_character_data_handling>
        <Function test_malformed_world_state_handling>
        <Coroutine test_database_connection_failure_handling>
        <Coroutine test_event_bus_error_propagation>
      <Class TestPerformanceRequirements>
        <Coroutine test_character_creation_performance>
        <Coroutine test_event_processing_performance>
      <Class TestSecurityRequirements>
        <Function test_input_sanitization>
        <Function test_data_validation_boundaries>
        <Function test_configuration_security>
    <Module test_schemas.py>
      <Class TestEnumTypes>
        <Function test_action_type_values>
        <Function test_entity_type_values>
        <Function test_validation_result_values>
        <Function test_fog_of_war_channel_values>
        <Function test_simulation_phase_values>
      <Class TestSpatialTypes>
        <Function test_position_creation_valid>
        <Function test_position_defaults>
        <Function test_position_facing_validation>
        <Function test_position_accuracy_validation>
        <Function test_bounding_box_valid>
        <Function test_bounding_box_validation_errors>
        <Function test_area_creation>
      <Class TestResourceTypes>
        <Function test_resource_value_valid>
        <Function test_resource_value_validation>
        <Function test_resource_value_percentage_calculation>
        <Function test_equipment_creation>
        <Function test_equipment_defaults>
        <Function test_equipment_validation>
      <Class TestCharacterTypes>
        <Function test_character_stats_valid>
        <Function test_character_stats_validation>
        <Function test_character_resources_creation>
        <Function test_character_state_defaults>
        <Function test_character_state_validation>
        <Function test_character_data_full_creation>
      <Class TestActionTypes>
        <Function test_action_target_creation>
        <Function test_action_parameters_defaults>
        <Function test_action_parameters_validation>
        <Function test_proposed_action_creation>
        <Function test_proposed_action_confidence_validation>
        <Function test_validated_action_creation>
      <Class TestIronLawsTypes>
        <Function test_iron_laws_violation_creation>
        <Function test_iron_laws_report_creation>
        <Function test_iron_laws_report_properties>
      <Class TestWorldStateTypes>
        <Function test_world_entity_creation>
        <Function test_environmental_condition_creation>
        <Function test_world_state_creation>
        <Function test_world_state_utility_methods>
      <Class TestFogOfWarTypes>
        <Function test_information_source_creation>
        <Function test_information_fragment_creation>
        <Function test_fog_of_war_filter_creation>
        <Function test_filtered_world_view_creation>
      <Class TestTurnBriefTypes>
        <Function test_knowledge_fragment_creation>
        <Function test_contextual_prompt_creation>
        <Function test_contextual_prompt_compilation>
        <Function test_turn_brief_creation>
      <Class TestSimulationTypes>
        <Function test_simulation_config_defaults>
        <Function test_simulation_config_validation>
        <Function test_simulation_state_creation>
        <Function test_turn_result_creation>
      <Class TestAPITypes>
        <Function test_api_response_success>
        <Function test_api_response_error>
        <Function test_system_status_creation>
        <Function test_system_status_validation>
      <Class TestPerformanceTypes>
        <Function test_cache_entry_creation>
        <Function test_cache_entry_expiration>
        <Function test_performance_metrics_creation>
        <Function test_performance_metrics_validation>
      <Class TestConsistencyTypes>
        <Function test_state_hash_creation>
        <Function test_state_hash_validation>
        <Function test_consistency_check_creation>
      <Class TestModelRegistry>
        <Function test_model_registry_contains_expected_models>
        <Function test_model_registry_types_are_pydantic_models>
        <Function test_model_creation_from_registry>
      <Class TestJSONSerialization>
        <Function test_character_data_json_roundtrip>
        <Function test_world_state_json_serialization>
        <Function test_iron_laws_report_json_serialization>
    <Module test_security_framework.py>
      <Class TestSecurityService>
        <Coroutine test_user_registration>
        <Coroutine test_duplicate_user_registration>
        <Coroutine test_user_authentication>
        <Coroutine test_account_lockout>
        <Coroutine test_token_creation_and_refresh>
        <Coroutine test_role_permissions>
        <Coroutine test_api_key_generation>
      <Class TestInputValidator>
        <Function test_sql_injection_detection>
        <Function test_xss_detection>
        <Function test_command_injection_detection>
        <Function test_path_traversal_detection>
        <Function test_valid_input_passes>
        <Function test_json_validation>
      <Class TestRateLimiter>
        <Coroutine test_rate_limiting_allows_normal_requests>
        <Coroutine test_rate_limiting_blocks_excessive_requests>
        <Coroutine test_threat_detection>
        <Coroutine test_ip_blacklist>
        <Coroutine test_ip_whitelist>
      <Class TestSecurityHeaders>
        <Function test_csp_header_construction>
        <Function test_security_headers_application>
        <Function test_hsts_header_construction>
        <Function test_permissions_policy_construction>
      <Class TestDataProtection>
        <Function test_encryption_service>
        <Function test_dictionary_encryption>
        <Coroutine test_consent_management>
        <Coroutine test_data_encryption_by_type>
        <Coroutine test_data_retention_scheduling>
      <Class TestSecurityLogging>
        <Coroutine test_security_event_logging>
        <Coroutine test_security_statistics>
        <Coroutine test_threat_detection_logging>
      <Class TestIntegratedSecurity>
        <Coroutine test_end_to_end_security_flow>
        <Coroutine test_security_middleware_integration>
      <Coroutine test_performance_under_load>
    <Module test_startup_guards.py>
      <Class TestStartupGuard>
        <Function test_startup_guard_initialization>
        <Function test_validate_configuration_success>
        <Function test_validate_configuration_missing_file>
        <Function test_validate_configuration_invalid_yaml>
        <Function test_validate_configuration_missing_sections>
        <Function test_validate_configuration_iron_laws_disabled>
        <Function test_validate_legal_compliance_success>
        <Function test_validate_legal_compliance_missing_legal_file>
        <Function test_validate_legal_compliance_missing_notice_file>
        <Function test_validate_legal_compliance_fan_mode_registry_creation>
        <Function test_validate_file_structure_creates_directories>
        <Function test_validate_file_structure_missing_required_files>
        <Function test_validate_file_structure_creates_private_gitignore>
        <Function test_validate_external_dependencies_missing_packages>
        <Function test_validate_external_dependencies_with_api_keys>
        <Function test_validate_knowledge_base_creates_structure>
        <Function test_validate_api_readiness_success>
        <Function test_validate_api_readiness_cors_warning>
        <Function test_validate_all_success>
        <Function test_validate_all_failure>
        <Function test_get_system_status>
      <Class TestKnowledgeBaseBuilder>
        <Function test_knowledge_base_builder_initialization>
        <Function test_build_kb_success>
        <Function test_create_iron_laws_template>
        <Function test_create_fog_of_war_template>
        <Function test_create_narrative_templates>
      <Class TestStartupGuardIntegration>
        <Function test_complete_system_validation>
        <Function test_system_validation_with_warnings>
        <Function test_startup_guard_error_recovery>
    <Module test_story_generation_comprehensive.py>
      <Class TestChroniclerAgentCore>
        <Function test_chronicler_initialization>
        <Function test_narrative_templates_debranded>
        <Function test_faction_descriptions_generic>
        <Function test_narrative_style_management>
        <Function test_campaign_log_parsing>
        <Function test_narrative_segment_generation>
      <Class TestStoryContentQuality>
        <Function test_story_length_adequacy>
        <Function test_story_structure_coherence>
        <Function test_character_integration_in_stories>
        <Function test_story_atmosphere_consistency>
        <Function test_story_readability>
      <Class TestDebrandingValidation>
        <Function test_no_branded_content_in_generated_stories>
        <Function test_generic_faction_usage_in_stories>
        <Function test_sci_fi_theme_replacement>
      <Class TestNarrativeStyleAndTone>
        <Function test_sci_fi_dramatic_style>
        <Function test_tactical_style>
        <Function test_philosophical_style>
      <Class TestCharacterIntegration>
        <Function test_multiple_character_story_generation>
        <Function test_character_faction_integration>
      <Class TestTemplateAndPatternSystems>
        <Function test_response_template_variety>
        <Function test_narrative_opening_templates>
      <Class TestPerformanceAndScalability>
        <Function test_story_generation_performance>
        <Function test_large_log_handling>
      <Class TestErrorHandlingAndEdgeCases>
        <Function test_empty_log_handling>
        <Function test_malformed_log_handling>
        <Function test_nonexistent_log_handling>
        <Function test_corrupted_log_recovery>
    <Module test_term_guard.py>
      <Class TestFilterRule>
        <Function test_filter_rule_creation>
        <Function test_filter_rule_defaults>
      <Class TestIPViolation>
        <Function test_ip_violation_creation>
      <Class TestTermGuard>
        <Function test_term_guard_initialization>
        <Function test_term_guard_default_initialization>
        <Function test_analyze_content_basic>
        <Function test_analyze_content_whitelist>
        <Function test_clean_content_replace>
        <Function test_clean_content_block>
        <Function test_clean_content_analyze_only>
        <Function test_generic_replacement_generation>
        <Function test_compliance_report_generation>
        <Function test_compliance_report_empty>
      <Class TestTermGuardIntegration>
        <Function test_complex_content_cleaning>
        <Function test_configuration_error_handling>
        <Function test_regex_error_handling>
      <Class TestTermGuardCLI>
        <Function test_cli_analyze_only>
        <Function test_cli_clean_with_output>
        <Function test_cli_compliance_report>
        <Function test_cli_file_not_found>
    <Module test_user_stories.py>
      <Class TestUserStories>
        <Function test_story_1_character_creation_basic>
        <Function test_story_1_character_customization>
        <Function test_story_1_validation_requirements>
        <Function test_story_2_interaction_initiation>
        <Function test_story_2_real_time_monitoring>
        <Function test_story_3_memory_formation>
        <Function test_story_3_relationship_evolution>
        <Function test_system_health_and_metrics>
    <Package unit>
      <Package agents>
        <Module test_director_refactored.py>
          <UnitTestCase TestDirectorAgentComponents>
            <TestCaseFunction test_agent_lifecycle_manager_agent_registration>
            <TestCaseFunction test_agent_lifecycle_manager_initialization>
            <TestCaseFunction test_campaign_logging_service>
            <TestCaseFunction test_configuration_service>
            <TestCaseFunction test_error_handler>
            <TestCaseFunction test_world_state_manager_initialization>
            <TestCaseFunction test_world_state_manager_save_load>
          <UnitTestCase TestDirectorAgentIntegration>
            <TestCaseFunction test_async_director_creation>
            <TestCaseFunction test_backward_compatibility_interface>
            <TestCaseFunction test_component_access_properties>
            <TestCaseFunction test_director_agent_creation>
            <TestCaseFunction test_director_agent_factory_functions>
            <TestCaseFunction test_enhanced_interface_methods>
          <UnitTestCase TestSystemResilience>
            <TestCaseFunction test_component_failure_isolation>
            <TestCaseFunction test_error_recovery>
            <TestCaseFunction test_initialization_resilience>
        <Module test_persona_modular.py>
          <Coroutine test_persona_agent_initialization>
          <Coroutine test_decision_making>
          <Coroutine test_response_generation>
          <Coroutine test_world_event_processing>
          <Coroutine test_data_access_methods>
          <Coroutine test_integration_statistics>
          <Coroutine test_factory_function>
          <Coroutine test_backward_compatibility>
          <Coroutine test_error_handling>
        <Module test_persona_refactored.py>
          <Function test_persona_core>
          <Function test_character_context_manager>
          <Function test_decision_engine>
          <Function test_refactored_persona_agent>
          <Function test_performance_improvements>
      <Package contexts>
        <Package ai>
          <Package application>
            <Module test_execute_llm_service.py>
              <Class TestLLMExecutionConfig>
                <Function test_default_config_creation>
                <Function test_custom_config_creation>
              <Class TestLLMExecutionResult>
                <Function test_basic_result_creation>
                <Function test_result_with_all_parameters>
                <Function test_total_tokens_property>
                <Function test_total_tokens_property_empty>
                <Function test_total_cost_property>
                <Function test_total_cost_property_no_cost_entry>
              <Class TestProviderRouter>
                <Function test_router_initialization>
                <Function test_register_provider>
                <Function test_register_multiple_providers>
                <Function test_get_provider_existing>
                <Function test_get_provider_non_existing>
                <Function test_select_provider_for_model_preferred>
                <Function test_select_provider_for_model_fallback_to_any>
                <Function test_select_provider_for_model_with_fallback>
                <Function test_select_provider_for_model_no_match>
                <Function test_can_handle_model_true>
                <Function test_can_handle_model_false>
                <Function test_is_provider_healthy_true>
                <Function test_is_provider_healthy_false_not_available>
                <Function test_is_provider_healthy_false_too_many_failures>
                <Function test_is_provider_healthy_unknown_provider>
              <Class TestExecuteLLMServiceInitialization>
                <Function test_initialization_minimal>
                <Function test_initialization_with_all_dependencies>
                <Function test_register_provider>
              <Class TestExecuteLLMServiceExecution>
                <Coroutine test_execute_async_successful_flow>
                <Coroutine test_execute_async_cache_hit>
                <Coroutine test_execute_async_rate_limited>
                <Coroutine test_execute_async_budget_exceeded>
                <Coroutine test_execute_async_no_provider_available>
                <Coroutine test_execute_async_without_retry_policy>
                <Coroutine test_execute_async_with_exception>
                <Coroutine test_execute_async_caching_disabled>
                <Coroutine test_execute_async_rate_limiting_disabled>
                <Coroutine test_execute_async_budget_enforcement_disabled>
                <Coroutine test_execute_async_post_execution_processing>
              <Class TestExecuteLLMServiceStreamingExecution>
                <Coroutine test_execute_stream_async_successful>
                <Coroutine test_execute_stream_async_rate_limited>
                <Coroutine test_execute_stream_async_no_provider>
                <Coroutine test_execute_stream_async_provider_exception>
                <Coroutine test_execute_stream_async_rate_limiting_disabled>
              <Class TestExecuteLLMServiceStatisticsAndMetrics>
                <Coroutine test_get_execution_stats_async_with_requests>
                <Coroutine test_get_execution_stats_async_no_requests>
                <Function test_estimate_request_cost_with_model_pricing>
                <Function test_estimate_request_cost_no_pricing>
                <Function test_estimate_request_cost_no_max_tokens>
                <Coroutine test_record_cached_usage>
              <Class TestExecuteLLMServiceIntegration>
                <Coroutine test_minimal_execution_flow>
                <Coroutine test_provider_selection_with_preferences>
                <Coroutine test_error_handling_and_statistics>
          <Package domain>
            <Module test_common_value_objects.py>
              <Class TestProviderTypeEnum>
                <Function test_all_provider_types_exist>
                <Function test_provider_type_string_values>
                <Function test_provider_type_str_method>
                <Function test_provider_type_uniqueness>
                <Function test_provider_type_membership>
              <Class TestModelCapabilityEnum>
                <Function test_all_model_capabilities_exist>
                <Function test_model_capability_string_values>
                <Function test_model_capability_str_method>
                <Function test_model_capability_uniqueness>
                <Function test_model_capability_membership>
              <Class TestProviderIdCreation>
                <Function test_create_minimal_provider_id>
                <Function test_create_full_provider_id>
                <Function test_create_provider_id_with_string_key>
                <Function test_frozen_dataclass_immutability>
              <Class TestProviderIdValidation>
                <Function test_empty_provider_name_raises_error>
                <Function test_invalid_provider_name_length_raises_errors>
                <Function test_invalid_provider_name_characters_raise_errors>
                <Function test_valid_provider_name_characters>
                <Function test_invalid_provider_type_raises_error>
                <Function test_invalid_api_version_format_raises_error>
                <Function test_valid_api_version_formats>
                <Function test_invalid_region_code_raises_errors>
                <Function test_valid_region_codes>
              <Class TestProviderIdFactoryMethods>
                <Function test_create_openai_default>
                <Function test_create_openai_custom_params>
                <Function test_create_anthropic_default>
                <Function test_create_anthropic_custom_params>
                <Function test_create_custom_provider>
              <Class TestProviderIdMethods>
                <Function test_is_official_provider>
                <Function test_supports_region>
                <Function test_get_display_name>
                <Function test_str_representation>
              <Class TestModelIdCreation>
                <Function test_create_minimal_model_id>
                <Function test_create_full_model_id>
                <Function test_frozen_dataclass_immutability>
              <Class TestModelIdValidation>
                <Function test_empty_model_name_raises_error>
                <Function test_invalid_model_name_length_raises_errors>
                <Function test_invalid_model_name_characters_raise_errors>
                <Function test_valid_model_name_characters>
                <Function test_invalid_provider_id_raises_error>
                <Function test_invalid_token_limits_raise_errors>
                <Function test_invalid_costs_raise_errors>
                <Function test_invalid_capabilities_raise_error>
              <Class TestModelIdFactoryMethods>
                <Function test_create_gpt4>
                <Function test_create_claude_default>
                <Function test_create_claude_opus>
                <Function test_create_claude_unknown_variant_uses_default>
              <Class TestModelIdMethods>
                <Function test_supports_capability>
                <Function test_estimate_cost>
                <Function test_estimate_cost_zero_tokens>
                <Function test_can_handle_context>
                <Function test_get_effective_context_limit>
                <Function test_is_deprecated>
                <Function test_str_representation>
              <Class TestTokenBudgetCreation>
                <Function test_create_minimal_token_budget>
                <Function test_create_full_token_budget>
                <Function test_frozen_dataclass_immutability>
              <Class TestTokenBudgetValidation>
                <Function test_empty_budget_id_raises_error>
                <Function test_invalid_budget_id_length_raises_errors>
                <Function test_invalid_budget_id_characters_raise_error>
                <Function test_valid_budget_id_characters>
                <Function test_invalid_token_values_raise_errors>
                <Function test_token_budget_over_allocation_allowed>
                <Function test_invalid_cost_values_raise_errors>
                <Function test_invalid_priority_raises_error>
              <Class TestTokenBudgetFactoryMethods>
                <Function test_create_daily_budget_default>
                <Function test_create_daily_budget_with_cost_limit>
                <Function test_create_project_budget>
              <Class TestTokenBudgetMethods>
                <Function test_get_available_tokens>
                <Function test_get_available_tokens_negative_protected>
                <Function test_get_utilization_percentage>
                <Function test_get_utilization_percentage_zero_allocation>
                <Function test_get_cost_utilization_percentage>
                <Function test_get_cost_utilization_percentage_zero_limit>
                <Function test_can_reserve_tokens>
                <Function test_can_afford_cost>
                <Function test_reserve_tokens>
                <Function test_reserve_tokens_insufficient_budget>
                <Function test_consume_tokens>
                <Function test_consume_tokens_more_than_reserved>
                <Function test_consume_tokens_exceeds_budget>
                <Function test_consume_tokens_exceeds_cost_limit>
                <Function test_is_exhausted>
                <Function test_is_near_exhaustion>
                <Function test_get_budget_summary>
                <Function test_str_representation>
              <Class TestTokenBudgetEquality>
                <Function test_equality_same_values>
                <Function test_inequality_different_values>
                <Function test_equality_in_collections>
            <Module test_llm_provider_interface.py>
              <Class TestLLMRequestTypeEnum>
                <Function test_all_request_types_exist>
                <Function test_request_type_string_values>
                <Function test_request_type_str_method>
                <Function test_request_type_uniqueness>
              <Class TestLLMResponseStatusEnum>
                <Function test_all_response_statuses_exist>
                <Function test_response_status_string_values>
                <Function test_response_status_str_method>
              <Class TestLLMRequestCreation>
                <Function test_basic_request_creation>
                <Function test_request_creation_with_all_parameters>
                <Function test_request_validation_invalid_request_id>
                <Function test_request_validation_invalid_request_type>
                <Function test_request_validation_invalid_model_id>
                <Function test_request_validation_empty_prompt>
                <Function test_request_validation_invalid_temperature>
                <Function test_request_validation_invalid_top_p>
                <Function test_request_validation_invalid_penalties>
                <Function test_request_validation_invalid_max_tokens>
                <Function test_request_validation_max_tokens_exceeds_model_limit>
                <Function test_request_validation_invalid_timeout>
                <Function test_request_validation_duplicate_stop_sequences>
              <Class TestLLMRequestFactoryMethods>
                <Function test_create_chat_request_basic>
                <Function test_create_chat_request_with_system_prompt>
                <Function test_create_chat_request_with_custom_metadata>
                <Function test_create_completion_request_basic>
                <Function test_create_completion_request_with_parameters>
              <Class TestLLMRequestBusinessMethods>
                <Function test_estimate_input_tokens>
                <Function test_estimate_input_tokens_no_system_prompt>
                <Function test_get_effective_max_tokens_with_limit>
                <Function test_get_effective_max_tokens_no_limit>
                <Function test_get_effective_max_tokens_exceeds_model_limit>
                <Function test_is_compatible_with_model_compatible>
                <Function test_is_compatible_with_model_unsupported_capability>
                <Function test_is_compatible_with_model_context_too_large>
              <Class TestLLMResponseCreation>
                <Function test_basic_response_creation>
                <Function test_response_creation_with_all_parameters>
                <Function test_response_validation_invalid_request_id>
                <Function test_response_validation_invalid_response_id>
                <Function test_response_validation_invalid_status>
                <Function test_response_validation_successful_without_content>
                <Function test_response_validation_failed_without_error_details>
                <Function test_response_validation_invalid_usage_stats>
                <Function test_response_validation_invalid_cost_estimate>
              <Class TestLLMResponseFactoryMethods>
                <Function test_create_success_response>
                <Function test_create_success_response_custom_finish_reason>
                <Function test_create_error_response>
                <Function test_create_error_response_with_model>
              <Class TestLLMResponseBusinessMethods>
                <Function test_is_successful_for_success_status>
                <Function test_is_successful_for_partial_success_status>
                <Function test_is_successful_for_error_status>
                <Function test_get_total_tokens>
                <Function test_get_input_tokens>
                <Function test_get_output_tokens>
                <Function test_token_methods_with_empty_stats>
              <Class TestLLMProviderErrorHierarchy>
                <Function test_base_llm_provider_error>
                <Function test_base_error_without_optional_parameters>
                <Function test_rate_limit_error>
                <Function test_quota_exceeded_error>
                <Function test_model_unavailable_error>
                <Function test_invalid_request_error>
              <Class TestILLMProviderInterface>
                <Function test_provider_properties>
                <Coroutine test_generate_async>
                <Function test_generate_sync_wrapper>
                <Coroutine test_generate_stream_async>
                <Function test_estimate_tokens>
                <Function test_validate_request_valid>
                <Function test_validate_request_invalid>
                <Function test_get_model_info_existing>
                <Function test_get_model_info_non_existing>
                <Coroutine test_health_check_async>
                <Function test_health_check_sync_wrapper>
                <Function test_supports_streaming_default>
                <Function test_supports_function_calling>
                <Function test_get_rate_limits_default>
                <Function test_get_pricing_info>
                <Function test_string_representation>
              <Class TestILLMProviderWithBudget>
                <Coroutine test_generate_async_with_budget>
                <Coroutine test_generate_stream_async_with_budget>
        <Package character>
          <Package application>
            <Package services>
              <Module test_context_loader.py>
                <UnitTestCase TestContextLoaderService>
                  <TestCaseFunction test_age_consistency_validation>
                  <TestCaseFunction test_cache_clearing>
                  <TestCaseFunction test_cache_expiration>
                  <TestCaseFunction test_caching_functionality>
                  <TestCaseFunction test_character_id_length_security>
                  <TestCaseFunction test_character_identifier_validation_and_sanitization>
                  <TestCaseFunction test_circuit_breaker_blocks_requests_when_open>
                  <TestCaseFunction test_circuit_breaker_failure_accumulation>
                  <TestCaseFunction test_circuit_breaker_opens_on_threshold>
                  <TestCaseFunction test_circuit_breaker_recovery>
                  <TestCaseFunction test_concurrent_load_limit>
                  <TestCaseFunction test_directory_structure_validation_missing_directory>
                  <TestCaseFunction test_directory_structure_validation_partial>
                  <TestCaseFunction test_directory_structure_validation_success>
                  <TestCaseFunction test_empty_yaml_handling>
                  <TestCaseFunction test_file_size_limit_enforcement>
                  <TestCaseFunction test_invalid_character_security_check>
                  <TestCaseFunction test_invalid_context_type>
                  <TestCaseFunction test_load_complete_character_context>
                  <TestCaseFunction test_load_partial_character_context>
                  <TestCaseFunction test_load_timeout_handling>
                  <TestCaseFunction test_malformed_markdown_handling>
                  <TestCaseFunction test_markdown_parsing_memory>
                  <TestCaseFunction test_markdown_parsing_objectives>
                  <TestCaseFunction test_markdown_parsing_profile>
                  <TestCaseFunction test_name_consistency_validation>
                  <TestCaseFunction test_nonexistent_character_directory>
                  <TestCaseFunction test_path_traversal_protection>
                  <TestCaseFunction test_service_health_status_determination>
                  <TestCaseFunction test_service_statistics_collection>
                  <TestCaseFunction test_unicode_character_handling>
                  <TestCaseFunction test_yaml_parsing_empty_file>
                  <TestCaseFunction test_yaml_parsing_invalid_yaml>
                  <TestCaseFunction test_yaml_parsing_valid_data>
                <UnitTestCase TestContextLoaderServiceIntegration>
                  <TestCaseFunction test_load_aria_shadowbane_context>
                <UnitTestCase TestContextLoaderPerformance>
                  <TestCaseFunction test_concurrent_loading_performance>
          <Package domain>
            <Module test_character_aggregate.py>
              <Class TestCharacterAggregate>
                <Function test_character_initialization_success>
                <Function test_character_validation_invalid_level>
                <Function test_character_validation_insufficient_health>
                <Function test_character_validation_racial_abilities>
                <Function test_character_validation_class_skills>
                <Function test_character_validation_age_consistency>
                <Function test_update_profile_success>
                <Function test_update_profile_validation_failure_rollback>
                <Function test_update_stats_success>
                <Function test_update_stats_excessive_health_loss_fails>
                <Function test_update_stats_exceed_maximum_values_fails>
                <Function test_update_stats_rollback_on_validation_failure>
                <Function test_level_up_success>
                <Function test_level_up_at_maximum_level_fails>
                <Function test_heal_success>
                <Function test_heal_to_maximum_health>
                <Function test_heal_zero_amount_fails>
                <Function test_heal_at_full_health_no_change>
                <Function test_take_damage_success>
                <Function test_take_damage_with_reduction>
                <Function test_take_damage_minimum_one>
                <Function test_take_damage_zero_amount_fails>
                <Function test_take_damage_to_zero_health>
                <Function test_is_alive_when_alive>
                <Function test_is_alive_when_dead>
                <Function test_can_level_up_with_sufficient_xp>
                <Function test_can_level_up_insufficient_xp>
                <Function test_can_level_up_at_max_level>
                <Function test_get_character_summary>
                <Function test_create_new_character_success>
                <Function test_create_new_character_appropriate_health_mana>
                <Function test_domain_events_creation>
                <Function test_domain_events_profile_update>
                <Function test_domain_events_stats_change>
                <Function test_get_events>
                <Function test_clear_events>
                <Function test_update_skills_success>
                <Function test_update_skills_validation_failure_rollback>
                <Function test_character_version_consistency>
                <Function test_character_timestamp_updates>
                <Function test_complete_character_lifecycle>
                <Function test_character_business_rules_consistency>
            <Module test_character_profile_value_object.py>
              <Class TestPhysicalTraits>
                <Function test_physical_traits_creation_success>
                <Function test_physical_traits_creation_minimal>
                <Function test_physical_traits_height_validation_too_short>
                <Function test_physical_traits_height_validation_too_tall>
                <Function test_physical_traits_height_validation_boundary_values>
                <Function test_physical_traits_weight_validation_too_light>
                <Function test_physical_traits_weight_validation_too_heavy>
                <Function test_physical_traits_weight_validation_boundary_values>
              <Class TestPersonalityTraits>
                <Function test_personality_traits_creation_success>
                <Function test_personality_traits_creation_minimal>
                <Function test_personality_traits_empty_traits_fails>
                <Function test_personality_traits_invalid_score_too_low>
                <Function test_personality_traits_invalid_score_too_high>
                <Function test_personality_traits_boundary_scores>
                <Function test_personality_traits_empty_trait_name_fails>
                <Function test_personality_traits_whitespace_trait_name_fails>
                <Function test_get_trait_score_existing_trait>
                <Function test_get_trait_score_missing_trait_returns_default>
                <Function test_get_trait_score_case_insensitive>
                <Function test_has_trait_existing>
                <Function test_has_trait_missing>
                <Function test_has_trait_case_insensitive>
              <Class TestBackground>
                <Function test_background_creation_success>
                <Function test_background_creation_minimal>
                <Function test_has_education_with_education>
                <Function test_has_education_without_education>
                <Function test_has_education_with_empty_education>
                <Function test_has_family_connections_with_family>
                <Function test_has_family_connections_without_family>
                <Function test_has_family_connections_with_empty_family>
              <Class TestCharacterProfile>
                <Function test_character_profile_creation_success>
                <Function test_character_profile_creation_minimal>
                <Function test_character_profile_empty_name_fails>
                <Function test_character_profile_whitespace_name_fails>
                <Function test_character_profile_name_too_long_fails>
                <Function test_character_profile_negative_age_fails>
                <Function test_character_profile_age_too_high_fails>
                <Function test_character_profile_level_too_low_fails>
                <Function test_character_profile_level_too_high_fails>
                <Function test_character_profile_too_many_languages_fails>
                <Function test_character_profile_empty_language_fails>
                <Function test_is_adult_human_adult>
                <Function test_is_adult_human_child>
                <Function test_is_adult_elf_adult>
                <Function test_is_adult_elf_child>
                <Function test_is_adult_dwarf_adult>
                <Function test_is_adult_boundary_values>
                <Function test_get_full_title_with_title>
                <Function test_get_full_title_without_title>
                <Function test_get_character_summary_with_affiliation>
                <Function test_get_character_summary_without_affiliation>
                <Function test_speaks_language_with_languages_list>
                <Function test_speaks_language_case_insensitive>
                <Function test_speaks_language_without_languages_list>
                <Function test_has_trait_above_threshold_true>
                <Function test_has_trait_above_threshold_false>
                <Function test_has_trait_above_missing_trait>
                <Function test_get_personality_summary_strong_traits>
                <Function test_get_personality_summary_no_strong_traits>
                <Function test_get_personality_summary_empty_traits>
                <Function test_character_profile_immutability>
                <Function test_physical_traits_immutability>
                <Function test_personality_traits_immutability>
                <Function test_background_immutability>
                <Function test_character_profile_with_all_enum_values>
                <Function test_character_profile_racial_age_combinations>
                <Function test_character_profile_boundary_validations>
            <Module test_character_stats_value_object.py>
              <Class TestCoreAbilities>
                <Function test_core_abilities_creation_success>
                <Function test_core_abilities_validation_too_low>
                <Function test_core_abilities_validation_too_high>
                <Function test_core_abilities_boundary_values>
                <Function test_get_ability_score>
                <Function test_get_ability_modifier>
                <Function test_get_ability_modifier_extreme_values>
                <Function test_get_all_modifiers>
                <Function test_is_exceptional_ability>
                <Function test_get_strongest_ability>
                <Function test_get_weakest_ability>
                <Function test_get_strongest_weakest_tie_handling>
              <Class TestVitalStats>
                <Function test_vital_stats_creation_success>
                <Function test_vital_stats_validation_max_health_zero_fails>
                <Function test_vital_stats_validation_current_health_exceeds_max_fails>
                <Function test_vital_stats_validation_current_health_negative_fails>
                <Function test_vital_stats_validation_max_mana_negative_fails>
                <Function test_vital_stats_validation_current_mana_exceeds_max_fails>
                <Function test_vital_stats_validation_armor_class_too_high_fails>
                <Function test_vital_stats_validation_speed_too_high_fails>
                <Function test_vital_stats_boundary_values>
                <Function test_is_alive_with_health>
                <Function test_is_alive_without_health>
                <Function test_is_unconscious_at_zero_health>
                <Function test_is_unconscious_with_health>
                <Function test_is_healthy_at_full_health>
                <Function test_is_healthy_not_at_full_health>
                <Function test_is_wounded_below_half_health>
                <Function test_is_wounded_above_half_health>
                <Function test_is_critically_wounded_below_quarter_health>
                <Function test_is_critically_wounded_above_quarter_health>
                <Function test_health_percentage>
                <Function test_mana_percentage_with_mana>
                <Function test_mana_percentage_no_mana>
                <Function test_stamina_percentage_with_stamina>
                <Function test_stamina_percentage_no_stamina>
                <Function test_get_condition_summary_perfect_health>
                <Function test_get_condition_summary_lightly_wounded>
                <Function test_get_condition_summary_moderately_wounded>
                <Function test_get_condition_summary_heavily_wounded>
                <Function test_get_condition_summary_critically_wounded>
                <Function test_get_condition_summary_unconscious>
              <Class TestCombatStats>
                <Function test_combat_stats_creation_success>
                <Function test_combat_stats_validation_attack_bonus_too_low_fails>
                <Function test_combat_stats_validation_attack_bonus_too_high_fails>
                <Function test_combat_stats_validation_initiative_modifier_too_low_fails>
                <Function test_combat_stats_validation_critical_chance_too_high_fails>
                <Function test_combat_stats_validation_critical_multiplier_too_low_fails>
                <Function test_combat_stats_boundary_values>
                <Function test_has_spell_resistance_with_resistance>
                <Function test_has_spell_resistance_without_resistance>
                <Function test_has_damage_reduction_with_reduction>
                <Function test_has_damage_reduction_without_reduction>
                <Function test_is_fast_positive_initiative>
                <Function test_is_fast_zero_initiative>
                <Function test_is_fast_negative_initiative>
                <Function test_get_combat_summary_expert_level>
                <Function test_get_combat_summary_novice_level>
                <Function test_get_combat_summary_average_level>
              <Class TestCharacterStats>
                <Function test_character_stats_creation_success>
                <Function test_character_stats_validation_negative_experience_fails>
                <Function test_character_stats_validation_negative_skill_points_fails>
                <Function test_character_stats_validation_experience_too_high_fails>
                <Function test_character_stats_validation_skill_points_too_high_fails>
                <Function test_character_stats_boundary_values>
                <Function test_get_ability_modifier>
                <Function test_is_alive_when_alive>
                <Function test_is_alive_when_dead>
                <Function test_can_cast_spells_with_mana>
                <Function test_can_cast_spells_without_mana>
                <Function test_get_overall_power_level_calculations>
                <Function test_needs_rest_low_health>
                <Function test_needs_rest_low_mana>
                <Function test_needs_rest_low_stamina>
                <Function test_needs_rest_good_condition>
                <Function test_get_stats_summary>
                <Function test_character_stats_immutability>
                <Function test_core_abilities_immutability>
                <Function test_vital_stats_immutability>
                <Function test_combat_stats_immutability>
                <Function test_ability_modifier_calculation_precision>
                <Function test_character_stats_edge_case_combinations>
            <Module test_skills_value_object.py>
              <Class TestProficiencyLevel>
                <Function test_proficiency_level_values>
                <Function test_proficiency_level_ordering>
              <Class TestSkillCategory>
                <Function test_skill_category_values>
                <Function test_skill_category_uniqueness>
              <Class TestSkill>
                <Function test_skill_creation_success>
                <Function test_skill_creation_minimal>
                <Function test_skill_empty_name_fails>
                <Function test_skill_whitespace_name_fails>
                <Function test_skill_name_too_long_fails>
                <Function test_skill_modifier_too_low_fails>
                <Function test_skill_modifier_too_high_fails>
                <Function test_skill_description_too_long_fails>
                <Function test_skill_boundary_values>
                <Function test_get_total_modifier>
                <Function test_get_total_modifier_untrained>
                <Function test_get_total_modifier_negative>
                <Function test_is_trained_true>
                <Function test_is_trained_false>
                <Function test_is_expert_level_true>
                <Function test_is_expert_level_false>
                <Function test_is_master_level_true>
                <Function test_is_master_level_false>
                <Function test_get_proficiency_description>
              <Class TestSkillGroup>
                <Function test_skill_group_creation_success>
                <Function test_skill_group_empty_name_fails>
                <Function test_skill_group_base_modifier_too_low_fails>
                <Function test_skill_group_base_modifier_too_high_fails>
                <Function test_skill_group_empty_skills_fails>
                <Function test_skill_group_mismatched_category_fails>
                <Function test_get_skill_existing>
                <Function test_get_skill_case_insensitive>
                <Function test_get_skill_nonexistent>
                <Function test_has_skill_existing>
                <Function test_has_skill_nonexistent>
                <Function test_get_average_proficiency>
                <Function test_get_average_proficiency_empty_group>
                <Function test_get_expert_skills>
                <Function test_count_trained_skills>
                <Function test_count_trained_skills_with_untrained>
              <Class TestSkills>
                <Function test_skills_creation_success>
                <Function test_skills_creation_minimal>
                <Function test_skills_empty_skill_groups_fails>
                <Function test_skills_empty_language_name_fails>
                <Function test_skills_language_name_too_long_fails>
                <Function test_skills_empty_specialization_name_fails>
                <Function test_skills_specialization_bonus_too_low_fails>
                <Function test_skills_specialization_bonus_too_high_fails>
                <Function test_get_skill_by_name_found>
                <Function test_get_skill_by_name_case_insensitive>
                <Function test_get_skill_by_name_not_found>
                <Function test_get_skill_by_category_found>
                <Function test_get_skill_by_category_wrong_category>
                <Function test_has_skill_sufficient_proficiency>
                <Function test_has_skill_insufficient_proficiency>
                <Function test_has_skill_default_proficiency>
                <Function test_has_skill_nonexistent_skill>
                <Function test_get_skill_modifier_existing_skill>
                <Function test_get_skill_modifier_with_specialization>
                <Function test_get_skill_modifier_without_specialization>
                <Function test_get_skill_modifier_nonexistent_skill>
                <Function test_get_skills_by_category_existing>
                <Function test_get_skills_by_category_nonexistent>
                <Function test_get_expert_skills>
                <Function test_get_master_skills>
                <Function test_get_all_skills>
                <Function test_count_trained_skills>
                <Function test_speaks_language_existing>
                <Function test_speaks_language_case_insensitive>
                <Function test_speaks_language_unknown>
                <Function test_get_strongest_category>
                <Function test_get_strongest_category_empty_skills>
                <Function test_is_specialist_true>
                <Function test_is_specialist_false>
                <Function test_can_perform_action_success>
                <Function test_can_perform_action_failure>
                <Function test_can_perform_action_nonexistent_skill>
                <Function test_get_skill_summary>
                <Function test_get_skill_summary_top_skills_ordering>
                <Function test_create_basic_skills>
                <Function test_create_basic_skills_with_level>
                <Function test_skills_immutability>
                <Function test_skill_immutability>
                <Function test_skill_group_immutability>
                <Function test_skills_with_overlapping_specializations>
                <Function test_skills_boundary_values_comprehensive>
        <Dir interactions>
          <Dir domain>
            <Module test_interaction_id_value_object.py>
              <Class TestInteractionIdCreation>
                <Function test_create_with_uuid>
                <Function test_create_with_specific_uuid>
                <Function test_frozen_dataclass_immutability>
              <Class TestInteractionIdValidation>
                <Function test_invalid_uuid_type_string>
                <Function test_invalid_uuid_type_integer>
                <Function test_invalid_uuid_type_none>
                <Function test_invalid_uuid_type_dict>
                <Function test_invalid_uuid_type_list>
              <Class TestInteractionIdFactoryMethods>
                <Function test_generate_creates_unique_ids>
                <Function test_from_string_valid_uuid>
                <Function test_from_string_uppercase_uuid>
                <Function test_from_string_without_dashes>
                <Function test_from_string_invalid_format>
                <Function test_from_string_none>
                <Function test_from_string_non_string_type>
              <Class TestInteractionIdStringRepresentation>
                <Function test_str_representation>
                <Function test_str_representation_generated>
                <Function test_repr_not_implemented>
              <Class TestInteractionIdEquality>
                <Function test_equality_same_uuid>
                <Function test_equality_different_uuids>
                <Function test_equality_with_non_interaction_id>
                <Function test_equality_reflexive>
                <Function test_equality_symmetric>
                <Function test_equality_transitive>
              <Class TestInteractionIdHashing>
                <Function test_hash_consistency>
                <Function test_hash_equality_implies_same_hash>
                <Function test_hash_different_for_different_uuids>
                <Function test_usable_as_dict_key>
                <Function test_usable_in_set>
              <Class TestInteractionIdRoundTripConversion>
                <Function test_generate_to_string_to_from_string>
                <Function test_from_string_to_string_consistency>
                <Function test_uuid_to_interaction_id_to_string>
                <Function test_multiple_round_trips>
              <Class TestInteractionIdEdgeCases>
                <Function test_nil_uuid>
                <Function test_max_uuid>
                <Function test_uuid_versions>
                <Function test_case_insensitive_from_string>
                <Function test_compact_uuid_string>
                <Function test_memory_efficiency>
              <Class TestInteractionIdCollections>
                <Function test_list_operations>
                <Function test_set_operations>
                <Function test_dict_key_operations>
                <Function test_sorting>
            <Module test_negotiation_status_value_object.py>
              <Class TestNegotiationEnums>
                <Function test_negotiation_phase_values>
                <Function test_negotiation_outcome_values>
                <Function test_termination_reason_values>
              <Class TestNegotiationStatusCreation>
                <Function test_minimal_status_creation>
                <Function test_full_status_creation>
                <Function test_frozen_dataclass_immutability>
              <Class TestNegotiationStatusValidation>
                <Function test_timezone_validation_started_at>
                <Function test_timezone_validation_last_activity_at>
                <Function test_timezone_validation_expected_completion_at>
                <Function test_timezone_validation_actual_completion_at>
                <Function test_started_at_after_last_activity_validation>
                <Function test_started_at_after_expected_completion_validation>
                <Function test_started_at_after_actual_completion_validation>
                <Function test_terminated_phase_with_pending_outcome_validation>
                <Function test_terminated_phase_without_termination_reason_validation>
                <Function test_terminated_phase_without_actual_completion_validation>
                <Function test_agreement_outcome_phase_consistency_validation>
                <Function test_partial_agreement_outcome_phase_consistency_validation>
              <Class TestNegotiationStatusFactoryMethods>
                <Function test_create_initial_default_time>
                <Function test_create_initial_specific_time>
                <Function test_create_initial_with_expected_completion>
              <Class TestNegotiationStatusPhaseTransitions>
                <Function test_valid_phase_transitions>
                <Function test_invalid_phase_transitions>
                <Function test_advance_to_phase_success>
                <Function test_advance_to_phase_default_time>
                <Function test_advance_to_phase_invalid_transition>
              <Class TestNegotiationStatusCompletion>
                <Function test_complete_with_outcome_success>
                <Function test_complete_with_outcome_default_time>
                <Function test_complete_different_outcomes>
              <Class TestNegotiationStatusActivityUpdate>
                <Function test_update_last_activity_specific_time>
                <Function test_update_last_activity_default_time>
              <Class TestNegotiationStatusProperties>
                <Function test_is_active_property>
                <Function test_is_completed_property>
                <Function test_duration_property>
                <Function test_time_since_last_activity_property>
              <Class TestNegotiationStatusEquality>
                <Function test_equality_same_values>
                <Function test_equality_different_phases>
                <Function test_equality_different_timestamps>
                <Function test_equality_with_non_negotiation_status>
              <Class TestNegotiationStatusStringRepresentation>
                <Function test_str_representation>
                <Function test_str_representation_completed>
              <Class TestNegotiationStatusEdgeCases>
                <Function test_same_start_and_activity_time>
                <Function test_immediate_completion>
                <Function test_very_long_negotiation>
                <Function test_microsecond_precision_timestamps>
                <Function test_phase_transition_edge_cases>
                <Function test_outcome_phase_consistency_edge_cases>
        <Dir narratives>
          <Dir application>
            <Module test_narrative_arc_application_service.py>
              <Class TestNarrativeArcApplicationServiceInitialization>
                <Function test_initialization_with_required_repository>
                <Function test_initialization_with_all_dependencies>
                <Function test_default_service_initialization>
                <Function test_initialization_logging>
              <Class TestArcLifecycleManagement>
                <Function test_create_narrative_arc_minimal_params>
                <Function test_create_narrative_arc_full_params>
                <Function test_get_narrative_arc>
                <Function test_get_narrative_arc_not_found>
                <Function test_update_narrative_arc>
                <Function test_start_narrative_arc>
                <Function test_complete_narrative_arc>
              <Class TestPlotPointManagement>
                <Function test_add_plot_point_minimal_params>
                <Function test_add_plot_point_full_params>
                <Function test_get_plot_point>
                <Function test_get_plot_points_in_sequence>
                <Function test_update_plot_point>
                <Function test_update_plot_point_partial>
                <Function test_remove_plot_point>
              <Class TestThemeManagement>
                <Function test_add_theme_minimal_params>
                <Function test_add_theme_full_params>
                <Function test_get_theme>
                <Function test_get_themes_at_sequence>
                <Function test_develop_theme>
              <Class TestPacingManagement>
                <Function test_add_pacing_segment_minimal_params>
                <Function test_add_pacing_segment_full_params>
              <Class TestContextManagement>
                <Function test_add_narrative_context_minimal_params>
                <Function test_add_narrative_context_full_params>
                <Function test_activate_context>
                <Function test_deactivate_context>
              <Class TestCharacterManagement>
                <Function test_add_character_to_arc>
                <Function test_add_character_to_arc_minimal>
              <Class TestAnalysisAndOptimization>
                <Function test_analyze_narrative_flow>
                <Function test_optimize_sequence>
                <Function test_establish_causal_link>
                <Function test_analyze_causality>
              <Class TestComprehensiveAnalysis>
                <Function test_get_arc_metrics>
                <Function test_get_arc_summary>
              <Class TestSearchAndDiscovery>
                <Function test_search_narrative_arcs_minimal_params>
                <Function test_search_narrative_arcs_full_params>
                <Function test_get_arcs_by_type>
                <Function test_get_arcs_by_type_minimal_params>
              <Class TestErrorHandling>
                <Function test_command_handler_exception_propagation>
                <Function test_query_handler_exception_propagation>
                <Function test_decimal_conversion_handling>
              <Class TestIntegrationScenarios>
                <Function test_complete_arc_creation_workflow>
                <Function test_analysis_workflow>
          <Dir domain>
            <Module test_causal_node_value_object.py>
              <Class TestCausalRelationTypeEnum>
                <Function test_all_relation_types_exist>
                <Function test_relation_type_string_values>
                <Function test_relation_type_uniqueness>
                <Function test_relation_type_membership>
              <Class TestCausalStrengthEnum>
                <Function test_all_strength_levels_exist>
                <Function test_strength_string_values>
                <Function test_strength_logical_ordering>
              <Class TestCausalNodeCreation>
                <Function test_create_minimal_causal_node>
                <Function test_create_causal_node_with_only_description>
                <Function test_create_comprehensive_causal_node>
                <Function test_default_values_initialization>
                <Function test_frozen_dataclass_immutability>
              <Class TestCausalNodeValidation>
                <Function test_empty_node_id_validation>
                <Function test_whitespace_only_node_id_validation>
                <Function test_missing_title_and_description_validation>
                <Function test_whitespace_only_title_and_description_validation>
                <Function test_valid_with_only_title>
                <Function test_valid_with_only_description>
                <Function test_occurrence_probability_below_minimum_validation>
                <Function test_occurrence_probability_above_maximum_validation>
                <Function test_causal_certainty_boundary_validation>
                <Function test_valid_probability_boundary_values>
                <Function test_narrative_importance_below_minimum_validation>
                <Function test_narrative_importance_above_maximum_validation>
                <Function test_character_impact_boundary_validation>
                <Function test_story_arc_impact_boundary_validation>
                <Function test_valid_impact_boundary_values>
                <Function test_negative_sequence_order_validation>
                <Function test_zero_sequence_order_allowed>
                <Function test_negative_temporal_delay_validation>
                <Function test_zero_temporal_delay_allowed>
                <Function test_zero_duration_validation>
                <Function test_negative_duration_validation>
                <Function test_positive_duration_allowed>
                <Function test_string_length_validations>
                <Function test_valid_string_length_boundaries>
              <Class TestCausalNodeProperties>
                <Function test_total_causes_calculation>
                <Function test_total_effects_calculation>
                <Function test_has_causes_with_direct_causes>
                <Function test_has_causes_with_indirect_causes>
                <Function test_has_causes_with_both_types>
                <Function test_has_causes_false>
                <Function test_has_effects_with_direct_effects>
                <Function test_has_effects_with_indirect_effects>
                <Function test_has_effects_false>
                <Function test_is_isolated_true>
                <Function test_is_isolated_false_with_causes>
                <Function test_is_isolated_false_with_effects>
                <Function test_is_isolated_false_with_both>
              <Class TestCausalComplexityScore>
                <Function test_base_complexity_only>
                <Function test_complexity_with_special_node_types>
                <Function test_complexity_with_conditions>
                <Function test_complexity_comprehensive_calculation>
                <Function test_complexity_isolated_node>
              <Class TestOverallImpactScore>
                <Function test_impact_score_default_values>
                <Function test_impact_score_maximum_values>
                <Function test_impact_score_minimum_values>
                <Function test_impact_score_weighted_calculation>
              <Class TestCausalNodeInstanceMethods>
                <Function test_causes_node_direct_effect>
                <Function test_causes_node_indirect_effect>
                <Function test_causes_node_both_types>
                <Function test_caused_by_node_direct_cause>
                <Function test_caused_by_node_indirect_cause>
                <Function test_directly_causes_node>
                <Function test_directly_caused_by_node>
                <Function test_get_relationship_info_existing>
                <Function test_get_relationship_info_non_existing>
                <Function test_get_relationship_type_existing>
                <Function test_get_relationship_type_non_existing>
                <Function test_get_relationship_strength_existing>
                <Function test_get_relationship_strength_non_existing>
                <Function test_has_prerequisite_condition_true>
                <Function test_has_blocking_condition_true>
                <Function test_get_causal_context>
              <Class TestCausalNodeFactoryMethods>
                <Function test_with_additional_cause_direct_cause>
                <Function test_with_additional_cause_non_direct_relationship>
                <Function test_with_additional_cause_immutability>
                <Function test_with_additional_cause_collections_copied>
                <Function test_with_additional_cause_first_cause_makes_convergence>
                <Function test_with_additional_cause_preserves_metadata>
              <Class TestCausalNodeStringRepresentation>
                <Function test_str_representation_with_title>
                <Function test_str_representation_no_title>
                <Function test_repr_representation>
                <Function test_string_representations_different>
              <Class TestCausalNodeEdgeCasesAndBoundaryConditions>
                <Function test_creation_with_fixed_timestamp>
                <Function test_large_collections_handling>
                <Function test_decimal_precision_handling>
                <Function test_unicode_text_handling>
                <Function test_complex_metadata_handling>
              <Class TestCausalNodeCollectionsAndComparison>
                <Function test_nodes_in_list>
                <Function test_nodes_sorting_by_complexity_score>
                <Function test_node_equality_identity>
                <Function test_node_inequality>
                <Function test_node_hashing_consistency>
                <Function test_nodes_in_set>
                <Function test_nodes_as_dict_keys>
            <Module test_narrative_context_value_object.py>
              <Class TestContextScopeEnum>
                <Function test_all_scope_levels_exist>
                <Function test_scope_string_values>
                <Function test_scope_logical_ordering>
                <Function test_scope_uniqueness>
                <Function test_scope_membership>
              <Class TestContextTypeEnum>
                <Function test_all_context_types_exist>
                <Function test_context_type_string_values>
                <Function test_context_type_uniqueness>
                <Function test_context_type_membership>
              <Class TestNarrativeContextCreation>
                <Function test_create_minimal_narrative_context>
                <Function test_create_comprehensive_narrative_context>
                <Function test_default_values_initialization>
                <Function test_frozen_dataclass_immutability>
              <Class TestNarrativeContextValidation>
                <Function test_empty_context_id_validation>
                <Function test_whitespace_only_context_id_validation>
                <Function test_empty_name_validation>
                <Function test_whitespace_only_name_validation>
                <Function test_empty_description_validation>
                <Function test_whitespace_only_description_validation>
                <Function test_invalid_sequence_range_validation>
                <Function test_valid_sequence_range_equal_values>
                <Function test_valid_sequence_range_proper_order>
                <Function test_narrative_importance_below_minimum_validation>
                <Function test_narrative_importance_above_maximum_validation>
                <Function test_visibility_level_boundary_validation>
                <Function test_complexity_level_boundary_validation>
                <Function test_valid_decimal_boundary_values>
                <Function test_evolution_rate_below_minimum_validation>
                <Function test_evolution_rate_above_maximum_validation>
                <Function test_stability_boundary_validation>
                <Function test_valid_rate_boundary_values>
                <Function test_influence_values_below_minimum_validation>
                <Function test_influence_values_above_maximum_validation>
                <Function test_pacing_effects_boundary_validation>
                <Function test_valid_influence_boundary_values>
                <Function test_string_length_validations>
                <Function test_valid_string_length_boundaries>
              <Class TestNarrativeContextProperties>
                <Function test_has_sequence_range_with_from_sequence>
                <Function test_has_sequence_range_with_to_sequence>
                <Function test_has_sequence_range_with_both_sequences>
                <Function test_has_sequence_range_false>
                <Function test_is_temporal_context_true>
                <Function test_is_temporal_context_false_persistent>
                <Function test_is_temporal_context_false_no_range>
                <Function test_affects_characters_true>
                <Function test_affects_characters_false>
                <Function test_has_hidden_information_true>
                <Function test_has_hidden_information_false>
                <Function test_has_narrative_constraints_true>
                <Function test_has_narrative_constraints_false>
                <Function test_influences_mood_true>
                <Function test_influences_mood_false>
                <Function test_influences_pacing_true>
                <Function test_influences_pacing_false>
                <Function test_has_prerequisites_true>
                <Function test_has_prerequisites_false>
                <Function test_has_conflicts_true>
                <Function test_has_conflicts_false>
              <Class TestOverallInfluenceStrength>
                <Function test_influence_strength_base_calculation>
                <Function test_influence_strength_with_influences>
                <Function test_influence_strength_capped_at_ten>
                <Function test_influence_strength_bonus_capped>
              <Class TestContextualComplexityScore>
                <Function test_complexity_score_base_only>
                <Function test_complexity_score_with_relationships>
                <Function test_complexity_score_with_information_layers>
                <Function test_complexity_score_comprehensive>
                <Function test_complexity_score_capped_at_ten>
              <Class TestNarrativeContextInstanceMethods>
                <Function test_applies_at_sequence_persistent_no_range>
                <Function test_applies_at_sequence_non_persistent_no_range>
                <Function test_applies_at_sequence_with_range>
                <Function test_applies_at_sequence_from_only>
                <Function test_applies_at_sequence_to_only>
                <Function test_affects_character_true>
                <Function test_character_knows_context_true>
                <Function test_get_character_reaction_existing>
                <Function test_conflicts_with_context_true>
                <Function test_reinforces_context_true>
                <Function test_requires_context_true>
                <Function test_get_mood_influence_existing>
                <Function test_get_mood_influence_default>
                <Function test_get_tension_modifier_existing>
                <Function test_get_pacing_effect_existing>
                <Function test_get_contextual_summary>
              <Class TestNarrativeContextStringRepresentation>
                <Function test_str_representation>
                <Function test_repr_representation>
                <Function test_string_representations_different>
              <Class TestNarrativeContextEdgeCasesAndBoundaryConditions>
                <Function test_creation_with_fixed_timestamp>
                <Function test_large_collections_handling>
                <Function test_decimal_precision_handling>
                <Function test_unicode_text_handling>
                <Function test_complex_metadata_handling>
              <Class TestNarrativeContextCollectionsAndComparison>
                <Function test_contexts_in_list>
                <Function test_contexts_sorting_by_influence_strength>
                <Function test_context_equality_identity>
                <Function test_context_inequality>
                <Function test_context_hashing_consistency>
                <Function test_contexts_in_set>
                <Function test_contexts_as_dict_keys>
            <Module test_narrative_id_value_object.py>
              <Class TestNarrativeIdCreation>
                <Function test_create_with_uuid>
                <Function test_create_with_specific_uuid>
                <Function test_frozen_dataclass_immutability>
                <Function test_class_metadata>
              <Class TestNarrativeIdValidation>
                <Function test_invalid_uuid_type_string>
                <Function test_invalid_uuid_type_integer>
                <Function test_invalid_uuid_type_none>
                <Function test_invalid_uuid_type_dict>
                <Function test_invalid_uuid_type_list>
              <Class TestNarrativeIdFactoryMethods>
                <Function test_generate_creates_unique_ids>
                <Function test_from_string_valid_uuid>
                <Function test_from_string_uppercase_uuid>
                <Function test_from_string_without_dashes>
                <Function test_from_string_invalid_format>
                <Function test_from_string_none>
                <Function test_from_string_non_string_type>
              <Class TestNarrativeIdStringRepresentation>
                <Function test_str_representation>
                <Function test_str_representation_generated>
                <Function test_repr_representation>
                <Function test_to_string_method>
              <Class TestNarrativeIdEquality>
                <Function test_equality_same_uuid>
                <Function test_equality_different_uuids>
                <Function test_equality_with_non_narrative_id>
                <Function test_equality_reflexive>
                <Function test_equality_symmetric>
                <Function test_equality_transitive>
              <Class TestNarrativeIdHashing>
                <Function test_hash_consistency>
                <Function test_hash_equality_implies_same_hash>
                <Function test_hash_different_for_different_uuids>
                <Function test_usable_as_dict_key>
                <Function test_usable_in_set>
              <Class TestNarrativeIdRoundTripConversion>
                <Function test_generate_to_string_to_from_string>
                <Function test_from_string_to_string_consistency>
                <Function test_uuid_to_narrative_id_to_string>
                <Function test_multiple_round_trips>
              <Class TestNarrativeIdEdgeCases>
                <Function test_nil_uuid>
                <Function test_max_uuid>
                <Function test_uuid_versions>
                <Function test_case_insensitive_from_string>
                <Function test_compact_uuid_string>
                <Function test_memory_efficiency>
              <Class TestNarrativeIdCollections>
                <Function test_list_operations>
                <Function test_set_operations>
                <Function test_dict_key_operations>
                <Function test_sorting>
              <Class TestNarrativeIdContextMetadata>
                <Function test_context_name_metadata>
                <Function test_type_name_metadata>
                <Function test_metadata_is_class_variable>
                <Function test_metadata_immutability>
            <Module test_narrative_theme_value_object.py>
              <Class TestThemeTypeEnum>
                <Function test_all_theme_types_exist>
                <Function test_theme_type_string_values>
                <Function test_theme_type_uniqueness>
                <Function test_theme_type_membership>
              <Class TestThemeIntensityEnum>
                <Function test_all_intensity_levels_exist>
                <Function test_intensity_string_values>
                <Function test_intensity_logical_ordering>
              <Class TestNarrativeThemeCreation>
                <Function test_create_minimal_narrative_theme>
                <Function test_create_comprehensive_narrative_theme>
                <Function test_default_values_initialization>
                <Function test_frozen_dataclass_immutability>
              <Class TestNarrativeThemeValidation>
                <Function test_empty_name_validation>
                <Function test_whitespace_only_name_validation>
                <Function test_empty_description_validation>
                <Function test_whitespace_only_description_validation>
                <Function test_negative_sequence_validation>
                <Function test_zero_sequence_allowed>
                <Function test_moral_complexity_below_minimum_validation>
                <Function test_moral_complexity_above_maximum_validation>
                <Function test_emotional_resonance_boundary_validation>
                <Function test_universal_appeal_boundary_validation>
                <Function test_valid_decimal_boundary_values>
                <Function test_audience_relevance_boundary_validation>
                <Function test_valid_audience_relevance_boundaries>
                <Function test_string_length_validations>
                <Function test_valid_string_length_boundaries>
              <Class TestNarrativeThemeProperties>
                <Function test_is_major_theme_for_major_intensities>
                <Function test_is_major_theme_false_for_minor_intensities>
                <Function test_is_central_theme_true_for_central>
                <Function test_is_central_theme_false_for_non_central>
                <Function test_has_symbolic_representation_with_elements>
                <Function test_has_symbolic_representation_with_flag>
                <Function test_has_symbolic_representation_false>
                <Function test_has_character_expression_with_arc_flag>
                <Function test_has_character_expression_with_archetypes>
                <Function test_has_character_expression_false>
                <Function test_spans_full_narrative_true>
                <Function test_spans_full_narrative_false_missing_intro>
                <Function test_spans_full_narrative_false_missing_resolution>
                <Function test_spans_full_narrative_false_both_none>
              <Class TestThematicComplexityScore>
                <Function test_base_complexity_only>
                <Function test_complexity_with_expression_methods>
                <Function test_complexity_with_theme_relationships>
                <Function test_complexity_with_all_bonuses>
                <Function test_complexity_capping_at_ten>
              <Class TestNarrativeImpactScore>
                <Function test_impact_score_subtle_intensity>
                <Function test_impact_score_central_intensity>
                <Function test_impact_score_overwhelming_intensity>
                <Function test_impact_score_all_intensities>
              <Class TestNarrativeThemeInstanceMethods>
                <Function test_conflicts_with_theme_true>
                <Function test_reinforces_theme_true>
                <Function test_has_symbolic_element_true>
                <Function test_has_related_motif_true>
                <Function test_uses_archetype_true>
                <Function test_get_audience_relevance_existing>
                <Function test_get_audience_relevance_default>
                <Function test_get_thematic_context>
              <Class TestNarrativeThemeFactoryMethods>
                <Function test_with_updated_intensity_change_intensity>
                <Function test_with_updated_intensity_immutability>
                <Function test_with_updated_intensity_collections_copied>
                <Function test_with_updated_intensity_preserves_metadata>
              <Class TestNarrativeThemeStringRepresentation>
                <Function test_str_representation>
                <Function test_repr_representation>
                <Function test_string_representations_different>
              <Class TestNarrativeThemeEdgeCasesAndBoundaryConditions>
                <Function test_creation_with_fixed_timestamp>
                <Function test_large_collections_handling>
                <Function test_decimal_precision_handling>
                <Function test_unicode_text_handling>
                <Function test_complex_metadata_handling>
              <Class TestNarrativeThemeCollectionsAndComparison>
                <Function test_themes_in_list>
                <Function test_themes_sorting_by_impact_score>
                <Function test_theme_equality_identity>
                <Function test_theme_inequality>
                <Function test_theme_hashing_consistency>
                <Function test_themes_in_set>
                <Function test_themes_as_dict_keys>
            <Module test_plot_point_value_object.py>
              <Class TestPlotPointTypeEnum>
                <Function test_all_enum_values_exist>
                <Function test_enum_string_values>
                <Function test_enum_uniqueness>
                <Function test_enum_membership>
              <Class TestPlotPointImportanceEnum>
                <Function test_all_importance_levels_exist>
                <Function test_importance_string_values>
                <Function test_importance_ordering_concept>
              <Class TestPlotPointCreation>
                <Function test_create_minimal_plot_point>
                <Function test_create_plot_point_with_all_fields>
                <Function test_default_values_initialization>
                <Function test_frozen_dataclass_immutability>
              <Class TestPlotPointValidation>
                <Function test_empty_title_validation>
                <Function test_whitespace_only_title_validation>
                <Function test_empty_description_validation>
                <Function test_whitespace_only_description_validation>
                <Function test_negative_sequence_order_validation>
                <Function test_zero_sequence_order_allowed>
                <Function test_negative_estimated_duration_validation>
                <Function test_zero_estimated_duration_validation>
                <Function test_none_estimated_duration_allowed>
                <Function test_emotional_intensity_below_minimum_validation>
                <Function test_emotional_intensity_above_maximum_validation>
                <Function test_dramatic_tension_boundary_validation>
                <Function test_story_significance_boundary_validation>
                <Function test_valid_intensity_boundary_values>
                <Function test_plot_point_id_max_length_validation>
                <Function test_title_max_length_validation>
                <Function test_description_max_length_validation>
                <Function test_valid_max_length_boundaries>
              <Class TestPlotPointProperties>
                <Function test_is_major_plot_point_critical>
                <Function test_is_major_plot_point_major>
                <Function test_is_major_plot_point_false_for_lower_importance>
                <Function test_is_climactic_true_for_climax>
                <Function test_is_climactic_false_for_non_climax>
                <Function test_is_turning_point_for_turning_point_types>
                <Function test_is_turning_point_false_for_non_turning_point_types>
                <Function test_has_prerequisites_with_events>
                <Function test_has_prerequisites_without_events>
                <Function test_has_consequences_with_events>
                <Function test_has_consequences_without_events>
                <Function test_affects_characters_with_characters>
                <Function test_affects_characters_without_characters>
              <Class TestPlotPointOverallImpactScore>
                <Function test_critical_importance_impact_score>
                <Function test_major_importance_impact_score>
                <Function test_supplemental_importance_impact_score>
                <Function test_impact_score_boundary_values>
              <Class TestPlotPointInstanceMethods>
                <Function test_involves_character_true>
                <Function test_affects_theme_true>
                <Function test_has_tag_true>
                <Function test_get_narrative_context>
              <Class TestPlotPointFactoryMethods>
                <Function test_with_updated_intensity_single_value>
                <Function test_with_updated_intensity_multiple_values>
                <Function test_with_updated_intensity_none_values>
                <Function test_with_updated_intensity_immutability>
                <Function test_with_additional_characters_add_characters>
                <Function test_with_additional_characters_duplicate_characters>
                <Function test_with_additional_characters_empty_set>
                <Function test_with_additional_characters_immutability>
              <Class TestPlotPointStringRepresentation>
                <Function test_str_representation>
                <Function test_repr_representation>
                <Function test_string_representations_different>
              <Class TestPlotPointEdgeCasesAndBoundaryConditions>
                <Function test_creation_with_mock_timestamp>
                <Function test_large_collections_handling>
                <Function test_decimal_precision_handling>
                <Function test_unicode_text_handling>
                <Function test_complex_metadata_handling>
              <Class TestPlotPointCollectionsAndComparison>
                <Function test_plot_points_in_list>
                <Function test_plot_points_sorting_by_sequence>
                <Function test_plot_points_sorting_by_impact_score>
                <Function test_plot_point_equality_identity>
                <Function test_plot_point_inequality>
                <Function test_plot_point_hashing_consistency>
                <Function test_plot_points_in_set>
                <Function test_plot_points_as_dict_keys>
            <Module test_story_pacing_value_object.py>
              <Class TestPacingTypeEnum>
                <Function test_all_pacing_types_exist>
                <Function test_pacing_type_string_values>
                <Function test_pacing_type_uniqueness>
                <Function test_pacing_type_membership>
              <Class TestPacingIntensityEnum>
                <Function test_all_intensity_levels_exist>
                <Function test_intensity_string_values>
                <Function test_intensity_logical_ordering>
                <Function test_intensity_uniqueness>
                <Function test_intensity_membership>
              <Class TestStoryPacingCreation>
                <Function test_create_minimal_story_pacing>
                <Function test_create_full_story_pacing>
                <Function test_automatic_timestamp_generation>
                <Function test_frozen_dataclass_immutability>
              <Class TestStoryPacingValidation>
                <Function test_empty_pacing_id_raises_error>
                <Function test_invalid_sequence_numbers_raise_errors>
                <Function test_invalid_ratios_raise_errors>
                <Function test_valid_ratio_sum_tolerance>
                <Function test_invalid_scale_values_raise_errors>
                <Function test_invalid_frequency_and_intensity_values_raise_errors>
                <Function test_negative_count_values_raise_errors>
                <Function test_invalid_tension_curve_values_raise_errors>
                <Function test_invalid_peak_positions_raise_errors>
                <Function test_invalid_rest_positions_raise_errors>
                <Function test_string_length_constraints>
              <Class TestStoryPacingProperties>
                <Function test_segment_length_property>
                <Function test_boolean_properties>
                <Function test_intensity_classification_properties>
                <Function test_tension_properties_with_empty_curve>
                <Function test_tension_properties_with_curve>
                <Function test_tension_properties_single_value>
                <Function test_pacing_complexity_score>
                <Function test_engagement_score>
              <Class TestStoryPacingMethods>
                <Function test_contains_sequence>
                <Function test_get_tension_at_sequence_no_curve>
                <Function test_get_tension_at_sequence_outside_range>
                <Function test_get_tension_at_sequence_single_value>
                <Function test_get_tension_at_sequence_interpolation>
                <Function test_is_emotional_peak>
                <Function test_is_rest_period>
                <Function test_get_pacing_context>
              <Class TestStoryPacingStringRepresentation>
                <Function test_str_representation_with_segment_name>
                <Function test_str_representation_without_segment_name>
                <Function test_repr_representation>
              <Class TestStoryPacingEquality>
                <Function test_equality_same_values>
                <Function test_inequality_different_values>
                <Function test_equality_in_collections>
              <Class TestStoryPacingEdgeCases>
                <Function test_minimum_valid_segment>
                <Function test_large_segment>
                <Function test_extreme_ratio_values>
                <Function test_extreme_scale_values>
                <Function test_complex_tension_curve_interpolation>
        <Package subjective>
          <Package application>
            <Module test_subjective_application_service.py>
              <Class TestSubjectiveApplicationServiceInitialization>
                <Function test_initialization_with_all_dependencies>
                <Function test_initialization_with_minimal_dependencies>
                <Function test_command_handler_registry_initialization>
              <Class TestTurnBriefOperations>
                <Function test_create_turn_brief_for_entity_success>
                <Function test_create_turn_brief_with_minimal_parameters>
                <Function test_create_turn_brief_command_handler_exception>
                <Function test_get_turn_brief_by_entity_id_found>
                <Function test_get_turn_brief_by_entity_id_not_found>
                <Function test_delete_turn_brief_success>
                <Function test_delete_turn_brief_not_found>
                <Function test_delete_turn_brief_repository_failure>
              <Class TestPerceptionOperations>
                <Function test_update_perception_capabilities_success>
                <Function test_update_perception_capabilities_entity_not_found>
                <Function test_add_perception_success>
                <Function test_add_perception_minimal_parameters>
                <Function test_add_perception_entity_not_found>
                <Function test_add_perception_invalid_command>
              <Class TestAwarenessOperations>
                <Function test_update_awareness_state_success>
              <Class TestFogOfWarOperations>
                <Function test_update_fog_of_war_success>
              <Class TestErrorHandling>
                <Function test_repository_exception_propagation>
                <Function test_command_handler_exception_propagation>
                <Function test_invalid_parameter_handling>
              <Class TestIntegrationScenarios>
                <Function test_entity_lifecycle_scenario>
                <Function test_error_recovery_scenario>
          <Package domain>
            <Module test_awareness_value_object.py>
              <Class TestAwarenessStateCreation>
                <Function test_minimal_awareness_state_creation>
                <Function test_full_awareness_state_creation>
                <Function test_awareness_modifiers_none_initialization>
                <Function test_awareness_modifiers_list_conversion>
              <Class TestAwarenessStateValidation>
                <Function test_invalid_awareness_modifier_type>
                <Function test_invalid_modifier_value_type>
                <Function test_modifier_value_out_of_range_positive>
                <Function test_modifier_value_out_of_range_negative>
                <Function test_fatigue_level_negative>
                <Function test_fatigue_level_too_high>
                <Function test_stress_level_negative>
                <Function test_stress_level_too_high>
                <Function test_target_specific_focus_requires_target>
                <Function test_target_specific_focus_with_target_succeeds>
              <Class TestCalculateEffectiveAlertness>
                <Function test_no_modifiers_returns_current_alertness>
                <Function test_fatigue_reduces_alertness>
                <Function test_stress_moderate_increases_alertness>
                <Function test_stress_extreme_decreases_alertness>
                <Function test_positive_modifiers_increase_alertness>
                <Function test_negative_modifiers_decrease_alertness>
                <Function test_fear_positive_increases_alertness>
                <Function test_fear_negative_decreases_alertness>
                <Function test_alertness_clamping_maximum>
                <Function test_alertness_clamping_minimum>
              <Class TestPerceptionBonus>
                <Function test_unconscious_severe_penalty>
                <Function test_sleeping_heavy_penalty>
                <Function test_relaxed_neutral_bonus>
                <Function test_vigilant_high_bonus>
                <Function test_target_specific_focus_bonus>
                <Function test_task_focused_penalty>
                <Function test_environmental_focus_bonus>
                <Function test_combined_alertness_and_focus_bonus>
              <Class TestReactionTimeModifier>
                <Function test_unconscious_no_reaction>
                <Function test_sleeping_very_slow_reaction>
                <Function test_vigilant_fast_reaction>
                <Function test_fatigue_penalty_on_reaction_time>
                <Function test_optimal_stress_level_reaction>
              <Class TestStealthDetection>
                <Function test_unconscious_cannot_detect_stealth>
                <Function test_sleeping_cannot_detect_stealth>
                <Function test_threat_scanning_can_detect_stealth>
                <Function test_environmental_focus_can_detect_stealth>
                <Function test_high_alertness_can_detect_stealth>
                <Function test_low_alertness_cannot_detect_stealth_normally>
              <Class TestCombatSurprise>
                <Function test_unconscious_always_surprised>
                <Function test_sleeping_always_surprised>
                <Function test_task_focused_more_likely_surprised>
                <Function test_only_drowsy_surprised_when_not_task_focused>
                <Function test_high_alertness_not_surprised>
              <Class TestImmutableOperations>
                <Function test_with_modified_alertness_creates_new_instance>
                <Function test_with_focus_change_creates_new_instance>
                <Function test_with_added_modifier_creates_new_instance>
                <Function test_with_added_modifier_overwrites_existing>
              <Class TestComplexScenarios>
                <Function test_exhausted_guard_scenario>
                <Function test_enhanced_sentinel_scenario>
                <Function test_terrified_civilian_scenario>
                <Function test_focused_researcher_scenario>
              <Class TestEdgeCases>
                <Function test_all_modifier_types_combined>
                <Function test_boundary_modifier_values>
                <Function test_empty_string_focus_target>
                <Function test_very_long_focus_target>
              <Class TestEquality>
                <Function test_identical_states_are_equal>
                <Function test_different_alertness_not_equal>
                <Function test_different_modifiers_not_equal>
            <Module test_knowledge_level_value_object.py>
              <Class TestKnowledgeItemCreation>
                <Function test_minimal_knowledge_item_creation>
                <Function test_full_knowledge_item_creation>
                <Function test_tags_none_initialization>
                <Function test_tags_list_conversion>
              <Class TestKnowledgeItemValidation>
                <Function test_empty_subject_validation>
                <Function test_whitespace_subject_validation>
                <Function test_empty_information_validation>
                <Function test_whitespace_information_validation>
                <Function test_expiration_before_acquisition_validation>
                <Function test_expiration_equal_to_acquisition_validation>
              <Class TestKnowledgeItemBusinessLogic>
                <Function test_is_current_no_expiration>
                <Function test_is_current_before_expiration>
                <Function test_is_current_after_expiration>
                <Function test_is_current_default_time>
                <Function test_get_reliability_score_absolute_direct>
                <Function test_get_reliability_score_high_certainty_ally_report>
                <Function test_get_reliability_score_low_certainty_enemy_report>
                <Function test_get_reliability_score_unknown_certainty>
                <Function test_has_tag_existing>
                <Function test_has_tag_nonexistent>
                <Function test_has_tag_empty_tags>
              <Class TestKnowledgeItemImmutableOperations>
                <Function test_with_updated_certainty_creates_new_instance>
                <Function test_with_updated_certainty_and_source>
              <Class TestKnowledgeBaseCreation>
                <Function test_empty_knowledge_base_creation>
                <Function test_knowledge_base_with_items>
              <Class TestKnowledgeBaseValidation>
                <Function test_invalid_knowledge_items_type>
                <Function test_invalid_subject_items_type>
                <Function test_invalid_knowledge_item_type>
                <Function test_knowledge_item_subject_mismatch>
              <Class TestKnowledgeBaseQuerying>
                <Function test_get_knowledge_about_existing_subject>
                <Function test_get_knowledge_about_nonexistent_subject>
                <Function test_get_knowledge_about_with_min_reliability>
                <Function test_get_knowledge_about_sorting>
                <Function test_get_most_reliable_knowledge_existing>
                <Function test_get_most_reliable_knowledge_nonexistent>
                <Function test_has_knowledge_about_with_sufficient_certainty>
                <Function test_has_knowledge_about_insufficient_certainty>
                <Function test_has_knowledge_about_nonexistent>
              <Class TestKnowledgeBaseFiltering>
                <Function test_get_subjects_by_type>
                <Function test_get_subjects_by_tag>
                <Function test_get_knowledge_by_source>
                <Function test_get_stale_knowledge>
              <Class TestKnowledgeBaseImmutableOperations>
                <Function test_add_knowledge_creates_new_instance>
                <Function test_add_knowledge_to_existing_subject>
                <Function test_update_knowledge>
                <Function test_update_knowledge_subject_mismatch>
              <Class TestKnowledgeBaseStatistics>
                <Function test_get_total_knowledge_count>
                <Function test_get_subjects_count>
                <Function test_empty_knowledge_base_statistics>
              <Class TestComplexScenarios>
                <Function test_intelligence_gathering_scenario>
                <Function test_information_expiry_scenario>
            <Module test_perception_range_value_object.py>
              <Class TestPerceptionRangeCreation>
                <Function test_minimal_perception_range_creation>
                <Function test_full_perception_range_creation>
                <Function test_zero_ranges_allowed>
              <Class TestPerceptionRangeValidation>
                <Function test_negative_base_range_validation>
                <Function test_negative_effective_range_validation>
                <Function test_accuracy_modifier_below_zero>
                <Function test_accuracy_modifier_above_one>
                <Function test_empty_environmental_modifier_name>
                <Function test_whitespace_environmental_modifier_name>
                <Function test_non_string_environmental_modifier_name>
                <Function test_non_numeric_environmental_modifier_value>
                <Function test_boundary_accuracy_modifier_values>
              <Class TestVisibilityCalculation>
                <Function test_visibility_at_zero_distance>
                <Function test_visibility_beyond_effective_range>
                <Function test_visibility_within_range_perfect_conditions>
                <Function test_visibility_with_environmental_degradation>
                <Function test_visibility_with_low_accuracy>
                <Function test_visibility_level_thresholds>
              <Class TestPerceptionRangeUtilityMethods>
                <Function test_is_within_range_true>
                <Function test_is_within_range_false>
                <Function test_apply_environmental_modifier_creates_new_instance>
                <Function test_apply_environmental_modifier_overwrites_existing>
              <Class TestPerceptionCapabilitiesCreation>
                <Function test_minimal_perception_capabilities_creation>
                <Function test_full_perception_capabilities_creation>
              <Class TestPerceptionCapabilitiesValidation>
                <Function test_empty_perception_ranges_validation>
                <Function test_invalid_perception_type_key>
                <Function test_invalid_perception_range_value>
                <Function test_perception_type_mismatch>
                <Function test_negative_passive_awareness_bonus>
                <Function test_zero_focused_perception_multiplier>
                <Function test_negative_focused_perception_multiplier>
              <Class TestPerceptionCapabilitiesBusinessLogic>
                <Function test_get_best_visibility_no_focus>
                <Function test_get_best_visibility_with_focus>
                <Function test_get_best_visibility_beyond_all_ranges>
                <Function test_get_maximum_range>
                <Function test_get_maximum_range_empty_ranges>
                <Function test_has_perception_type>
                <Function test_get_perception_types>
              <Class TestComplexPerceptionScenarios>
                <Function test_stealth_detection_scenario>
                <Function test_environmental_adaptation_scenario>
                <Function test_focused_perception_effectiveness>
                <Function test_multi_sense_compensation_scenario>
              <Class TestEdgeCasesAndBoundaryConditions>
                <Function test_zero_effective_range_perception>
                <Function test_zero_accuracy_perception>
                <Function test_extreme_environmental_modifiers>
                <Function test_very_large_distances>
                <Function test_negative_distances>
                <Function test_focused_perception_on_nonexistent_type>
            <Module test_subjective_id_value_object.py>
              <Class TestSubjectiveIdCreation>
                <Function test_create_with_uuid>
                <Function test_create_with_specific_uuid>
                <Function test_frozen_dataclass_immutability>
              <Class TestSubjectiveIdValidation>
                <Function test_invalid_uuid_type_string>
                <Function test_invalid_uuid_type_integer>
                <Function test_invalid_uuid_type_none>
                <Function test_invalid_uuid_type_dict>
                <Function test_invalid_uuid_type_list>
              <Class TestSubjectiveIdFactoryMethods>
                <Function test_generate_creates_unique_ids>
                <Function test_from_string_valid_uuid>
                <Function test_from_string_uppercase_uuid>
                <Function test_from_string_without_dashes>
                <Function test_from_string_invalid_format>
                <Function test_from_string_none>
                <Function test_from_string_non_string_type>
              <Class TestSubjectiveIdStringRepresentation>
                <Function test_str_representation>
                <Function test_str_representation_generated>
                <Function test_repr_not_implemented>
              <Class TestSubjectiveIdEquality>
                <Function test_equality_same_uuid>
                <Function test_equality_different_uuids>
                <Function test_equality_with_non_subjective_id>
                <Function test_equality_reflexive>
                <Function test_equality_symmetric>
                <Function test_equality_transitive>
              <Class TestSubjectiveIdHashing>
                <Function test_hash_consistency>
                <Function test_hash_equality_implies_same_hash>
                <Function test_hash_different_for_different_uuids>
                <Function test_usable_as_dict_key>
                <Function test_usable_in_set>
              <Class TestSubjectiveIdRoundTripConversion>
                <Function test_generate_to_string_to_from_string>
                <Function test_from_string_to_string_consistency>
                <Function test_uuid_to_subjective_id_to_string>
                <Function test_multiple_round_trips>
              <Class TestSubjectiveIdEdgeCases>
                <Function test_nil_uuid>
                <Function test_max_uuid>
                <Function test_uuid_versions>
                <Function test_case_insensitive_from_string>
                <Function test_compact_uuid_string>
                <Function test_memory_efficiency>
              <Class TestSubjectiveIdCollections>
                <Function test_list_operations>
                <Function test_set_operations>
                <Function test_dict_key_operations>
                <Function test_sorting>
        <Package world>
          <Package domain>
            <Module test_coordinates_value_object.py>
              <Class TestCoordinatesValueObject>
                <Function test_coordinates_creation_success>
                <Function test_coordinates_creation_default_z>
                <Function test_coordinates_creation_default_precision>
                <Function test_coordinates_precision_rounding>
                <Function test_coordinates_validation_invalid_types>
                <Function test_coordinates_validation_nan_values>
                <Function test_coordinates_validation_infinite_values>
                <Function test_coordinates_validation_precision_invalid_type>
                <Function test_coordinates_validation_precision_out_of_range>
                <Function test_coordinates_validation_extreme_values>
                <Function test_distance_to_3d>
                <Function test_distance_to_3d_with_z>
                <Function test_distance_to_same_point>
                <Function test_distance_to_invalid_type>
                <Function test_distance_to_2d>
                <Function test_distance_to_2d_same_point>
                <Function test_distance_to_2d_invalid_type>
                <Function test_manhattan_distance_to>
                <Function test_manhattan_distance_same_point>
                <Function test_manhattan_distance_invalid_type>
                <Function test_is_within_range_true>
                <Function test_is_within_range_false>
                <Function test_is_within_range_exact_boundary>
                <Function test_is_within_range_negative_distance_fails>
                <Function test_translate>
                <Function test_translate_default_dz>
                <Function test_midpoint>
                <Function test_midpoint_same_point>
                <Function test_midpoint_invalid_type>
                <Function test_to_tuple>
                <Function test_to_tuple_2d>
                <Function test_to_dict>
                <Function test_from_tuple_2d>
                <Function test_from_tuple_3d>
                <Function test_from_tuple_invalid_length>
                <Function test_from_dict_complete>
                <Function test_from_dict_minimal>
                <Function test_from_dict_missing_required>
                <Function test_origin_factory>
                <Function test_origin_default_precision>
                <Function test_addition>
                <Function test_addition_invalid_type>
                <Function test_subtraction>
                <Function test_subtraction_invalid_type>
                <Function test_multiplication_by_scalar>
                <Function test_multiplication_by_integer>
                <Function test_multiplication_invalid_type>
                <Function test_right_multiplication>
                <Function test_str_representation>
                <Function test_repr_representation>
                <Function test_immutability_frozen_dataclass>
                <Function test_operations_create_new_instances>
                <Function test_equality>
                <Function test_equality_different_precision>
                <Function test_hash_consistency>
                <Function test_hashable_in_set>
                <Function test_precision_zero>
                <Function test_precision_maximum>
                <Function test_very_small_coordinates>
                <Function test_boundary_coordinate_values>
                <Function test_distance_calculations_with_precision>
                <Function test_complex_mathematical_operations>
            <Module test_world_state_aggregate.py>
              <Class TestWorldStateAggregate>
                <Function test_world_state_initialization>
                <Function test_world_state_auto_name_generation>
                <Function test_world_state_validation_empty_name>
                <Function test_world_state_validation_future_time>
                <Function test_world_state_validation_entity_limit>
                <Function test_activate_world_state>
                <Function test_pause_world_state>
                <Function test_pause_non_active_world_state>
                <Function test_archive_world_state>
                <Function test_add_entity_success>
                <Function test_add_duplicate_entity_fails>
                <Function test_remove_entity_success>
                <Function test_remove_nonexistent_entity>
                <Function test_move_entity_success>
                <Function test_move_nonexistent_entity>
                <Function test_update_entity_success>
                <Function test_update_nonexistent_entity>
                <Function test_get_entity_success>
                <Function test_get_nonexistent_entity>
                <Function test_get_entities_by_type>
                <Function test_get_entities_in_area>
                <Function test_get_entities_in_area_with_type_filter>
                <Function test_get_entities_at_coordinates_exact>
                <Function test_get_entities_at_coordinates_with_tolerance>
                <Function test_advance_time_success>
                <Function test_advance_time_backwards_fails>
                <Function test_advance_time_same_time_fails>
                <Function test_update_environment_success>
                <Function test_update_environment_merge_properties>
                <Function test_get_spatial_grid_key>
                <Function test_get_spatial_grid_key_negative_coordinates>
                <Function test_add_to_spatial_index>
                <Function test_remove_from_spatial_index>
                <Function test_remove_from_spatial_index_nonexistent>
                <Function test_get_entities_from_spatial_index>
                <Function test_create_snapshot>
                <Function test_reset_state_preserve_entities>
                <Function test_reset_state_clear_entities>
                <Function test_get_statistics>
                <Function test_domain_events_generation>
                <Function test_domain_events_clear>
                <Function test_has_domain_events>
                <Function test_entity_operations_empty_spatial_index>
                <Function test_large_coordinate_values>
                <Function test_boundary_spatial_grid>
                <Function test_concurrent_entity_modifications>
                <Function test_entity_id_consistency>
                <Function test_world_state_version_consistency>
                <Function test_complete_entity_lifecycle>
                <Function test_spatial_query_integration>
                <Function test_environment_and_time_integration>
      <Module test_character_factory.py>
        <Class TestCharacterFactory>
          <Function test_factory_initialization_success>
          <Function test_factory_initialization_no_event_bus>
          <Function test_create_character_success>
          <Function test_create_character_not_found>
          <Function test_create_character_invalid_name>
          <Function test_load_character_data_success>
          <Function test_validate_character_directory_success>
          <Function test_validate_character_directory_invalid>
          <Function test_character_factory_error_handling>
          <Function test_multiple_character_creation>
        <Class TestCharacterFactoryConfiguration>
          <Function test_factory_with_different_configurations>
          <Function test_factory_character_path_resolution>
        <Class TestCharacterFactoryPerformance>
          <Function test_character_creation_performance>
      <Module test_director_agent_advanced.py>
        <Class TestDirectorAgentKnowledgeSystem>
          <Function test_retrieve_relevant_knowledge_rag_no_knowledge_base>
          <Function test_create_default_knowledge_fragments>
          <Function test_extract_rag_context_keywords>
          <Function test_rank_knowledge_fragments>
        <Class TestDirectorAgentNarrativeEngine>
          <Function test_narrative_resolver_initialization>
          <Function test_story_state_tracking>
          <Function test_world_state_tracker_initialization>
          <Function test_campaign_brief_integration>
        <Class TestDirectorAgentWorldStateManagement>
          <Function test_world_state_data_initialization>
          <Function test_world_state_file_handling>
          <Function test_initialize_default_world_state>
          <Function test_world_state_persistence_methods>
        <Class TestDirectorAgentAgentOrchestration>
          <Function test_agent_registration_capacity>
          <Function test_agent_validation_system>
          <Function test_turn_orchestration_workflow>
          <Function test_error_tracking_system>
          <Function test_simulation_state_tracking>
          <Function test_configuration_driven_parameters>
        <Class TestDirectorAgentEventHandling>
          <Function test_event_bus_integration>
          <Function test_agent_action_handling>
          <Function test_turn_start_event_emission>
          <Function test_event_logging_integration>
      <Module test_director_agent_comprehensive.py>
        <Class TestDirectorAgentInitialization>
          <Function test_initialization_with_valid_config>
          <Function test_initialization_without_config>
          <Function test_initialization_with_world_state_file>
          <Function test_initialization_with_campaign_brief>
          <Function test_initialization_event_bus_subscription>
        <Class TestDirectorAgentRegistration>
          <Function test_register_agent_success>
          <Function test_register_agent_validation_checks>
          <Function test_register_multiple_agents>
          <Function test_register_agent_duplicate_handling>
          <Function test_register_agent_character_data_validation>
        <Class TestDirectorAgentTurnExecution>
          <Function test_run_turn_with_registered_agents>
          <Function test_run_turn_no_agents>
          <Function test_run_turn_agent_error_handling>
        <Class TestDirectorAgentLogging>
          <Function test_campaign_log_initialization>
          <Function test_campaign_log_creation_with_existing_file>
          <Function test_log_event_functionality>
          <Function test_turn_logging_integration>
        <Class TestDirectorAgentWorldState>
          <Function test_world_state_loading_existing_file>
          <Function test_world_state_initialization_missing_file>
          <Function test_world_state_agent_specific_generation>
      <Module test_persona_agent_comprehensive.py>
        <Class TestPersonaAgentInitialization>
          <Function test_initialization_with_valid_character_directory>
          <Function test_initialization_auto_generate_agent_id>
          <Function test_initialization_missing_character_directory>
          <Function test_initialization_empty_character_directory>
          <Function test_event_bus_subscription>
        <Class TestPersonaAgentCharacterLoading>
          <Function test_character_data_parsing_basic_info>
          <Function test_character_data_parsing_personality_traits>
          <Function test_character_data_parsing_malformed_content>
          <Function test_multiple_character_files_handling>
        <Class TestPersonaAgentDecisionMaking>
          <Function test_handle_turn_start_basic_functionality>
          <Function test_handle_turn_start_no_action>
          <Function test_make_decision_with_valid_world_state>
          <Function test_decision_making_error_handling>
        <Class TestPersonaAgentWorldInterpretation>
          <Function test_subjective_worldview_initialization>
          <Function test_world_event_interpretation_methods>
          <Function test_threat_assessment_capability>
        <Class TestPersonaAgentAIIntegration>
          <Function test_ai_api_key_validation>
          <Function test_ai_integration_fallback_behavior>
          <Function test_ai_request_handling_with_mock>
        <Class TestPersonaAgentMemoryAndEvolution>
          <Function test_memory_system_initialization>
          <Function test_character_evolution_tracking>
          <Function test_memory_persistence_capability>
      <Module test_unit_api_server.py>
        <Class TestAPIServerEndpoints>
          <Function test_root_endpoint_success>
          <Function test_health_endpoint_success>
          <Function test_health_endpoint_config_error>
          <Function test_characters_endpoint_empty_directory>
          <Function test_characters_endpoint_populated_directory>
          <Function test_characters_endpoint_directory_not_found>
          <Function test_character_detail_endpoint_success>
          <Function test_character_detail_endpoint_not_found>
          <Function test_simulations_endpoint_valid_request>
          <Function test_simulations_endpoint_invalid_request_empty_characters>
          <Function test_simulations_endpoint_invalid_request_too_many_characters>
          <Function test_simulations_endpoint_character_not_found>
          <Function test_campaigns_endpoint_success>
          <Function test_create_campaign_endpoint_success>
          <Function test_health_endpoint_severe_error>
          <Function test_characters_endpoint_permission_error>
          <Function test_characters_endpoint_unexpected_error>
          <Function test_simulations_endpoint_empty_character_list>
          <Function test_simulations_endpoint_character_loading_failure>
          <Function test_simulations_endpoint_director_turn_failure>
          <Function test_simulations_endpoint_story_generation_failure>
          <Function test_character_detail_endpoint_unexpected_error>
          <Function test_campaigns_endpoint_file_system_error>
          <Function test_create_campaign_endpoint_file_creation_failure>
        <Class TestAPIServerErrorHandling>
          <Function test_404_endpoint_not_found>
          <Function test_405_method_not_allowed>
          <Function test_422_validation_error>
        <Class TestAPIServerSecurity>
          <Function test_cors_headers_present>
          <Function test_input_validation_sql_injection_attempt>
          <Function test_input_validation_xss_attempt>
          <Function test_path_traversal_protection>
          <Function test_large_payload_handling>
        <Class TestAPIServerPerformance>
          <Function test_health_endpoint_response_time>
          <Function test_characters_endpoint_response_time>
          <Function test_concurrent_health_checks>
      <Module test_unit_chronicler_agent.py>
        <Class TestChroniclerAgent>
          <Function test_chronicler_initialization_success>
          <Function test_chronicler_initialization_no_event_bus>
          <Function test_chronicler_initialization_no_characters>
          <Function test_transcribe_log_success>
          <Function test_transcribe_log_file_not_found>
          <Function test_transcribe_log_empty_file>
          <Function test_transcribe_log_api_failure>
          <Function test_transcribe_log_invalid_response>
          <Function test_log_content_processing>
          <Function test_character_name_integration>
        <Class TestChroniclerAgentAdvanced>
          <Function test_event_bus_integration>
          <Function test_story_quality_validation>
          <Function test_different_character_configurations>
          <Function test_large_log_file_handling>
        <Class TestChroniclerAgentPerformance>
          <Function test_transcription_performance>
          <Function test_multiple_transcriptions_performance>
      <Module test_unit_director_agent.py>
        <Class TestDirectorAgent>
          <Function test_director_initialization_success>
          <Function test_director_initialization_no_event_bus>
          <Function test_register_agent_success>
          <Function test_register_multiple_agents>
          <Function test_register_agent_duplicate>
          <Function test_register_agent_invalid_agent>
          <Function test_run_turn_success>
          <Function test_run_turn_no_agents>
          <Function test_run_turn_agent_failure>
          <Function test_campaign_logging>
        <Class TestDirectorAgentAdvanced>
          <Function test_event_bus_interaction>
          <Function test_director_state_management>
          <Function test_director_configuration_handling>
        <Class TestDirectorAgentPerformance>
          <Function test_agent_registration_performance>
          <Function test_turn_execution_performance>
  <Module validation_test.py>
    <Function test_imports>
    <Function test_refactored_director>
    <Function test_factory_functions>
  <Module wave7_platform_bypass_test.py>
    <Function test_world_router_import>
    <Function test_character_domain_direct>
    <Function test_character_application_direct>
    <Function test_infrastructure_files>
  <Module wave7_validation_test.py>
    <Function test_world_api_implementation>
    <Function test_character_domain_layer>
    <Function test_character_application_layer>
    <Function test_character_infrastructure_design>
    <Function test_api_server_integration>

=================================== ERRORS ====================================
____________ ERROR collecting ai_testing/complete_workflow_test.py ____________
ImportError while importing test module 'D:\Code\Novel-Engine\ai_testing\complete_workflow_test.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ai_testing\complete_workflow_test.py:9: in <module>
    from ai_complete_workflow import (
ai_testing\ai_complete_workflow.py:22: in <module>
    from playwright.async_api import Browser, Page, async_playwright
E   ModuleNotFoundError: No module named 'playwright'
____________ ERROR collecting ai_testing/final_integration_test.py ____________
ImportError while importing test module 'D:\Code\Novel-Engine\ai_testing\final_integration_test.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ai_testing\final_integration_test.py:14: in <module>
    from complete_workflow_test import CompleteNovelWorkflow
ai_testing\complete_workflow_test.py:9: in <module>
    from ai_complete_workflow import (
ai_testing\ai_complete_workflow.py:22: in <module>
    from playwright.async_api import Browser, Page, async_playwright
E   ModuleNotFoundError: No module named 'playwright'
___________ ERROR collecting ai_testing/test_wave3_improvements.py ____________
ImportError while importing test module 'D:\Code\Novel-Engine\ai_testing\test_wave3_improvements.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ai_testing\test_wave3_improvements.py:13: in <module>
    from complete_workflow_test import CompleteNovelWorkflow
ai_testing\complete_workflow_test.py:9: in <module>
    from ai_complete_workflow import (
ai_testing\ai_complete_workflow.py:22: in <module>
    from playwright.async_api import Browser, Page, async_playwright
E   ModuleNotFoundError: No module named 'playwright'
_ ERROR collecting contexts/orchestration/tests/test_end_to_end_validation.py _
ImportError while importing test module 'D:\Code\Novel-Engine\contexts\orchestration\tests\test_end_to_end_validation.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
contexts\orchestration\tests\test_end_to_end_validation.py:24: in <module>
    from contexts.orchestration.application.services import TurnOrchestrator
contexts\orchestration\application\__init__.py:18: in <module>
    from .services import TurnExecutionResult, TurnOrchestrator
contexts\orchestration\application\services\__init__.py:9: in <module>
    from .turn_orchestrator import TurnExecutionResult, TurnOrchestrator
contexts\orchestration\application\services\turn_orchestrator.py:16: in <module>
    from ...domain.services import (
contexts\orchestration\domain\services\__init__.py:13: in <module>
    from .enhanced_performance_tracker import EnhancedPerformanceTracker
contexts\orchestration\domain\services\enhanced_performance_tracker.py:15: in <module>
    from ...infrastructure.monitoring import PrometheusMetricsCollector
contexts\orchestration\infrastructure\monitoring\__init__.py:17: in <module>
    from .metrics_middleware import PrometheusMiddleware
contexts\orchestration\infrastructure\monitoring\metrics_middleware.py:14: in <module>
    from prometheus_client import Counter, Gauge, Histogram, Info
E   ModuleNotFoundError: No module named 'prometheus_client'
_ ERROR collecting contexts/orchestration/tests/test_prometheus_integration.py _
ImportError while importing test module 'D:\Code\Novel-Engine\contexts\orchestration\tests\test_prometheus_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
contexts\orchestration\tests\test_prometheus_integration.py:21: in <module>
    from contexts.orchestration.api.turn_api import app, enhanced_performance_tracker
contexts\orchestration\api\turn_api.py:19: in <module>
    from ..application.services import TurnOrchestrator
contexts\orchestration\application\__init__.py:18: in <module>
    from .services import TurnExecutionResult, TurnOrchestrator
contexts\orchestration\application\services\__init__.py:9: in <module>
    from .turn_orchestrator import TurnExecutionResult, TurnOrchestrator
contexts\orchestration\application\services\turn_orchestrator.py:16: in <module>
    from ...domain.services import (
contexts\orchestration\domain\services\__init__.py:13: in <module>
    from .enhanced_performance_tracker import EnhancedPerformanceTracker
contexts\orchestration\domain\services\enhanced_performance_tracker.py:15: in <module>
    from ...infrastructure.monitoring import PrometheusMetricsCollector
contexts\orchestration\infrastructure\monitoring\__init__.py:17: in <module>
    from .metrics_middleware import PrometheusMiddleware
contexts\orchestration\infrastructure\monitoring\metrics_middleware.py:14: in <module>
    from prometheus_client import Counter, Gauge, Histogram, Info
E   ModuleNotFoundError: No module named 'prometheus_client'
_ ERROR collecting tests/unit/contexts/interactions/application/test_interaction_application_service.py _
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\_pytest\python.py:498: in importtestmodule
    mod = import_path(
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\_pytest\pathlib.py:587: in import_path
    importlib.import_module(module_name)
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\_pytest\assertion\rewrite.py:177: in exec_module
    source_stat, co = _rewrite_test(fn, self.config)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\k7407\AppData\Roaming\Python\Python312\site-packages\_pytest\assertion\rewrite.py:357: in _rewrite_test
    tree = ast.parse(source, filename=strfn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Python312\Lib\ast.py:52: in parse
    return compile(source, filename, mode, flags,
E     File "D:\Code\Novel-Engine\tests\unit\contexts\interactions\application\test_interaction_application_service.py", line 26
E       from contexts.interactions.domain.repositories. import (
E                                                       ^^^^^^
E   SyntaxError: invalid syntax
____________ ERROR collecting tests/unit/quality/test_analyzer.py _____________
ImportError while importing test module 'D:\Code\Novel-Engine\tests\unit\quality\test_analyzer.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Python312\Lib\importlib\__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\unit\quality\test_analyzer.py:24: in <module>
    from quality.code_quality_analyzer import CodeQualityAnalyzer
E   ModuleNotFoundError: No module named 'quality.code_quality_analyzer'
============================== warnings summary ===============================
ai_testing\interfaces\service_contracts.py:83
  D:\Code\Novel-Engine\ai_testing\interfaces\service_contracts.py:83: PytestCollectionWarning: cannot collect test class 'TestScenario' because it has a __init__ constructor (from: ai_testing/test_scenarios/novel_engine_test.py)
    class TestScenario(BaseTestModel):

ai_testing\interfaces\service_contracts.py:32
  D:\Code\Novel-Engine\ai_testing\interfaces\service_contracts.py:32: PytestCollectionWarning: cannot collect test class 'TestType' because it has a __init__ constructor (from: ai_testing/test_scenarios/novel_engine_test.py)
    class TestType(str, Enum):

playwright_ai_validation_test.py:76
  D:\Code\Novel-Engine\playwright_ai_validation_test.py:76: PytestCollectionWarning: cannot collect test class 'TestResult' because it has a __init__ constructor (from: playwright_ai_validation_test.py)
    @dataclass

scripts\test_migration_utilities.py:17
  D:\Code\Novel-Engine\scripts\test_migration_utilities.py:17: PytestCollectionWarning: cannot collect test class 'TestMigrationUtilities' because it has a __init__ constructor (from: scripts/test_migration_utilities.py)
    class TestMigrationUtilities:

scripts\test_migration_validator.py:21
  D:\Code\Novel-Engine\scripts\test_migration_validator.py:21: PytestCollectionWarning: cannot collect test class 'TestMigrationValidator' because it has a __init__ constructor (from: scripts/test_migration_validator.py)
    class TestMigrationValidator:

tests\test_character_system_comprehensive.py:684
  D:\Code\Novel-Engine\tests\test_character_system_comprehensive.py:684: PytestUnknownMarkWarning: Unknown pytest.mark.character - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    pytestmark = [pytest.mark.character, pytest.mark.unit]

tests\test_integration_comprehensive.py:758
  D:\Code\Novel-Engine\tests\test_integration_comprehensive.py:758: PytestUnknownMarkWarning: Unknown pytest.mark.system - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    pytestmark = [pytest.mark.integration, pytest.mark.system, pytest.mark.e2e]

tests\test_integration_comprehensive.py:758
  D:\Code\Novel-Engine\tests\test_integration_comprehensive.py:758: PytestUnknownMarkWarning: Unknown pytest.mark.e2e - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    pytestmark = [pytest.mark.integration, pytest.mark.system, pytest.mark.e2e]

tests\test_story_generation_comprehensive.py:893
  D:\Code\Novel-Engine\tests\test_story_generation_comprehensive.py:893: PytestUnknownMarkWarning: Unknown pytest.mark.story - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    pytestmark = [pytest.mark.story, pytest.mark.narrative, pytest.mark.integration]

tests\test_story_generation_comprehensive.py:893
  D:\Code\Novel-Engine\tests\test_story_generation_comprehensive.py:893: PytestUnknownMarkWarning: Unknown pytest.mark.narrative - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    pytestmark = [pytest.mark.story, pytest.mark.narrative, pytest.mark.integration]

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR ai_testing/complete_workflow_test.py
ERROR ai_testing/final_integration_test.py
ERROR ai_testing/test_wave3_improvements.py
ERROR contexts/orchestration/tests/test_end_to_end_validation.py
ERROR contexts/orchestration/tests/test_prometheus_integration.py
ERROR tests/unit/contexts/interactions/application/test_interaction_application_service.py
ERROR tests/unit/quality/test_analyzer.py
!!!!!!!!!!!!!!!!!!! Interrupted: 7 errors during collection !!!!!!!!!!!!!!!!!!!
================== 2288 tests collected, 7 errors in 18.26s ===================
